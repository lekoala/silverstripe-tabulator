{
  "version": 3,
  "sources": ["src/core/defaults/options.js", "src/core/CoreFeature.js", "src/core/column/ColumnComponent.js", "src/core/column/defaults/options.js", "src/core/cell/CellComponent.js", "src/core/cell/Cell.js", "src/core/column/Column.js", "src/core/tools/Helpers.js", "src/core/tools/OptionsList.js", "src/core/rendering/Renderer.js", "src/core/rendering/renderers/BasicHorizontal.js", "src/core/rendering/renderers/VirtualDomHorizontal.js", "src/core/ColumnManager.js", "src/core/row/RowComponent.js", "src/core/row/Row.js", "src/core/rendering/renderers/BasicVertical.js", "src/core/rendering/renderers/VirtualDomVertical.js", "src/core/RowManager.js", "src/core/FooterManager.js", "src/core/tools/InteractionMonitor.js", "src/core/tools/ComponentFunctionBinder.js", "src/core/tools/DataLoader.js", "src/core/tools/ExternalEventBus.js", "src/core/tools/InternalEventBus.js", "src/core/tools/TableRegistry.js", "src/core/modules/core.js", "src/core/tools/Popup.js", "src/core/Module.js", "src/modules/Layout/defaults/modes/fitData.js", "src/modules/Layout/defaults/modes/fitDataGeneral.js", "src/modules/Layout/defaults/modes/fitDataStretch.js", "src/modules/Layout/defaults/modes/fitColumns.js", "src/modules/Layout/defaults/modes.js", "src/modules/Layout/Layout.js", "src/modules/Localize/defaults/langs.js", "src/modules/Localize/Localize.js", "src/modules/Comms/Comms.js", "src/core/tools/ModuleBinder.js", "src/core/tools/Alert.js", "src/core/Tabulator.js", "src/core/modules/optional.js", "src/modules/Accessor/defaults/accessors.js", "src/modules/Accessor/Accessor.js", "src/modules/Ajax/defaults/config.js", "src/modules/Ajax/defaults/urlGenerator.js", "src/modules/Ajax/defaults/loaderPromise.js", "src/modules/Ajax/defaults/contentTypeFormatters.js", "src/modules/Ajax/Ajax.js", "src/modules/Clipboard/defaults/pasteActions.js", "src/modules/Clipboard/defaults/pasteParsers.js", "src/modules/Clipboard/Clipboard.js", "src/modules/ColumnCalcs/CalcComponent.js", "src/modules/ColumnCalcs/defaults/calculations.js", "src/modules/ColumnCalcs/ColumnCalcs.js", "src/modules/DataTree/DataTree.js", "src/modules/Download/defaults/downloaders/csv.js", "src/modules/Download/defaults/downloaders/json.js", "src/modules/Download/defaults/downloaders/pdf.js", "src/modules/Download/defaults/downloaders/xlsx.js", "src/modules/Download/defaults/downloaders/html.js", "src/modules/Download/defaults/downloaders/jsonLines.js", "src/modules/Download/defaults/downloaders.js", "src/modules/Download/Download.js", "src/modules/Edit/inputMask.js", "src/modules/Edit/defaults/editors/input.js", "src/modules/Edit/defaults/editors/textarea.js", "src/modules/Edit/defaults/editors/number.js", "src/modules/Edit/defaults/editors/range.js", "src/modules/Edit/List.js", "src/modules/Edit/defaults/editors/select.js", "src/modules/Edit/defaults/editors/list.js", "src/modules/Edit/defaults/editors/autocomplete.js", "src/modules/Edit/defaults/editors/star.js", "src/modules/Edit/defaults/editors/progress.js", "src/modules/Edit/defaults/editors/tickCross.js", "src/modules/Edit/defaults/editors.js", "src/modules/Edit/Edit.js", "src/modules/Export/ExportRow.js", "src/modules/Export/ExportColumn.js", "src/modules/Export/Export.js", "src/modules/Filter/defaults/filters.js", "src/modules/Filter/Filter.js", "src/modules/Format/defaults/formatters/plaintext.js", "src/modules/Format/defaults/formatters/html.js", "src/modules/Format/defaults/formatters/textarea.js", "src/modules/Format/defaults/formatters/money.js", "src/modules/Format/defaults/formatters/link.js", "src/modules/Format/defaults/formatters/image.js", "src/modules/Format/defaults/formatters/tickCross.js", "src/modules/Format/defaults/formatters/datetime.js", "src/modules/Format/defaults/formatters/datetimediff.js", "src/modules/Format/defaults/formatters/lookup.js", "src/modules/Format/defaults/formatters/star.js", "src/modules/Format/defaults/formatters/traffic.js", "src/modules/Format/defaults/formatters/progress.js", "src/modules/Format/defaults/formatters/color.js", "src/modules/Format/defaults/formatters/buttonTick.js", "src/modules/Format/defaults/formatters/buttonCross.js", "src/modules/Format/defaults/formatters/rownum.js", "src/modules/Format/defaults/formatters/handle.js", "src/modules/Format/defaults/formatters/responsiveCollapse.js", "src/modules/Format/defaults/formatters/rowSelection.js", "src/modules/Format/defaults/formatters.js", "src/modules/Format/Format.js", "src/modules/FrozenColumns/FrozenColumns.js", "src/modules/FrozenRows/FrozenRows.js", "src/modules/GroupRows/GroupComponent.js", "src/modules/GroupRows/Group.js", "src/modules/GroupRows/GroupRows.js", "src/modules/History/defaults/undoers.js", "src/modules/History/defaults/redoers.js", "src/modules/History/History.js", "src/modules/HtmlTableImport/HtmlTableImport.js", "src/modules/Import/defaults/importers/csv.js", "src/modules/Import/defaults/importers/json.js", "src/modules/Import/defaults/importers.js", "src/modules/Import/Import.js", "src/modules/Interaction/Interaction.js", "src/modules/Keybindings/defaults/bindings.js", "src/modules/Keybindings/defaults/actions.js", "src/modules/Keybindings/Keybindings.js", "src/modules/Menu/Menu.js", "src/modules/MoveColumns/MoveColumns.js", "src/modules/MoveRows/MoveRows.js", "src/modules/Mutator/defaults/mutators.js", "src/modules/Mutator/Mutator.js", "src/modules/Page/defaults/pageCounters/rows.js", "src/modules/Page/defaults/pageCounters/pages.js", "src/modules/Page/defaults/pageCounters.js", "src/modules/Page/Page.js", "src/modules/Persistence/defaults/readers.js", "src/modules/Persistence/defaults/writers.js", "src/modules/Persistence/Persistence.js", "src/modules/Popup/Popup.js", "src/modules/Print/Print.js", "src/modules/ReactiveData/ReactiveData.js", "src/modules/ResizeColumns/ResizeColumns.js", "src/modules/ResizeRows/ResizeRows.js", "src/modules/ResizeTable/ResizeTable.js", "src/modules/ResponsiveLayout/ResponsiveLayout.js", "src/modules/SelectRow/SelectRow.js", "src/modules/Sort/defaults/sorters/number.js", "src/modules/Sort/defaults/sorters/string.js", "src/modules/Sort/defaults/sorters/datetime.js", "src/modules/Sort/defaults/sorters/date.js", "src/modules/Sort/defaults/sorters/time.js", "src/modules/Sort/defaults/sorters/boolean.js", "src/modules/Sort/defaults/sorters/array.js", "src/modules/Sort/defaults/sorters/exists.js", "src/modules/Sort/defaults/sorters/alphanum.js", "src/modules/Sort/defaults/sorters.js", "src/modules/Sort/Sort.js", "src/modules/Tooltip/Tooltip.js", "src/modules/Validate/defaults/validators.js", "src/modules/Validate/Validate.js", "src/core/TabulatorFull.js", "custom-tabulator.js"],
  "sourcesContent": ["export default {\n\n\tdebugEventsExternal:false, //flag to console log events\n\tdebugEventsInternal:false, //flag to console log events\n\tdebugInvalidOptions:true, //allow toggling of invalid option warnings\n\tdebugInitialization:true, //allow toggling of invalid option warnings\n\n\theight:false, //height of tabulator\n\tminHeight:false, //minimum height of tabulator\n\tmaxHeight:false, //maximum height of tabulator\n\n\tcolumnHeaderVertAlign:\"top\", //vertical alignment of column headers\n\n\tpopupContainer:false,\n\n\tcolumns:[],//store for colum header info\n\tcolumnDefaults:{}, //store column default props\n\n\tdata:false, //default starting data\n\n\tautoColumns:false, //build columns from data row structure\n\tautoColumnsDefinitions:false,\n\n\tnestedFieldSeparator:\".\", //separator for nested data\n\n\tfooterElement:false, //hold footer element\n\n\tindex:\"id\", //filed for row index\n\n\ttextDirection:\"auto\",\n\n\taddRowPos:\"bottom\", //position to insert blank rows, top|bottom\n\n\theaderVisible:true, //hide header\n\n\trenderVertical:\"virtual\",\n\trenderHorizontal:\"basic\",\n\trenderVerticalBuffer:0, // set virtual DOM buffer size\n\n\tscrollToRowPosition:\"top\",\n\tscrollToRowIfVisible:true,\n\n\tscrollToColumnPosition:\"left\",\n\tscrollToColumnIfVisible:true,\n\n\trowFormatter:false,\n\trowFormatterPrint:null,\n\trowFormatterClipboard:null,\n\trowFormatterHtmlOutput:null,\n\n\trowHeight:null,\n\n\tplaceholder:false,\n\n\tdataLoader:true,\n\tdataLoaderLoading:false,\n\tdataLoaderError:false,\n\tdataLoaderErrorTimeout:3000,\n\n\tdataSendParams:{},\n\n\tdataReceiveParams:{},\n}\n", "export default class CoreFeature{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\t}\n\n\t//////////////////////////////////////////\n\t/////////////// DataLoad /////////////////\n\t//////////////////////////////////////////\n\n\treloadData(data, silent, columnsChanged){\n\t\treturn this.table.dataLoader.load(data, undefined, undefined, undefined, silent, columnsChanged);\n\t}\n\n\t//////////////////////////////////////////\n\t///////////// Localization ///////////////\n\t//////////////////////////////////////////\n\n\tlangText(){\n\t\treturn this.table.modules.localize.getText(...arguments);\n\t}\n\n\tlangBind(){\n\t\treturn this.table.modules.localize.bind(...arguments);\n\t}\n\n\tlangLocale(){\n\t\treturn this.table.modules.localize.getLocale(...arguments);\n\t}\n\n\n\t//////////////////////////////////////////\n\t////////// Inter Table Comms /////////////\n\t//////////////////////////////////////////\n\n\tcommsConnections(){\n\t\treturn this.table.modules.comms.getConnections(...arguments);\n\t}\n\n\tcommsSend(){\n\t\treturn this.table.modules.comms.send(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Layout  /////////////////\n\t//////////////////////////////////////////\n\n\tlayoutMode(){\n\t\treturn this.table.modules.layout.getMode();\n\t}\n\n\tlayoutRefresh(){\n\t\treturn this.table.modules.layout.layout();\n\t}\n\n\n\t//////////////////////////////////////////\n\t/////////////// Event Bus ////////////////\n\t//////////////////////////////////////////\n\n\tsubscribe(){\n\t\treturn this.table.eventBus.subscribe(...arguments);\n\t}\n\n\tunsubscribe(){\n\t\treturn this.table.eventBus.unsubscribe(...arguments);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.table.eventBus.subscribed(key);\n\t}\n\n\tsubscriptionChange(){\n\t\treturn this.table.eventBus.subscriptionChange(...arguments);\n\t}\n\n\tdispatch(){\n\t\treturn this.table.eventBus.dispatch(...arguments);\n\t}\n\n\tchain(){\n\t\treturn this.table.eventBus.chain(...arguments);\n\t}\n\n\tconfirm(){\n\t\treturn this.table.eventBus.confirm(...arguments);\n\t}\n\n\tdispatchExternal(){\n\t\treturn this.table.externalEvents.dispatch(...arguments);\n\t}\n\n\tsubscribedExternal(key){\n\t\treturn this.table.externalEvents.subscribed(key);\n\t}\n\n\tsubscriptionChangeExternal(){\n\t\treturn this.table.externalEvents.subscriptionChange(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Options /////////////////\n\t//////////////////////////////////////////\n\n\toptions(key){\n\t\treturn this.table.options[key];\n\t}\n\n\tsetOption(key, value){\n\t\tif(typeof value !== \"undefined\"){\n\t\t\tthis.table.options[key] = value;\n\t\t}\n\n\t\treturn this.table.options[key];\n\t}\n\n\n\t//////////////////////////////////////////\n\t//////////////// Modules /////////////////\n\t//////////////////////////////////////////\n\n\tmodule(key){\n\t\treturn this.table.module(key);\n\t}\n}", "import Column from './Column.js';\n\n//public column object\nexport default class ColumnComponent {\n\tconstructor (column){\n\t\tthis._column = column;\n\t\tthis.type = \"ColumnComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._column.table.componentFunctionBinder.handle(\"column\", target._column, name)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tgetElement(){\n\t\treturn this._column.getElement();\n\t}\n\n\tgetDefinition(){\n\t\treturn this._column.getDefinition();\n\t}\n\n\tgetField(){\n\t\treturn this._column.getField();\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this._column.getTitleDownload();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._column.cells.forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisVisible(){\n\t\treturn this._column.visible;\n\t}\n\n\tshow(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.show();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.show();\n\t\t}\n\t}\n\n\thide(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.hide();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.hide();\n\t\t}\n\t}\n\n\ttoggle(){\n\t\tif(this._column.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tdelete(){\n\t\treturn this._column.delete();\n\t}\n\n\tgetSubColumns(){\n\t\tvar output = [];\n\n\t\tif(this._column.columns.length){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\toutput.push(column.getComponent());\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetParentColumn(){\n\t\treturn this._column.parent instanceof Column ? this._column.parent.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._column;\n\t}\n\n\tscrollTo(){\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column);\n\t}\n\n\tgetTable(){\n\t\treturn this._column.table;\n\t}\n\n\tmove(to, after){\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\t\tif(toColumn){\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after)\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t}\n\n\tgetNextColumn(){\n\t\tvar nextCol = this._column.nextColumn();\n\n\t\treturn nextCol ? nextCol.getComponent() : false;\n\t}\n\n\tgetPrevColumn(){\n\t\tvar prevCol = this._column.prevColumn();\n\n\t\treturn prevCol ? prevCol.getComponent() : false;\n\t}\n\n\tupdateDefinition(updates){\n\t\treturn this._column.updateDefinition(updates);\n\t}\n\n\tgetWidth(){\n\t\treturn this._column.getWidth();\n\t}\n\n\tsetWidth(width){\n\t\tvar result;\n\n\t\tif(width === true){\n\t\t\tresult =  this._column.reinitializeWidth(true);\n\t\t}else{\n\t\t\tresult =  this._column.setWidth(width);\n\t\t}\n\n\t\tthis._column.table.columnManager.renderer.rerenderColumns(true);\n\n\t\treturn result;\n\t}\n}", "export default {\n\t\"title\": undefined,\n\t\"field\": undefined,\n\t\"columns\": undefined,\n\t\"visible\": undefined,\n\t\"hozAlign\": undefined,\n\t\"vertAlign\": undefined,\n\t\"width\": undefined,\n\t\"minWidth\": 40,\n\t\"maxWidth\": undefined,\n\t\"maxInitialWidth\": undefined,\n\t\"cssClass\": undefined,\n\t\"variableHeight\": undefined,\n\t\"headerVertical\": undefined,\n\t\"headerHozAlign\": undefined,\n\t\"editableTitle\": undefined,\n}", "//public cell object\nexport default class CellComponent {\n\n\tconstructor (cell){\n\t\tthis._cell = cell;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._cell.table.componentFunctionBinder.handle(\"cell\", target._cell, name)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tgetValue(){\n\t\treturn this._cell.getValue();\n\t}\n\n\tgetOldValue(){\n\t\treturn this._cell.getOldValue();\n\t}\n\n\tgetInitialValue(){\n\t\treturn this._cell.initialValue;\n\t}\n\n\tgetElement(){\n\t\treturn this._cell.getElement();\n\t}\n\n\tgetRow(){\n\t\treturn this._cell.row.getComponent();\n\t}\n\n\tgetData(){\n\t\treturn this._cell.row.getData();\n\t}\n\n\tgetField(){\n\t\treturn this._cell.column.getField();\n\t}\n\n\tgetColumn(){\n\t\treturn this._cell.column.getComponent();\n\t}\n\n\tsetValue(value, mutate){\n\t\tif(typeof mutate == \"undefined\"){\n\t\t\tmutate = true;\n\t\t}\n\n\t\tthis._cell.setValue(value, mutate);\n\t}\n\n\trestoreOldValue(){\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\n\t}\n\n\trestoreInitialValue(){\n\t\tthis._cell.setValueActual(this._cell.initialValue);\n\t}\n\n\tcheckHeight(){\n\t\tthis._cell.checkHeight();\n\t}\n\n\tgetTable(){\n\t\treturn this._cell.table;\n\t}\n\n\t_getSelf(){\n\t\treturn this._cell;\n\t}\n}", "import CoreFeature from '../CoreFeature.js';\nimport CellComponent from './CellComponent.js';\n\nexport default class Cell extends CoreFeature{\n\tconstructor(column, row){\n\t\tsuper(column.table);\n\n\t\tthis.table = column.table;\n\t\tthis.column = column;\n\t\tthis.row = row;\n\t\tthis.element = null;\n\t\tthis.value = null;\n\t\tthis.initialValue;\n\t\tthis.oldValue = null;\n\t\tthis.modules = {};\n\n\t\tthis.height = null;\n\t\tthis.width = null;\n\t\tthis.minWidth = null;\n\n\t\tthis.component = null;\n\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\t\tthis.build();\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\t//generate element\n\tbuild(){\n\t\tthis.generateElement();\n\n\t\tthis.setWidth();\n\n\t\tthis._configureCell();\n\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\t\tthis.initialValue = this.value;\n\t}\n\n\tgenerateElement(){\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.className = \"tabulator-cell\";\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\n\t\tthis.element = this.element;\n\t}\n\n\t_configureCell(){\n\t\tvar element = this.element,\n\t\tfield = this.column.getField(),\n\t\tvertAligns = {\n\t\t\ttop:\"flex-start\",\n\t\t\tbottom:\"flex-end\",\n\t\t\tmiddle:\"center\",\n\t\t},\n\t\thozAligns = {\n\t\t\tleft:\"flex-start\",\n\t\t\tright:\"flex-end\",\n\t\t\tcenter:\"center\",\n\t\t};\n\n\t\t//set text alignment\n\t\telement.style.textAlign = this.column.hozAlign;\n\n\t\tif(this.column.vertAlign){\n\t\t\telement.style.display = \"inline-flex\";\n\n\t\t\telement.style.alignItems = vertAligns[this.column.vertAlign] || \"\";\n\n\t\t\tif(this.column.hozAlign){\n\t\t\t\telement.style.justifyContent = hozAligns[this.column.hozAlign] || \"\";\n\t\t\t}\n\t\t}\n\n\t\tif(field){\n\t\t\telement.setAttribute(\"tabulator-field\", field);\n\t\t}\n\n\t\t//add class to cell if needed\n\t\tif(this.column.definition.cssClass){\n\t\t\tvar classNames = this.column.definition.cssClass.split(\" \")\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\telement.classList.add(className)\n\t\t\t});\n\t\t}\n\n\t\tthis.dispatch(\"cell-init\", this);\n\n\t\t//hide cell if not visible\n\t\tif(!this.column.visible){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//generate cell contents\n\t_generateContents(){\n\t\tvar val;\n\n\t\tval = this.chain(\"cell-format\", this, null, () => {\n\t\t\treturn this.element.innerHTML = this.value;\n\t\t});\n\n\t\tswitch(typeof val){\n\t\t\tcase \"object\":\n\t\t\tif(val instanceof Node){\n\n\t\t\t\t//clear previous cell contents\n\t\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\t\tthis.element.appendChild(val);\n\t\t\t}else{\n\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\tif(val != null){\n\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\tcase \"null\":\n\t\t\tthis.element.innerHTML = \"\";\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tthis.element.innerHTML = val;\n\t\t}\n\t}\n\n\tcellRendered(){\n\t\tthis.dispatch(\"cell-rendered\", this);\n\t}\n\n\t//////////////////// Getters ////////////////////\n\tgetElement(containerOnly){\n\t\tif(!this.loaded){\n\t\t\tthis.loaded = true;\n\t\t\tif(!containerOnly){\n\t\t\t\tthis.layoutElement();\n\t\t\t}\n\t\t}\n\n\t\treturn this.element;\n\t}\n\n\tgetValue(){\n\t\treturn this.value;\n\t}\n\n\tgetOldValue(){\n\t\treturn this.oldValue;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tsetValue(value, mutate, force){\n\t\tvar changed = this.setValueProcessData(value, mutate, force);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-updated\", this);\n\n\t\t\tthis.cellRendered();\n\n\t\t\tif(this.column.definition.cellEdited){\n\t\t\t\tthis.column.definition.cellEdited.call(this.table, this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"cellEdited\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t}\n\t}\n\n\tsetValueProcessData(value, mutate, force){\n\t\tvar changed = false;\n\n\t\tif(this.value !== value || force){\n\n\t\t\tchanged = true;\n\n\t\t\tif(mutate){\n\t\t\t\tvalue = this.chain(\"cell-value-changing\", [this, value], null, value);\n\t\t\t}\n\t\t}\n\n\t\tthis.setValueActual(value);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-changed\", this);\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tsetValueActual(value){\n\t\tthis.oldValue = this.value;\n\n\t\tthis.value = value;\n\n\t\tthis.dispatch(\"cell-value-save-before\", this);\n\n\t\tthis.column.setFieldValue(this.row.data, value);\n\n\t\tthis.dispatch(\"cell-value-save-after\", this);\n\n\t\tif(this.loaded){\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\n\tlayoutElement(){\n\t\tthis._generateContents();\n\n\t\tthis.dispatch(\"cell-layout\", this);\n\t}\n\n\tsetWidth(){\n\t\tthis.width = this.column.width;\n\t\tthis.element.style.width = this.column.widthStyled;\n\t}\n\n\tclearWidth(){\n\t\tthis.width = \"\";\n\t\tthis.element.style.width = \"\";\n\t}\n\n\tgetWidth(){\n\t\treturn this.width || this.element.offsetWidth;\n\t}\n\n\tsetMinWidth(){\n\t\tthis.minWidth = this.column.minWidth;\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\n\t}\n\n\tsetMaxWidth(){\n\t\tthis.maxWidth = this.column.maxWidth;\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\n\t}\n\n\tcheckHeight(){\n\t\t// var height = this.element.css(\"height\");\n\t\tthis.row.reinitializeHeight();\n\t}\n\n\tclearHeight(){\n\t\tthis.element.style.height = \"\";\n\t\tthis.height = null;\n\n\t\tthis.dispatch(\"cell-height\", this, \"\");\n\t}\n\n\tsetHeight(){\n\t\tthis.height = this.row.height;\n\t\tthis.element.style.height = this.row.heightStyled;\n\n\t\tthis.dispatch(\"cell-height\", this, this.row.heightStyled);\n\t}\n\n\tgetHeight(){\n\t\treturn this.height || this.element.offsetHeight;\n\t}\n\n\tshow(){\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n\t}\n\n\thide(){\n\t\tthis.element.style.display = \"none\";\n\t}\n\n\tdelete(){\n\t\tthis.dispatch(\"cell-delete\", this);\n\n\t\tif(!this.table.rowManager.redrawBlock && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.column.deleteCell(this);\n\t\tthis.row.deleteCell(this);\n\t\tthis.calcs = {};\n\t}\n\n\tgetIndex(){\n\t\treturn this.row.getCellIndex(this);\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new CellComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}", "import CoreFeature from '../CoreFeature.js';\nimport ColumnComponent from './ColumnComponent.js';\nimport defaultOptions from './defaults/options.js';\n\nimport Cell from '../cell/Cell.js';\n\nclass Column extends CoreFeature{\n\n\tconstructor(def, parent){\n\t\tsuper(parent.table);\n\n\t\tthis.definition = def; //column definition\n\t\tthis.parent = parent; //hold parent object\n\t\tthis.type = \"column\"; //type of element\n\t\tthis.columns = []; //child columns\n\t\tthis.cells = []; //cells bound to this column\n\t\tthis.element = this.createElement(); //column header element\n\t\tthis.contentElement = false;\n\t\tthis.titleHolderElement = false;\n\t\tthis.titleElement = false;\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\n\t\tthis.isGroup = false;\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\n\t\tthis.vertAlign = \"\"; //vert text alignment\n\n\t\t//multi dimensional filed handling\n\t\tthis.field =\"\";\n\t\tthis.fieldStructure = \"\";\n\t\tthis.getFieldValue = \"\";\n\t\tthis.setFieldValue = \"\";\n\n\t\tthis.titleDownload = null;\n\t\tthis.titleFormatterRendered = false;\n\n\t\tthis.mapDefinitions();\n\n\t\tthis.setField(this.definition.field);\n\n\t\tthis.modules = {}; //hold module variables;\n\n\t\tthis.width = null; //column width\n\t\tthis.widthStyled = \"\"; //column width prestyled to improve render efficiency\n\t\tthis.maxWidth = null; //column maximum width\n\t\tthis.maxWidthStyled = \"\"; //column maximum prestyled to improve render efficiency\n\t\tthis.maxInitialWidth = null;\n\t\tthis.minWidth = null; //column minimum width\n\t\tthis.minWidthStyled = \"\"; //column minimum prestyled to improve render efficiency\n\t\tthis.widthFixed = false; //user has specified a width for this column\n\n\t\tthis.visible = true; //default visible state\n\n\t\tthis.component = null;\n\n\t\t//initialize column\n\t\tif(this.definition.columns){\n\n\t\t\tthis.isGroup = true;\n\n\t\t\tthis.definition.columns.forEach((def, i) => {\n\t\t\t\tvar newCol = new Column(def, this);\n\t\t\t\tthis.attachColumn(newCol);\n\t\t\t});\n\n\t\t\tthis.checkColumnVisibility();\n\t\t}else{\n\t\t\tparent.registerColumnField(this);\n\t\t}\n\n\t\tthis._initialize();\n\n\t\tthis.bindModuleColumns();\n\t}\n\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.setAttribute(\"role\", \"columnheader\");\n\t\tel.setAttribute(\"aria-sort\", \"none\");\n\n\t\treturn el;\n\t}\n\n\tcreateGroupElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col-group-cols\");\n\n\t\treturn el;\n\t}\n\n\tmapDefinitions(){\n\t\tvar defaults = this.table.options.columnDefaults;\n\n\t\t//map columnDefaults onto column definitions\n\t\tif(defaults){\n\t\t\tfor(let key in defaults){\n\t\t\t\tif(typeof this.definition[key] === \"undefined\"){\n\t\t\t\t\tthis.definition[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.definition = this.table.columnManager.optionsList.generate(Column.defaultOptionList, this.definition)\n\t}\n\n\tcheckDefinition(){\n\t\tObject.keys(this.definition).forEach((key) => {\n\t\t\tif(Column.defaultOptionList.indexOf(key) === -1){\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", key)\n\t\t\t}\n\t\t});\n\t}\n\n\tsetField(field){\n\t\tthis.field = field;\n\t\tthis.fieldStructure = field ? (this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field]) : [];\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n\t}\n\n\t//register column position with column manager\n\tregisterColumnPosition(column){\n\t\tthis.parent.registerColumnPosition(column);\n\t}\n\n\t//register column position with column manager\n\tregisterColumnField(column){\n\t\tthis.parent.registerColumnField(column);\n\t}\n\n\t//trigger position registration\n\treRegisterPosition(){\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolumn.reRegisterPosition();\n\t\t\t});\n\t\t}else{\n\t\t\tthis.registerColumnPosition(this);\n\t\t}\n\t}\n\n\t_mapDepricatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 5.0 release\n\t}\n\n\t//build header element\n\t_initialize(){\n\t\tvar def = this.definition;\n\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\tif(def.headerVertical){\n\t\t\tthis.element.classList.add(\"tabulator-col-vertical\");\n\n\t\t\tif(def.headerVertical === \"flip\"){\n\t\t\t\tthis.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t\t}\n\t\t}\n\n\t\tthis.contentElement = this._bindEvents();\n\n\t\tthis.contentElement = this._buildColumnHeaderContent();\n\n\t\tthis.element.appendChild(this.contentElement);\n\n\t\tif(this.isGroup){\n\t\t\tthis._buildGroupHeader();\n\t\t}else{\n\t\t\tthis._buildColumnHeader();\n\t\t}\n\n\t\tthis.dispatch(\"column-init\", this);\n\t}\n\n\t_bindEvents(){\n\t\tvar def = this.definition,\n\t\tdblTap,\ttapHold, tap;\n\n\t\t//setup header click event bindings\n\t\tif(typeof(def.headerClick) == \"function\"){\n\t\t\tthis.element.addEventListener(\"click\", (e) => {def.headerClick(e, this.getComponent());});\n\t\t}\n\n\t\tif(typeof(def.headerDblClick) == \"function\"){\n\t\t\tthis.element.addEventListener(\"dblclick\", (e) => {def.headerDblClick(e, this.getComponent());});\n\t\t}\n\n\t\tif(typeof(def.headerContext) == \"function\"){\n\t\t\tthis.element.addEventListener(\"contextmenu\", (e) => {def.headerContext(e, this.getComponent());});\n\t\t}\n\n\t\t//setup header tap event bindings\n\t\tif(typeof(def.headerTap) == \"function\"){\n\t\t\ttap = false;\n\n\t\t\tthis.element.addEventListener(\"touchstart\", (e) => {\n\t\t\t\ttap = true;\n\t\t\t}, {passive: true});\n\n\t\t\tthis.element.addEventListener(\"touchend\", (e) => {\n\t\t\t\tif(tap){\n\t\t\t\t\tdef.headerTap(e, this.getComponent());\n\t\t\t\t}\n\n\t\t\t\ttap = false;\n\t\t\t});\n\t\t}\n\n\t\tif(typeof(def.headerDblTap) == \"function\"){\n\t\t\tdblTap = null;\n\n\t\t\tthis.element.addEventListener(\"touchend\", (e) => {\n\n\t\t\t\tif(dblTap){\n\t\t\t\t\tclearTimeout(dblTap);\n\t\t\t\t\tdblTap = null;\n\n\t\t\t\t\tdef.headerDblTap(e, this.getComponent());\n\t\t\t\t}else{\n\n\t\t\t\t\tdblTap = setTimeout(() => {\n\t\t\t\t\t\tclearTimeout(dblTap);\n\t\t\t\t\t\tdblTap = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\n\t\tif(typeof(def.headerTapHold) == \"function\"){\n\t\t\ttapHold = null;\n\n\t\t\tthis.element.addEventListener(\"touchstart\", (e) => {\n\t\t\t\tclearTimeout(tapHold);\n\n\t\t\t\ttapHold = setTimeout(function(){\n\t\t\t\t\tclearTimeout(tapHold);\n\t\t\t\t\ttapHold = null;\n\t\t\t\t\ttap = false;\n\t\t\t\t\tdef.headerTapHold(e, this.getComponent());\n\t\t\t\t}, 1000);\n\n\t\t\t}, {passive: true});\n\n\t\t\tthis.element.addEventListener(\"touchend\", (e) => {\n\t\t\t\tclearTimeout(tapHold);\n\t\t\t\ttapHold = null;\n\t\t\t});\n\t\t}\n\t}\n\n\t//build header element for header\n\t_buildColumnHeader(){\n\t\tvar def = this.definition,\n\t\ttable = this.table;\n\n\t\tthis.dispatch(\"column-layout\", this);\n\n\t\t//set column visibility\n\t\tif(typeof def.visible != \"undefined\"){\n\t\t\tif(def.visible){\n\t\t\t\tthis.show(true);\n\t\t\t}else{\n\t\t\t\tthis.hide(true);\n\t\t\t}\n\t\t}\n\n\t\t//asign additional css classes to column header\n\t\tif(def.cssClass){\n\t\t\tvar classeNames = def.cssClass.split(\" \");\n\t\t\tclasseNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tif(def.field){\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t\t}\n\n\t\t//set min width if present\n\t\tthis.setMinWidth(parseInt(def.minWidth));\n\n\t\tif (def.maxInitialWidth) {\n\t\t\tthis.maxInitialWidth = parseInt(def.maxInitialWidth);\n\t\t}\n\t\t\n\t\tif(def.maxWidth){\n\t\t\tthis.setMaxWidth(parseInt(def.maxWidth));\n\t\t}\n\n\t\tthis.reinitializeWidth();\n\n\t\t//set orizontal text alignment\n\t\tthis.hozAlign = this.definition.hozAlign;\n\t\tthis.vertAlign = this.definition.vertAlign;\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t}\n\n\t_buildColumnHeaderContent(){\n\t\tvar def = this.definition,\n\t\ttable = this.table;\n\n\t\tvar contentElement = document.createElement(\"div\");\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\n\n\t\tthis.titleHolderElement = document.createElement(\"div\");\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\n\t\tcontentElement.appendChild(this.titleHolderElement);\n\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\n\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\n\n\t\treturn contentElement;\n\t}\n\n\t//build title element of column\n\t_buildColumnHeaderTitle(){\n\t\tvar def = this.definition,\n\t\ttitle;\n\n\t\tvar titleHolderElement = document.createElement(\"div\");\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\n\t\tif(def.editableTitle){\n\t\t\tvar titleElement = document.createElement(\"input\");\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\n\t\t\ttitleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttitleElement.focus();\n\t\t\t});\n\n\t\t\ttitleElement.addEventListener(\"change\", () => {\n\t\t\t\tdef.title = titleElement.value;\n\t\t\t\tthis.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n\t\t\t});\n\n\t\t\ttitleHolderElement.appendChild(titleElement);\n\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\ttitleElement.value = text || (def.title || \"&nbsp;\");\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\ttitleElement.value  = def.title || \"&nbsp;\";\n\t\t\t}\n\n\t\t}else{\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, text || (def.title || \"&nbsp;\"));\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t\t}\n\t\t}\n\n\t\treturn titleHolderElement;\n\t}\n\n\t_formatColumnHeaderTitle(el, title){\n\t\tvar contents = this.chain(\"column-format\", [this, title, el], null, () => {\n\t\t\treturn title;\n\t\t});\n\n\t\tswitch(typeof contents){\n\t\t\tcase \"object\":\n\t\t\tif(contents instanceof Node){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}else{\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\tcase \"null\":\n\t\t\tel.innerHTML = \"\";\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\n\t//build header element for column group\n\t_buildGroupHeader(){\n\t\tthis.element.classList.add(\"tabulator-col-group\");\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\n\t\t//asign additional css classes to column header\n\t\tif(this.definition.cssClass){\n\t\t\tvar classeNames = this.definition.cssClass.split(\" \");\n\t\t\tclasseNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\n\t\tthis.element.appendChild(this.groupElement);\n\t}\n\n\t//flat field lookup\n\t_getFlatData(data){\n\t\treturn data[this.field];\n\t}\n\n\t//nested field lookup\n\t_getNestedData(data){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdataObj = dataObj[structure[i]];\n\n\t\t\toutput = dataObj;\n\n\t\t\tif(!dataObj){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//flat field set\n\t_setFlatData(data, value){\n\t\tif(this.field){\n\t\t\tdata[this.field] = value;\n\t\t}\n\t}\n\n\t//nested field set\n\t_setNestedData(data, value){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tif(i == length -1){\n\t\t\t\tdataObj[structure[i]] = value;\n\t\t\t}else{\n\t\t\t\tif(!dataObj[structure[i]]){\n\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\tdataObj[structure[i]] = {};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\t//attach column to this group\n\tattachColumn(column){\n\t\tif(this.groupElement){\n\t\t\tthis.columns.push(column);\n\t\t\tthis.groupElement.appendChild(column.getElement());\n\n\t\t\tcolumn.columnRendered();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t\t}\n\t}\n\n\t//vertically align header in column\n\tverticalAlign(alignment, height){\n\n\t\t//calculate height of column header and group holder element\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : (height || this.parent.getHeadersElement().clientHeight);\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\n\t\tthis.element.style.height = parentHeight + \"px\";\n\n\t\tthis.dispatch(\"column-height\", this, this.element.style.height);\n\n\t\tif(this.isGroup){\n\t\t\tthis.groupElement.style.minHeight = (parentHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t}\n\n\t\t//vertically align cell contents\n\t\tif(!this.isGroup && alignment !== \"top\"){\n\t\t\tif(alignment === \"bottom\"){\n\t\t\t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n\t\t\t}\n\t\t}\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.verticalAlign(alignment);\n\t\t});\n\t}\n\n\t//clear vertical alignmenet\n\tclearVerticalAlign(){\n\t\tthis.element.style.paddingTop = \"\";\n\t\tthis.element.style.height = \"\";\n\t\tthis.element.style.minHeight = \"\";\n\t\tthis.groupElement.style.minHeight = \"\";\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.clearVerticalAlign();\n\t\t});\n\n\t\tthis.dispatch(\"column-height\", this, \"\");\n\t}\n\n\tbindModuleColumns (){\n\t\t//check if rownum formatter is being used on a column\n\t\tif(this.definition.formatter == \"rownum\"){\n\t\t\tthis.table.rowManager.rowNumColumn = this;\n\t\t}\n\t}\n\n\t//// Retreive Column Information ////\n\t//return column header element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return colunm group element\n\tgetGroupElement(){\n\t\treturn this.groupElement;\n\t}\n\n\t//return field name\n\tgetField(){\n\t\treturn this.field;\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this.titleDownload;\n\t}\n\n\t//return the first column in a group\n\tgetFirstColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[0].getFirstColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return the last column in a group\n\tgetLastColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[this.columns.length -1].getLastColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return all columns in a group\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\n\t//return all columns in a group\n\tgetCells(){\n\t\treturn this.cells;\n\t}\n\n\t//retreive the top column in a group of columns\n\tgetTopColumn(){\n\t\tif(this.parent.isGroup){\n\t\t\treturn this.parent.getTopColumn();\n\t\t}else{\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t//return column definition object\n\tgetDefinition(updateBranches){\n\t\tvar colDefs = [];\n\n\t\tif(this.isGroup && updateBranches){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t\t});\n\n\t\t\tthis.definition.columns = colDefs;\n\t\t}\n\n\t\treturn this.definition;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tcheckColumnVisibility(){\n\t\tvar visible = false;\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tif(column.visible){\n\t\t\t\tvisible = true;\n\t\t\t}\n\t\t});\n\n\t\tif(visible){\n\t\t\tthis.show();\n\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t}else{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//show column\n\tshow(silent, responsiveToggle){\n\t\tif(!this.visible){\n\t\t\tthis.visible = true;\n\n\t\t\tthis.element.style.display = \"\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.show();\n\t\t\t});\n\n\t\t\tif(!this.isGroup && this.width === null){\n\t\t\t\tthis.reinitializeWidth();\n\t\t\t}\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tthis.dispatch(\"column-show\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), true);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.renderer.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\t//hide column\n\thide(silent, responsiveToggle){\n\t\tif(this.visible){\n\t\t\tthis.visible = false;\n\n\t\t\tthis.element.style.display = \"none\";\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.hide();\n\t\t\t});\n\n\t\t\tthis.dispatch(\"column-hide\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.renderer.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\tmatchChildWidths(){\n\t\tvar childWidth = 0;\n\n\t\tif(this.contentElement && this.columns.length){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\tchildWidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.contentElement.style.maxWidth = (childWidth - 1) + \"px\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveChild(child){\n\t\tvar index = this.columns.indexOf(child);\n\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\n\t\tif(!this.columns.length){\n\t\t\tthis.delete();\n\t\t}\n\t}\n\n\tsetWidth(width){\n\t\tthis.widthFixed = true;\n\t\tthis.setWidthActual(width);\n\t}\n\n\tsetWidthActual(width){\n\t\tif(isNaN(width)){\n\t\t\twidth = Math.floor((this.table.element.clientWidth/100) * parseInt(width));\n\t\t}\n\n\t\twidth = Math.max(this.minWidth, width);\n\n\t\tif(this.maxWidth){\n\t\t\twidth = Math.min(this.maxWidth, width);\n\t\t}\n\n\t\tthis.width = width;\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\n\n\t\tthis.element.style.width = this.widthStyled;\n\n\t\tif(!this.isGroup){\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.setWidth();\n\t\t\t});\n\t\t}\n\n\t\tif(this.parent.isGroup){\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\n\t\tthis.dispatch(\"column-width\", this);\n\t}\n\n\tcheckCellHeights(){\n\t\tvar rows = [];\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tif(cell.row.heightInitialized){\n\t\t\t\tif(cell.row.getElement().offsetParent !== null){\n\t\t\t\t\trows.push(cell.row);\n\t\t\t\t\tcell.row.clearCellHeight();\n\t\t\t\t}else{\n\t\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.calcHeight();\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.setCellHeight();\n\t\t});\n\t}\n\n\tgetWidth(){\n\t\tvar width = 0;\n\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\twidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\twidth = this.width;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\tgetHeight(){\n\t\treturn Math.ceil(this.element.getBoundingClientRect().height);\n\t}\n\n\tsetMinWidth(minWidth){\n\t\tthis.minWidth = minWidth;\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\n\t\tthis.element.style.minWidth = this.minWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMinWidth();\n\t\t});\n\t}\n\n\tsetMaxWidth(maxWidth){\n\t\tthis.maxWidth = maxWidth;\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\n\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMaxWidth();\n\t\t});\n\t}\n\n\tdelete(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar index;\n\n\t\t\tif(this.isGroup){\n\t\t\t\tthis.columns.forEach(function(column){\n\t\t\t\t\tcolumn.delete();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.dispatch(\"column-delete\", this);\n\n\t\t\tvar cellCount = this.cells.length;\n\n\t\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\t\tthis.cells[0].delete();\n\t\t\t}\n\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\n\t\t\tthis.element = false;\n\t\t\tthis.contentElement = false;\n\t\t\tthis.titleElement = false;\n\t\t\tthis.groupElement = false;\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.removeChild(this);\n\t\t\t}\n\n\t\t\tthis.table.columnManager.deregisterColumn(this);\n\n\t\t\tthis.table.columnManager.renderer.rerenderColumns(true);\n\n\t\t\tresolve();\n\t\t});\n\t}\n\n\tcolumnRendered(){\n\t\tif(this.titleFormatterRendered){\n\t\t\tthis.titleFormatterRendered();\n\t\t}\n\n\t\tthis.dispatch(\"column-rendered\", this);\n\t}\n\n\t//////////////// Cell Management /////////////////\n\t//generate cell for this column\n\tgenerateCell(row){\n\t\tvar cell = new Cell(this, row);\n\n\t\tthis.cells.push(cell);\n\n\t\treturn cell;\n\t}\n\n\tnextColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n\t}\n\n\t_nextVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n\t}\n\n\tprevColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n\t}\n\n\t_prevVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n\t}\n\n\treinitializeWidth(force){\n\t\tthis.widthFixed = false;\n\n\t\t//set width if present\n\t\tif(typeof this.definition.width !== \"undefined\" && !force){\n\t\t\t// maxInitialWidth ignored here as width specified\n\t\t\tthis.setWidth(this.definition.width);\n\t\t}\n\n\t\tthis.dispatch(\"column-width-fit-before\", this);\n\n\t\tthis.fitToData(force);\n\n\t\tthis.dispatch(\"column-width-fit-after\", this);\n\t}\n\n\t//set column width to maximum cell width for non group columns\n\tfitToData(force){\n\t\tif(this.isGroup){\n\t\t\treturn;\n\t\t}\n\n\t\tif(!this.widthFixed){\n\t\t\tthis.element.style.width = \"\";\n\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tcell.clearWidth();\n\t\t\t});\n\t\t}\n\n\t\tvar maxWidth = this.element.offsetWidth;\n\n\t\tif(!this.width || !this.widthFixed){\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tvar width = cell.getWidth();\n\n\t\t\t\tif(width > maxWidth){\n\t\t\t\t\tmaxWidth = width;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(maxWidth){\n\t\t\t\tvar setTo = maxWidth + 1;\n\t\t\t\tif (this.maxInitialWidth && !force) {\n\t\t\t\t\tsetTo = Math.min(setTo, this.maxInitialWidth);\n\t\t\t\t}\n\t\t\t\tthis.setWidthActual(setTo);\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateDefinition(updates){\n\t\tvar definition;\n\n\t\tif(!this.isGroup){\n\t\t\tif(!this.parent.isGroup){\n\t\t\t\tdefinition = Object.assign({}, this.getDefinition());\n\t\t\t\tdefinition = Object.assign(definition, updates);\n\n\t\t\t\treturn this.table.columnManager.addColumn(definition, false, this)\n\t\t\t\t.then((column) => {\n\n\t\t\t\t\tif(definition.field == this.field){\n\t\t\t\t\t\tthis.field = false; //cleair field name to prevent deletion of duplicate column from arrays\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.delete()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t});\n\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t}\n\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new ColumnComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n\nColumn.defaultOptionList = defaultOptions;\n\nexport default Column;", "export default class Helpers{\n\n\tstatic elVisible(el){\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t}\n\n\tstatic elOffset(el){\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n\tstatic deepClone(obj, clone, list = []){\n\t\tvar objectProto = {}.__proto__,\n\t\tarrayProto = [].__proto__;\n\n\t\tif (!clone){\n\t\t\tclone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\t\t}\n\n\t\tfor(var i in obj) {\n\t\t\tlet subject = obj[i],\n\t\t\tmatch, copy;\n\n\t\t\tif(subject != null && typeof subject === \"object\" && (subject.__proto__ === objectProto || subject.__proto__ === arrayProto)){\n\t\t\t\tmatch = list.findIndex((item) => {\n\t\t\t\t\treturn item.subject === subject;\n\t\t\t\t});\n\n\t\t\t\tif(match > -1){\n\t\t\t\t\tclone[i] = list[match].copy;\n\t\t\t\t}else{\n\t\t\t\t\tcopy = Object.assign(Array.isArray(subject) ? [] : {}, subject);\n\n\t\t\t\t\tlist.unshift({subject, copy});\n\n\t\t\t\t\tclone[i] = this.deepClone(subject, copy, list);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clone;\n\t}\n}", "export default class OptionsList {\n\tconstructor(table, msgType, defaults = {}){\n\t\tthis.table = table;\n\t\tthis.msgType = msgType;\n\t\tthis.registeredDefaults = Object.assign({}, defaults)\n\t}\n\n\tregister(option, value){\n\t\tthis.registeredDefaults[option] = value;\n\t}\n\n\tgenerate(defaultOptions, userOptions = {}){\n\t\tvar output = Object.assign({}, this.registeredDefaults);\n\n\t\tObject.assign(output, defaultOptions);\n\n\t\tif(userOptions.debugInvalidOptions !== false || this.table.options.debugInvalidOptions){\n\t\t\tfor (var key in userOptions){\n\t\t\t\tif(!output.hasOwnProperty(key)){\n\t\t\t\t\tconsole.warn(\"Invalid \" + this.msgType + \" option:\", key)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var key in output){\n\t\t\tif(key in userOptions){\n\t\t\t\toutput[key] = userOptions[key];\n\t\t\t}else{\n\t\t\t\tif(Array.isArray(output[key])){\n\t\t\t\t\toutput[key] = Object.assign([], output[key]);\n\t\t\t\t}else if(typeof output[key] === \"object\" && output[key] !== null){\n\t\t\t\t\toutput[key] = Object.assign({}, output[key]);\n\t\t\t\t}else if (typeof output[key] === \"undefined\"){\n\t\t\t\t\tdelete output[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n}", "import CoreFeature from '../CoreFeature.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Renderer extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.elementVertical = table.rowManager.element;\n\t\tthis.elementHorizontal = table.columnManager.element;\n\t\tthis.tableElement =  table.rowManager.tableElement;\n\n\t\tthis.verticalFillMode = \"fit\"; // used by row manager to determin how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the contianer without resizing it)\n\t}\n\n\n\t///////////////////////////////////\n\t/////// Internal Bindings /////////\n\t///////////////////////////////////\n\n\tinitialize(){\n\t\t//initialize core functionality\n\t}\n\n\tclearRows(){\n\t\t//clear down existing rows layout\n\t}\n\n\tclearColumns(){\n\t\t//clear down existing columns layout\n\t}\n\n\n\treinitializeColumnWidths(columns){\n\t\t//resize columns to fit data\n\t}\n\n\n\trenderRows(){\n\t\t//render rows from a clean slate\n\t}\n\n\trenderColumns(){\n\t\t//render columns from a clean slate\n\t}\n\n\trerenderRows(callback){\n\t\t// rerender rows and keep position\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trerenderColumns(update, blockRedraw){\n\t\t//rerender columns\n\t}\n\n\trenderRowCells(row){\n\t\t//render the cells in a row\n\t}\n\n\trerenderRowCells(row, force){\n\t\t//rerender the cells in a row\n\t}\n\n\tscrollColumns(left, dir){\n\t\t//handle horizontal scrolling\n\t}\n\n\tscrollRows(top, dir){\n\t\t//handle vertical scolling\n\t}\n\n\tresize(){\n\t\t//container has rezied, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n\t}\n\n\tscrollToRow(row){\n\t\t//scroll to a specific row\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\t//determine weather the row is nearest the top or bottom of the table, retur true for top or false for bottom\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\t//return the visible rows\n\t\treturn [];\n\t}\n\n\t///////////////////////////////////\n\t//////// Helper Functions /////////\n\t///////////////////////////////////\n\n\trows(){\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t/////// External Triggers /////////\n\t/////// (DO NOT OVERRIDE) /////////\n\t///////////////////////////////////\n\n\tclear(){\n\t\t//clear down existing layout\n\t\tthis.clearRows();\n\t\tthis.clearColumns();\n\t}\n\n\trender(){\n\t\t//render from a clean slate\n\t\tthis.renderRows();\n\t\tthis.renderColumns();\n\t}\n\n\trerender(callback){\n\t\t// rerender and keep position\n\t\tthis.rerenderRows();\n\t\tthis.rerenderColumns();\n\t}\n\n\tscrollToRowPosition(row, position, ifVisible){\n\t\tvar rowIndex = this.rows().indexOf(row),\n\t\trowEl = row.getElement(),\n\t\toffset = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(rowIndex > -1){\n\n\t\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\t\tifVisible = this.table.options.scrollToRowIfVisible;\n\t\t\t\t}\n\n\t\t\t\t//check row visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(Helpers.elVisible(rowEl)){\n\t\t\t\t\t\toffset = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(offset > 0 && offset < this.elementVertical.clientHeight - rowEl.offsetHeight){\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\t\tposition = this.table.options.scrollToRowPosition;\n\t\t\t\t}\n\n\t\t\t\tif(position === \"nearest\"){\n\t\t\t\t\tposition = this.scrollToRowNearestTop(row) ? \"top\" : \"bottom\"\n\t\t\t\t}\n\n\t\t\t\t//scroll to row\n\t\t\t\tthis.scrollToRow(row);\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\n\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop + (rowEl.offsetTop - this.elementVertical.scrollTop) - ((this.elementVertical.scrollHeight - rowEl.offsetTop) / 2);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.clientHeight / 2);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\tthis.elementVertical.scrollTop = rowEl.offsetTop;\t\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t\t}\n\t\t});\n\t}\n}", "import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class BaiscHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\trenderRowCells(row){\n\t\trow.cells.forEach((cell) => {\n\t\t\trow.element.appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t});\n\t}\n\n\treinitializeColumnWidths(columns){\n\t\tcolumns.forEach(function(column){\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\t}\n}", "import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class VirtualDomHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftCol = 0;\n\t\tthis.rightCol = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\t\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t\t\n\t\tthis.fitDataColAvg = 0;\n\t\t\n\t\tthis.windowBuffer = 200; //pixel margin to make column visible before it is shown on screen\n\t\t\n\t\tthis.visibleRows = null;\n\n\t\tthis.initialized = false;\n\t\tthis.isFitData = false;\n\t\t\n\t\tthis.columns = [];\n\t}\n\t\n\tinitialize(){\n\t\tthis.compatibilityCheck();\n\t\tthis.layoutCheck();\n\t\tthis.vertScrollListen();\n\t}\n\t\n\tcompatibilityCheck(){\n\t\tvar columns = this.options(\"columns\"),\n\t\tfrozen = false,\n\t\tok = true;\n\t\t\n\t\tif(this.options(\"layout\") == \"fitDataTable\"){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");\n\t\t\tok = false;\n\t\t}\n\t\t\n\t\tif(this.options(\"responsiveLayout\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");\n\t\t\tok = false;\n\t\t}\n\t\t\n\t\tif(this.options(\"rtl\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n\t\t\tok = false;\n\t\t}\n\t\t\n\t\tif(columns){\n\t\t\tfrozen = columns.find((col) => {\n\t\t\t\treturn col.frozen;\n\t\t\t});\n\t\t\t\n\t\t\tif(frozen){\n\t\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with frozen columns\");\n\t\t\t\tok = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// if(!ok){\n\t\t// \toptions.virtualDomHoz = false;\n\t\t// }\n\t\t\n\t\treturn ok;\n\t}\n\t\n\tlayoutCheck(){\n\t\tthis.isFitData = this.options(\"layout\").startsWith('fitData');\n\t}\n\n\tvertScrollListen(){\n\t\tthis.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n\t}\n\n\tclearVisRowCache(){\n\t\tthis.visibleRows = null;\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\t\n\trenderColumns(row, force){\n\t\tthis.dataChange();\n\t}\n\n\t\n\tscrollColumns(left, dir){\n\t\tif(this.scrollLeft != left){\n\t\t\tthis.scrollLeft = left;\n\t\t\t\n\t\t\tthis.scroll(left - (this.vDomScrollPosLeft + this.windowBuffer));\n\t\t}\n\t}\n\t\n\tcalcWindowBuffer(){\n\t\tvar buffer = this.elementVertical.clientWidth;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > buffer){\n\t\t\t\t\tbuffer = width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.windowBuffer = buffer * 2;\n\t}\n\t\n\trerenderColumns(update, blockRedraw){\t\t\n\t\tvar old = {\n\t\t\tcols:this.columns,\n\t\t\tleftCol:this.leftCol,\n\t\t\trightCol:this.rightCol,\n\t\t},\n\t\tcolPos = 0;\n\t\t\n\t\t\n\t\tif(update && !this.initialized){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.clear();\n\t\t\n\t\tthis.calcWindowBuffer();\n\t\t\n\t\tthis.scrollLeft = this.elementVertical.scrollLeft;\n\t\t\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer;\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tvar config = {};\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tconfig.leftPos = colPos;\n\t\t\t\tconfig.rightPos = colPos + width;\n\t\t\t\t\n\t\t\t\tconfig.width = width;\n\t\t\t\t\n\t\t\t\tif (this.isFitData) {\n\t\t\t\t\tconfig.fitDataCheck = column.modules.vdomHoz ? column.modules.vdomHoz.fitDataCheck : true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif((colPos + width > this.vDomScrollPosLeft) && (colPos < this.vDomScrollPosRight)){\n\t\t\t\t\t//column is visible\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol == -1){\n\t\t\t\t\t\tthis.leftCol = this.columns.length;\n\t\t\t\t\t\tthis.vDomPadLeft = colPos;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol = this.columns.length;\n\t\t\t\t}else{\n\t\t\t\t\t// column is hidden\n\t\t\t\t\tif(this.leftCol !== -1){\n\t\t\t\t\t\tthis.vDomPadRight += width;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.columns.push(column);\n\t\t\t\t\n\t\t\t\tcolumn.modules.vdomHoz = config;\n\t\t\t\t\n\t\t\t\tcolPos += width;\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tif(!update || this.reinitChanged(old)){\n\t\t\t\tthis.reinitializeRows();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.elementVertical.scrollLeft = this.scrollLeft;\n\t}\n\t\n\trenderRowCells(row){\n\t\tif(this.initialized){\n\t\t\tthis.initializeRow(row);\n\t\t}else{\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\trow.element.appendChild(cell.getElement());\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\trerenderRowCells(row, force){\n\t\tthis.reinitializeRow(row, force);\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\tthis.columns[i].reinitializeWidth();\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\t\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tclear(){\n\t\tthis.columns = [];\n\t\t\n\t\tthis.leftCol = -1;\n\t\tthis.rightCol = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t}\n\t\n\tdataChange(){\n\t\tvar change = false,\n\t\tcollsWidth = 0,\n\t\tcolEnd = 0,\n\t\tgroup, row, rowEl;\n\t\t\n\t\tif(this.isFitData){\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif(!column.definition.width && column.visible){\n\t\t\t\t\tchange = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(change){\n\t\t\t\tif(change && this.table.rowManager.getDisplayRows().length){\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\t\t\t\n\t\t\t\t\tvar row = this.chain(\"rows-sample\", [1], [], () => {\n\t\t\t\t\t\treturn this.table.rowManager.getDisplayRows();\n\t\t\t\t\t})[0];\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\t\n\t\t\t\t\t\trowEl = row.getElement();\n\t\t\t\t\t\t\n\t\t\t\t\t\trow.generateCells();\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.tableElement.appendChild(rowEl);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor(var colEnd = 0; colEnd < row.cells.length; colEnd++){\n\t\t\t\t\t\t\tlet cell = row.cells[colEnd];\n\t\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcell.column.reinitializeWidth();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcollsWidth += cell.column.getWidth();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// if(collsWidth > this.vDomScrollPosRight){\n\t\t\t\t\t\t\t// \tbreak;\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// this.fitDataColAvg = Math.floor(collsWidth / (colEnd + 1));\n\t\t\t\t\t\t\n\t\t\t\t\t\t// for(colEnd; colEnd < this.table.columnManager.columnsByIndex.length; colEnd++){\n\t\t\t\t\t\t// \tthis.table.columnManager.columnsByIndex[colEnd].setWidth(this.fitDataColAvg);\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.options(\"layout\") === \"fitColumns\"){\n\t\t\t\tthis.layoutRefresh();\n\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitChanged(old){\n\t\tvar match = true;\n\t\t\n\t\tif(old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\told.cols.forEach((col, i) => {\n\t\t\tif(col !== this.columns[i]){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn !match;\n\t}\n\t\n\treinitializeRows(){\n\t\tvar rows = this.getVisibleRows();\n\t\trows.forEach((row) => {\n\t\t\tthis.reinitializeRow(row, true);\n\t\t});\n\t}\n\t\n\tgetVisibleRows(){\n\t\tif (!this.visibleRows){\n\t\t\tthis.visibleRows = this.table.rowManager.getVisibleRows();\n\t\t}\n\n\t\treturn this.visibleRows;\t\n\t}\n\t\n\tscroll(diff){\n\t\tthis.vDomScrollPosLeft += diff;\n\t\tthis.vDomScrollPosRight += diff;\n\n\t\tif(Math.abs(diff) > (this.windowBuffer / 2)){\n\t\t\tthis.rerenderColumns();\n\t\t}else{\n\t\t\tif(diff > 0){\n\t\t\t\t//scroll right\n\t\t\t\tthis.addColRight();\n\t\t\t\tthis.removeColLeft();\n\t\t\t}else{\n\t\t\t\t//scroll left\n\t\t\t\tthis.addColLeft();\n\t\t\t\tthis.removeColRight();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcolPositionAdjust (start, end, diff){\n\t\tfor(let i = start; i < end; i++){\n\t\t\tlet column = this.columns[i];\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.leftPos += diff;\n\t\t\tcolumn.modules.vdomHoz.rightPos += diff;\n\t\t}\n\t}\n\t\n\taddColRight(){\n\t\tvar changes = false;\n\t\t\n\t\twhile(true){\n\t\t\t\n\t\t\tlet column = this.columns[this.rightCol + 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol++; // Don't move this below the >= check below\n\t\t\t\t\t\n\t\t\t\t\tif(this.rightCol >= (this.columns.length - 1)){\n\t\t\t\t\t\tthis.vDomPadRight = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t\t\t\t}\t\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\taddColLeft(){\n\t\tvar changes = false;\n\t\t\n\t\twhile(true){\n\t\t\tlet column = this.columns[this.leftCol - 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().prepend(cell.getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.leftCol--; // don't move this below the <= check below\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol <= 0){ // replicating logic in addColRight\n\t\t\t\t\t\tthis.vDomPadLeft = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet diff = this.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tif(diff){\n\t\t\t\t\t\tthis.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + diff;\n\t\t\t\t\t\tthis.vDomPadRight -= diff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColRight(){\n\t\tvar changes = false;\n\t\t\n\t\twhile(true){\n\t\t\tlet column = this.columns[this.rightCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos > this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColRight\", ex.message)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadRight += column.getWidth();\n\t\t\t\t\tthis.rightCol --;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColLeft(){\n\t\tvar changes = false;\n\t\t\n\t\twhile(true){\n\t\t\tlet column = this.columns[this.leftCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\t\t\t\t\t\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColLeft\", ex.message)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadLeft += column.getWidth();\n\t\t\t\t\tthis.leftCol ++;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t\t\n\t}\n\t\n\tfitDataColActualWidthCheck(column){\n\t\tvar newWidth, widthDiff;\n\t\t\n\t\tif(column.modules.vdomHoz.fitDataCheck){\n\t\t\tcolumn.reinitializeWidth();\n\t\t\t\n\t\t\tnewWidth = column.getWidth();\n\t\t\twidthDiff = newWidth - column.modules.vdomHoz.width;\n\t\t\t\n\t\t\tif(widthDiff){\n\t\t\t\tcolumn.modules.vdomHoz.rightPos += widthDiff;\n\t\t\t\tcolumn.modules.vdomHoz.width = newWidth;\n\t\t\t\tthis.colPositionAdjust(this.columns.indexOf(column) + 1, this.columns.length, widthDiff);\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.fitDataCheck = false;\n\t\t}\n\t\t\n\t\treturn widthDiff;\n\t}\n\t\n\tinitializeRow(row){\n\t\tif(row.type !== \"group\"){\n\t\t\trow.modules.vdomHoz = {\n\t\t\t\tleftCol:this.leftCol,\n\t\t\t\trightCol:this.rightCol,\n\t\t\t};\n\t\t\t\n\t\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\t\tlet column = this.columns[i];\n\t\t\t\t\n\t\t\t\tif(column && column.visible){\n\t\t\t\t\tlet cell = row.getCell(column);\n\t\t\t\t\t\n\t\t\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\t\t\tcell.cellRendered();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitializeRow(row, force){\n\t\tif(row.type !== \"group\"){\n\t\t\tif(force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol){\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\twhile(rowEl.firstChild) rowEl.removeChild(rowEl.firstChild);\n\t\t\t\t\n\t\t\t\tthis.initializeRow(row);\n\t\t\t}\n\t\t}\n\t}\n}", "import CoreFeature from './CoreFeature.js';\nimport Column from './column/Column.js';\nimport ColumnComponent from './column/ColumnComponent.js';\nimport Helpers from './tools/Helpers.js';\nimport OptionsList from './tools/OptionsList.js';\n\nimport RendererBasicHorizontal from './rendering/renderers/BasicHorizontal.js';\nimport RendererVirtualDomHorizontal from './rendering/renderers/VirtualDomHorizontal.js';\n\nimport defaultColumnOptions from './column/defaults/options.js';\n\nexport default class ColumnManager extends CoreFeature {\n\n\tconstructor (table){\n\t\tsuper(table);\n\n\t\tthis.blockHozScrollEvent = false;\n\t\tthis.headersElement = null;\n\t\tthis.element = null ; //containing element\n\t\tthis.columns = []; // column definition object\n\t\tthis.columnsByIndex = []; //columns by index\n\t\tthis.columnsByField = {}; //columns by field\n\t\tthis.scrollLeft = 0;\n\t\tthis.optionsList = new OptionsList(this.table, \"column definition\", defaultColumnOptions);\n\n\t\tthis.renderer = null;\n\t}\n\n\t////////////// Setup Functions /////////////////\n\n\tinitialize(){\n\t\tthis.initializeRenderer();\n\n\t\tthis.headersElement = this.createHeadersElement();\n\t\tthis.element = this.createHeaderElement();\n\n\t\tthis.element.insertBefore(this.headersElement, this.element.firstChild);\n\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t}\n\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomHorizontal,\n\t\t\t\"basic\": RendererBasicHorizontal,\n\t\t};\n\n\t\tif(typeof this.table.options.renderHorizontal === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderHorizontal];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderHorizontal;\n\t\t}\n\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", table.options.renderHorizontal);\n\t\t}\n\t}\n\n\n\tcreateHeadersElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-headers\");\n\t\tel.setAttribute(\"role\", \"row\");\n\n\t\treturn el;\n\t}\n\n\tcreateHeaderElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-header\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\n\t\tif(!this.table.options.headerVisible){\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\n\t\t}\n\n\t\treturn el;\n\t}\n\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return header containing element\n\tgetHeadersElement(){\n\t\treturn this.headersElement;\n\t}\n\n\t//scroll horizontally to match table body\n\tscrollHorizontal(left){\n\t\tvar hozAdjust = 0,\n\t\tscrollWidth = this.element.scrollWidth - this.table.element.clientWidth;\n\n\t\t// this.tempScrollBlock();\n\t\tthis.element.scrollLeft = left;\n\n\t\t//adjust for vertical scrollbar moving table when present\n\t\tif(left > scrollWidth){\n\t\t\thozAdjust = left - scrollWidth;\n\t\t\tthis.element.style.marginLeft = (-(hozAdjust)) + \"px\";\n\t\t}else{\n\t\t\tthis.element.style.marginLeft = 0;\n\t\t}\n\n\t\tthis.scrollLeft = left;\n\n\t\tthis.renderer.scrollColumns(left);\n\t}\n\n\t///////////// Column Setup Functions /////////////\n\tgenerateColumnsFromRowData(data){\n\t\tvar cols = [],\n\t\tdefinitions = this.table.options.autoColumnsDefinitions,\n\t\trow, sorter;\n\n\t\tif(data && data.length){\n\n\t\t\trow = data[0];\n\n\t\t\tfor(var key in row){\n\t\t\t\tlet col = {\n\t\t\t\t\tfield:key,\n\t\t\t\t\ttitle:key,\n\t\t\t\t};\n\n\t\t\t\tlet value = row[key];\n\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\tif(Array.isArray(value)){\n\t\t\t\t\t\tsorter = \"array\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcol.sorter = sorter;\n\n\t\t\t\tcols.push(col);\n\t\t\t}\n\n\t\t\tif(definitions){\n\n\t\t\t\tswitch(typeof definitions){\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\tif(Array.isArray(definitions)){\n\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\tvar match = definitions.find((def) => {\n\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\tif(definitions[col.field]){\n\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.table.options.columns = cols;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.table.options.columns = cols;\n\t\t\t}\n\n\t\t\tthis.setColumns(this.table.options.columns);\n\t\t}\n\t}\n\n\tsetColumns(cols, row){\n\t\twhile(this.headersElement.firstChild) this.headersElement.removeChild(this.headersElement.firstChild);\n\n\t\tthis.columns = [];\n\t\tthis.columnsByIndex = [];\n\t\tthis.columnsByField = {};\n\n\t\tthis.dispatch(\"columns-loading\");\n\n\t\tcols.forEach((def, i) => {\n\t\t\tthis._addColumn(def);\n\t\t});\n\n\t\tthis._reIndexColumns();\n\n\t\tthis.dispatch(\"columns-loaded\");\n\n\t\tthis.renderer.rerenderColumns(false, true);\n\n\t\tthis.redraw(true);\n\t}\n\n\t_addColumn(definition, before, nextToColumn){\n\t\tvar column = new Column(definition, this),\n\t\tcolEl = column.getElement(),\n\t\tindex = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\n\t\tif(nextToColumn && index > -1){\n\t\t\tvar topColumn = nextToColumn.getTopColumn()\n\t\t\tvar parentIndex = this.columns.indexOf(topColumn);\n\t\t\tvar nextEl = topColumn.getElement();\n\n\t\t\tif(before){\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t\t}else{\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t\t}\n\t\t}else{\n\t\t\tif(before){\n\t\t\t\tthis.columns.unshift(column);\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t\t}else{\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t\t}\n\t\t}\n\n\t\tcolumn.columnRendered();\n\n\t\treturn column;\n\t}\n\n\tregisterColumnField(col){\n\t\tif(col.definition.field){\n\t\t\tthis.columnsByField[col.definition.field] = col;\n\t\t}\n\t}\n\n\tregisterColumnPosition(col){\n\t\tthis.columnsByIndex.push(col);\n\t}\n\n\t_reIndexColumns(){\n\t\tthis.columnsByIndex = [];\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t}\n\n\t//ensure column headers take up the correct amount of space in column groups\n\tverticalAlignHeaders(){\n\t\tvar minHeight = 0;\n\n\t\tthis.columns.forEach((column) => {\n\t\t\tvar height;\n\n\t\t\tcolumn.clearVerticalAlign();\n\n\t\t\theight = column.getHeight();\n\n\t\t\tif(height > minHeight){\n\t\t\t\tminHeight = height;\n\t\t\t}\n\t\t});\n\n\t\tthis.columns.forEach((column) => {\n\t\t\tcolumn.verticalAlign(this.table.options.columnHeaderVertAlign, minHeight);\n\t\t});\n\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\t//////////////// Column Details /////////////////\n\tfindColumn(subject){\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Column){\n\t\t\t\t//subject is column element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof ColumnComponent){\n\t\t\t\t//subject is public column component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the column header\n\t\t\t\tlet match = this.columns.find((column) => {\n\t\t\t\t\treturn column.element === subject;\n\t\t\t\t});\n\n\t\t\t\treturn match || false;\n\t\t\t}\n\n\t\t}else{\n\t\t\t//subject should be treated as the field name of the column\n\t\t\treturn this.columnsByField[subject] || false;\n\t\t}\n\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\n\tgetColumnByField(field){\n\t\treturn this.columnsByField[field];\n\t}\n\n\tgetColumnsByFieldRoot(root){\n\t\tvar matches = [];\n\n\t\tObject.keys(this.columnsByField).forEach((field) => {\n\t\t\tvar fieldRoot = field.split(\".\")[0];\n\t\t\tif(fieldRoot === root){\n\t\t\t\tmatches.push(this.columnsByField[field]);\n\t\t\t}\n\t\t});\n\n\t\treturn matches;\n\t}\n\n\tgetColumnByIndex(index){\n\t\treturn this.columnsByIndex[index];\n\t}\n\n\tgetFirstVisibleColumn(index){\n\t\tvar index = this.columnsByIndex.findIndex((col) => {\n\t\t\treturn col.visible;\n\t\t});\n\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\n\t}\n\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\n\tfindColumnIndex(column){\n\t\treturn this.columnsByIndex.findIndex((col) => {\n\t\t\treturn column === col;\n\t\t});\n\t}\n\n\t//return all columns that are not groups\n\tgetRealColumns(){\n\t\treturn this.columnsByIndex;\n\t}\n\n\t//travers across columns and call action\n\ttraverse(callback){\n\t\tthis.columnsByIndex.forEach((column,i) =>{\n\t\t\tcallback(column, i);\n\t\t});\n\t}\n\n\t//get defintions of actual columns\n\tgetDefinitions(active){\n\t\tvar output = [];\n\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(!active || (active && column.visible)){\n\t\t\t\toutput.push(column.getDefinition());\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get full nested definition tree\n\tgetDefinitionTree(){\n\t\tvar output = [];\n\n\t\tthis.columns.forEach((column) => {\n\t\t\toutput.push(column.getDefinition(true));\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetComponents(structured){\n\t\tvar output = [],\n\t\tcolumns = structured ? this.columns : this.columnsByIndex;\n\n\t\tcolumns.forEach((column) => {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetWidth(){\n\t\tvar width = 0;\n\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\treturn width;\n\t}\n\n\tmoveColumn(from, to, after){\n\t\tthis.moveColumnActual(from, to, after);\n\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\n\n\t\tif(after){\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t\t}\n\n\t\tthis.verticalAlignHeaders();\n\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\n\tmoveColumnActual(from, to, after){\n\t\tif(from.parent.isGroup){\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t\t}else{\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t\t}\n\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\n\t\tthis.renderer.rerenderColumns(true);\n\n\t\tthis.dispatch(\"column-moved\", from, to, after);\n\n\t\tif(this.subscribedExternal(\"columnMoved\")){\n\t\t\tthis.dispatchExternal(\"columnMoved\", from.getComponent(), this.table.columnManager.getComponents());\n\t\t}\n\t}\n\n\t_moveColumnInArray(columns, from, to, after, updateRows){\n\t\tvar\tfromIndex = columns.indexOf(from),\n\t\ttoIndex, rows = [];\n\n\t\tif (fromIndex > -1) {\n\n\t\t\tcolumns.splice(fromIndex, 1);\n\n\t\t\ttoIndex = columns.indexOf(to);\n\n\t\t\tif (toIndex > -1) {\n\n\t\t\t\tif(after){\n\t\t\t\t\ttoIndex = toIndex+1;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\ttoIndex = fromIndex;\n\t\t\t}\n\n\t\t\tcolumns.splice(toIndex, 0, from);\n\n\t\t\tif(updateRows){\n\n\t\t\t\trows = this.chain(\"column-moving-rows\", [from, to, after], null, []) || [];\n\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\n\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tif(row.cells.length){\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t}\n\t}\n\n\tscrollToColumn(column, position, ifVisible){\n\t\tvar left = 0,\n\t\toffset = 0,\n\t\tadjust = 0,\n\t\tcolEl = column.getElement();\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\tposition = this.table.options.scrollToColumnPosition;\n\t\t\t}\n\n\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\tifVisible = this.table.options.scrollToColumnIfVisible;\n\t\t\t}\n\n\t\t\tif(column.visible){\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\tadjust = -this.element.clientWidth / 2;\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\tadjust = colEl.clientWidth - this.headersElement.clientWidth;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t//check column visibility\n\t\t\t\tif(!ifVisible){\n\n\t\t\t\t\toffset = colEl.offsetLeft;\n\n\t\t\t\t\tif(offset > 0 && offset + colEl.offsetWidth < this.element.clientWidth){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//calculate scroll position\n\t\t\t\tleft = colEl.offsetLeft + adjust;\n\n\t\t\t\tleft = Math.max(Math.min(left, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth),0);\n\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.scrollHorizontal(left);\n\n\t\t\t\tresolve();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\t\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t\t}\n\n\t\t});\n\t}\n\n\t//////////////// Cell Management /////////////////\n\tgenerateCells(row){\n\t\tvar cells = [];\n\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tcells.push(column.generateCell(row));\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\t//////////////// Column Management /////////////////\n\tgetFlexBaseWidth(){\n\t\tvar totalWidth = this.table.element.clientWidth, //table element width\n\t\tfixedWidth = 0;\n\n\t\t//adjust for vertical scrollbar if present\n\t\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\n\t\tthis.columnsByIndex.forEach(function(column){\n\t\t\tvar width, minWidth, colWidth;\n\n\t\t\tif(column.visible){\n\n\t\t\t\twidth = column.definition.width || 0;\n\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\n\t\t\t\tif(typeof(width) == \"string\"){\n\t\t\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width) ;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tcolWidth = width;\n\t\t\t\t}\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t}\n\t\t});\n\n\t\treturn fixedWidth;\n\t}\n\n\taddColumn(definition, before, nextToColumn){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this._addColumn(definition, before, nextToColumn);\n\n\t\t\tthis._reIndexColumns();\n\n\t\t\tthis.dispatch(\"column-add\", definition, before, nextToColumn);\n\n\t\t\tif(this.layoutMode() != \"fitColumns\"){\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tthis.redraw(true);\n\n\t\t\tthis.table.rowManager.reinitialize();\n\n\t\t\tthis.renderer.rerenderColumns();\n\n\t\t\tresolve(column);\n\t\t});\n\t}\n\n\t//remove column from system\n\tderegisterColumn(column){\n\t\tvar field = column.getField(),\n\t\tindex;\n\n\t\t//remove from field list\n\t\tif(field){\n\t\t\tdelete this.columnsByField[field];\n\t\t}\n\n\t\t//remove from index list\n\t\tindex = this.columnsByIndex.indexOf(column);\n\n\t\tif(index > -1){\n\t\t\tthis.columnsByIndex.splice(index, 1);\n\t\t}\n\n\t\t//remove from column list\n\t\tindex = this.columns.indexOf(column);\n\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\n\t\tthis.verticalAlignHeaders();\n\n\t\tthis.redraw();\n\t}\n\n\t//redraw columns\n\tredraw(force){\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.verticalAlignHeaders();\n\t\t}\n\n\t\tif(force){\n\t\t\tthis.table.rowManager.resetScroll();\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t}\n\n\t\tif(!this.confirm(\"table-redrawing\", force)){\n\t\t\tthis.layoutRefresh();\n\t\t}\n\n\t\tthis.dispatch(\"table-redraw\", force);\n\n\t\tthis.table.footerManager.redraw();\n\t}\n}", "//public row object\nexport default class RowComponent {\n\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\tgetIndex(){\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\n\t}\n\n\tgetPosition(active){\n\t\treturn this._row.table.rowManager.getRowPosition(this._row, active);\n\t}\n\n\tdelete(){\n\t\treturn this._row.delete();\n\t}\n\n\tscrollTo(){\n\t\treturn this._row.table.rowManager.scrollToRow(this._row);\n\t}\n\n\tmove(to, after){\n\t\tthis._row.moveToRow(to, after);\n\t}\n\n\tupdate(data){\n\t\treturn this._row.updateData(data);\n\t}\n\n\tnormalizeHeight(){\n\t\tthis._row.normalizeHeight(true);\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n\n\treformat(){\n\t\treturn this._row.reinitialize();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetNextRow(){\n\t\tvar row = this._row.nextRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n\n\tgetPrevRow(){\n\t\tvar row = this._row.prevRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n}", "import CoreFeature from '../CoreFeature.js';\nimport RowComponent from './RowComponent.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Row extends CoreFeature{\n\tconstructor (data, parent, type = \"row\"){\n\t\tsuper(parent.table);\n\n\t\tthis.parent = parent;\n\t\tthis.data = {};\n\t\tthis.type = type; //type of element\n\t\tthis.element = false;\n\t\tthis.modules = {}; //hold module variables;\n\t\tthis.cells = [];\n\t\tthis.height = 0; //hold element height\n\t\tthis.heightStyled = \"\"; //hold element height prestyled to improve render efficiency\n\t\tthis.manualHeight = false; //user has manually set row height\n\t\tthis.outerHeight = 0; //hold elements outer height\n\t\tthis.initialized = false; //element has been rendered\n\t\tthis.heightInitialized = false; //element has resized cells to fit\n\n\t\tthis.component = null;\n\n\t\tthis.created = false;\n\n\t\tthis.setData(data);\n\t}\n\n\tcreate(){\n\t\tif(!this.created){\n\t\t\tthis.created = true;\n\t\t\tthis.generateElement();\n\t\t}\n\t}\n\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.setAttribute(\"role\", \"row\");\n\n\t\tthis.element = el;\n\t}\n\n\tgetElement(){\n\t\tthis.create();\n\t\treturn this.element;\n\t}\n\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\n\tgenerateElement(){\n\t\tthis.createElement();\n\t\tthis.dispatch(\"row-init\", this);\n\t}\n\n\tgenerateCells(){\n\t\tthis.cells = this.table.columnManager.generateCells(this);\n\t}\n\n\t//functions to setup on first render\n\tinitialize(force){\n\t\tthis.create();\n\n\t\tif(!this.initialized || force){\n\n\t\t\tthis.deleteCells();\n\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\tthis.dispatch(\"row-layout-before\", this);\n\n\t\t\tthis.generateCells();\n\n\t\t\tthis.initialized = true;\n\n\t\t\tthis.table.columnManager.renderer.renderRowCells(this);\n\n\t\t\tif(force){\n\t\t\t\tthis.normalizeHeight();\n\t\t\t}\n\n\t\t\tthis.dispatch(\"row-layout\", this);\n\n\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatch(\"row-layout-after\", this);\n\t\t}else{\n\t\t\tthis.table.columnManager.renderer.rerenderRowCells(this);\n\t\t}\n\t}\n\n\treinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.normalizeHeight(true);\n\t\t}\n\t}\n\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\n\tdeinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t}\n\n\treinitialize(children){\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\n\t\tif(!this.manualHeight){\n\t\t\tthis.height = 0;\n\t\t\tthis.heightStyled = \"\";\n\t\t}\n\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.initialize(true);\n\t\t}\n\n\t\tthis.dispatch(\"row-relayout\", this);\n\t}\n\n\t//get heights when doing bulk row style calcs in virtual DOM\n\tcalcHeight(force){\n\t\tvar maxHeight = 0,\n\t\tminHeight;\n\n\t\tif(this.table.options.rowHeight){\n\t\t\tthis.height = this.table.options.rowHeight;\n\t\t}else{\n\t\t\tminHeight = this.table.options.resizableRows ? this.element.clientHeight : 0;\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tvar height = cell.getHeight();\n\t\t\t\tif(height > maxHeight){\n\t\t\t\t\tmaxHeight = height;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(force){\n\t\t\t\tthis.height = Math.max(maxHeight, minHeight);\n\t\t\t}else{\n\t\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t\t\t}\n\t\t}\n\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n\n\t//set of cells\n\tsetCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setHeight();\n\t\t});\n\n\t\tthis.heightInitialized = true;\n\t}\n\n\tclearCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.clearHeight();\n\t\t});\n\t}\n\n\t//normalize the height of elements in the row\n\tnormalizeHeight(force){\n\t\tif(force && !this.table.options.rowHeight){\n\t\t\tthis.clearCellHeight();\n\t\t}\n\n\t\tthis.calcHeight(force);\n\n\t\tthis.setCellHeight();\n\t}\n\n\t//set height of rows\n\tsetHeight(height, force){\n\t\tif(this.height != height || force){\n\n\t\t\tthis.manualHeight = true;\n\n\t\t\tthis.height = height;\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\n\t\t\tthis.setCellHeight();\n\n\t\t\t// this.outerHeight = this.element.outerHeight();\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\n\t//return rows outer Width\n\tgetWidth(){\n\t\treturn this.element.offsetWidth;\n\t}\n\n\t//////////////// Cell Management /////////////////\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\n\t//////////////// Data Management /////////////////\n\tsetData(data){\n\t\tthis.data = this.chain(\"row-data-init-before\", [this, data], undefined, data);\n\n\t\tthis.dispatch(\"row-data-init-after\", this);\n\t}\n\n\t//update the rows data\n\tupdateData(updatedData){\n\t\tvar visible = this.element && Helpers.elVisible(this.element),\n\t\ttempData = {},\n\t\tnewRowData;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif(typeof updatedData === \"string\"){\n\t\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t\t}\n\n\t\t\tthis.dispatch(\"row-data-save-before\", this);\n\n\t\t\tif(this.subscribed(\"row-data-changing\")){\n\t\t\t\ttempData = Object.assign(tempData, this.data);\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\n\t\t\t}\n\n\t\t\tnewRowData = this.chain(\"row-data-changing\", [this, tempData, updatedData], null, updatedData);\n\n\t\t\t//set data\n\t\t\tfor (var attrname in newRowData) {\n\t\t\t\tthis.data[attrname] = newRowData[attrname];\n\t\t\t}\n\n\t\t\tthis.dispatch(\"row-data-save-after\", this);\n\n\t\t\t//update affected cells only\n\t\t\tfor (var attrname in updatedData) {\n\n\t\t\t\tlet columns = this.table.columnManager.getColumnsByFieldRoot(attrname);\n\n\t\t\t\tcolumns.forEach((column) => {\n\t\t\t\t\tlet cell = this.getCell(column.getField());\n\n\t\t\t\t\tif(cell){\n\t\t\t\t\t\tlet value = column.getFieldValue(newRowData);\n\t\t\t\t\t\tif(cell.getValue() != value){\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\n\n\t\t\t\t\t\t\tif(visible){\n\t\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Partial reinitialization if visible\n\t\t\tif(visible){\n\t\t\t\tthis.normalizeHeight(true);\n\n\t\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.initialized = false;\n\t\t\t\tthis.height = 0;\n\t\t\t\tthis.heightStyled = \"\";\n\t\t\t}\n\n\t\t\tthis.dispatch(\"row-data-changed\", this, visible, updatedData);\n\n\t\t\t//this.reinitialize();\n\n\t\t\tthis.dispatchExternal(\"rowUpdated\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\tif(transform){\n\t\t\treturn this.chain(\"row-data-retrieve\", [this, transform], null, this.data);\n\t\t}\n\n\t\treturn this.data;\n\t}\n\n\tgetCell(column){\n\t\tvar match = false;\n\n\t\tcolumn = this.table.columnManager.findColumn(column);\n\n\t\tif(!this.initialized){\n\t\t\tthis.generateCells();\n\t\t}\n\n\t\tmatch = this.cells.find(function(cell){\n\t\t\treturn cell.column === column;\n\t\t});\n\n\t\treturn match;\n\t}\n\n\tgetCellIndex(findCell){\n\t\treturn this.cells.findIndex(function(cell){\n\t\t\treturn cell === findCell;\n\t\t});\n\t}\n\n\tfindCell(subject){\n\t\treturn this.cells.find((cell) => {\n\t\t\treturn cell.element === subject;\n\t\t});\n\t}\n\n\tgetCells(){\n\t\tif(!this.initialized){\n\t\t\tthis.generateCells();\n\t\t}\n\n\t\treturn this.cells;\n\t}\n\n\tnextRow(){\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\n\tprevRow(){\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\n\tmoveToRow(to, before){\n\t\tvar toRow = this.table.rowManager.findRow(to);\n\n\t\tif(toRow){\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t\t}\n\t}\n\n\t///////////////////// Actions  /////////////////////\n\tdelete(){\n\t\tthis.dispatch(\"row-delete\", this);\n\n\t\tthis.deleteActual();\n\n\t\treturn Promise.resolve();\n\t}\n\n\tdeleteActual(blockRedraw){\n\t\tvar index = this.table.rowManager.getRowIndex(this);\n\n\t\tthis.detatchModules();\n\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\n\t\tthis.deleteCells();\n\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\tthis.element = false;\n\n\t\tthis.dispatch(\"row-deleted\", this);\n\t}\n\n\tdetatchModules(){\n\t\tthis.dispatch(\"row-deleting\", this);\n\t}\n\n\tdeleteCells(){\n\t\tvar cellCount = this.cells.length;\n\n\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\tthis.cells[0].delete();\n\t\t}\n\t}\n\n\twipe(){\n\t\tthis.detatchModules();\n\t\tthis.deleteCells();\n\n\t\tif(this.element){\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.modules = {};\n\t}\n\n\tgetGroup(){\n\t\treturn this.modules.group || false;\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new RowComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n", "import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class BaiscVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.scrollTop = 0;\n\t\telement.scrollLeft = 0;\n\n\t\telement.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\t}\n\n\trenderRows(){\n\t\tvar element = this.tableElement,\n\t\tonlyGroupHeaders = true;\n\n\t\tthis.rows().forEach((row, index) => {\n\t\t\tthis.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else{\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\n\n\trerenderRows(callback){\n\t\tthis.clearRows();\n\t\tthis.renderRows();\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowTop = Helpers.elOffset(row.getElement()).top;\n\n\t\treturn !(Math.abs(this.elementVertical.scrollTop - rowTop) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - rowTop));\n\t}\n\n\tscrollToRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tthis.elementVertical.scrollTop = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\treturn this.rows();\n\t}\n\n}", "import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class VirtualDomVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\t\tthis.vDomBottom = 0; //hold possition for last rendered row in the virtual DOM\n\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\t}\n\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.style.paddingTop = \"\";\n\t\telement.style.paddingBottom = \"\";\n\t\t// element.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\n\t\tthis.elementVertical.scrollTop = 0;\n\t\tthis.elementVertical.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomTop = 0;\n\t\tthis.vDomBottom = 0;\n\t\tthis.vDomTopPad = 0;\n\t\tthis.vDomBottomPad = 0;\n\t\tthis.vDomScrollPosTop = 0;\n\t\tthis.vDomScrollPosBottom = 0;\n\t}\n\n\trenderRows(){\n\t\tthis._virtualRenderFill();\n\t}\n\n\trerenderRows(callback){\n\t\tvar scrollTop = this.elementVertical.scrollTop;\n\t\tvar topRow = false;\n\t\tvar topOffset = false;\n\n\t\tvar left = this.table.rowManager.scrollLeft;\n\n\t\tvar rows = this.rows();\n\n\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\n\t\t\tif(rows[i]){\n\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\tif(topOffset === false || Math.abs(diff) < topOffset){\n\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\ttopRow = i;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trows.forEach((row) => {\n\t\t\trow.deinitializeHeight();\n\t\t});\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tthis._virtualRenderFill((topRow === false ? this.rows.length - 1 : topRow), true, topOffset || 0);\n\n\t\tthis.scrollColumns(left);\n\t}\n\n\tscrollColumns(left){\n\t\tthis.table.rowManager.scrollHorizontal(left);\n\t}\n\n\tscrollRows(top, dir){\n\t\tvar topDiff = top - this.vDomScrollPosTop;\n\t\tvar bottomDiff = top - this.vDomScrollPosBottom;\n\t\tvar margin = this.vDomWindowBuffer * 2;\n\t\tvar rows = this.rows();\n\n\t\tthis.scrollTop = top;\n\n\t\tif(-topDiff > margin || bottomDiff > margin){\n\t\t\t//if big scroll redraw table;\n\t\t\tvar left = this.table.rowManager.scrollLeft;\n\t\t\tthis._virtualRenderFill(Math.floor((this.elementVertical.scrollTop / this.elementVertical.scrollHeight) * rows.length));\n\t\t\tthis.scrollColumns(left);\n\t\t}else{\n\n\t\t\tif(dir){\n\t\t\t\t//scrolling up\n\t\t\t\tif(topDiff < 0){\n\t\t\t\t\tthis._addTopRow(rows, -topDiff);\n\t\t\t\t}\n\n\t\t\t\tif(bottomDiff < 0){\n\t\t\t\t\t//hide bottom row if needed\n\t\t\t\t\tif(this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeBottomRow(rows, -bottomDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(bottomDiff >= 0){\n\t\t\t\t\tthis._addBottomRow(rows, bottomDiff);\n\t\t\t\t}\n\n\t\t\t\t//scrolling down\n\t\t\t\tif(topDiff >= 0){\n\t\t\t\t\t//hide top row if needed\n\t\t\t\t\tif(this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeTopRow(rows, topDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tresize(){\n\t\tthis.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowIndex = this.rows().indexOf(row);\n\n\t\treturn !(Math.abs(this.vDomTop - rowIndex) > Math.abs(this.vDomBottom - rowIndex));\n\t}\n\n\tscrollToRow(row){\n\t\tvar index = this.rows().indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tthis._virtualRenderFill(index, true);\n\t\t}\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\tvar topEdge = this.elementVertical.scrollTop,\n\t\tbottomEdge = this.elementVertical.clientHeight + topEdge,\n\t\ttopFound = false,\n\t\ttopRow = 0,\n\t\tbottomRow = 0,\n\t\trows = this.rows();\n\n\t\tif(includingBuffer){\n\t\t\ttopRow = this.vDomTop;\n\t\t\tbottomRow = this.vDomBottom;\n\t\t}else{\n\t\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\t\t\t\tif(rows[i]){\n\t\t\t\t\tif(!topFound){\n\t\t\t\t\t\tif((topEdge - rows[i].getElement().offsetTop) >= 0){\n\t\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows.slice(topRow, bottomRow + 1);\n\t}\n\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\n\t//full virtual render\n\t_virtualRenderFill(position, forceMove, offset){\n\t\tvar\telement = this.tableElement,\n\t\tholder = this.elementVertical,\n\t\ttopPad = 0,\n\t\trowsHeight = 0,\n\t\theightOccupied = 0,\n\t\ttopPadHeight = 0,\n\t\ti = 0,\n\t\trows = this.rows(),\n\t\trowsCount = rows.length,\n\t\tcontainerHeight = this.elementVertical.clientHeight;\n\n\t\tposition = position || 0;\n\n\t\toffset = offset || 0;\n\n\t\tif(!position){\n\t\t\tthis.clear();\n\t\t}else{\n\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t\t//check if position is too close to bottom of table\n\t\t\theightOccupied = (rowsCount - position + 1) * this.vDomRowHeight;\n\n\t\t\tif(heightOccupied < containerHeight){\n\t\t\t\tposition -= Math.ceil((containerHeight - heightOccupied) / this.vDomRowHeight);\n\t\t\t\tif(position < 0){\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate initial pad\n\t\t\ttopPad = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight),  this.vDomWindowMinMarginRows), position);\n\t\t\tposition -= topPad;\n\t\t}\n\n\t\tif(rowsCount && Helpers.elVisible(this.elementVertical)){\n\t\t\tthis.vDomTop = position;\n\n\t\t\tthis.vDomBottom = position -1;\n\n\t\t\twhile ((rowsHeight <= containerHeight + this.vDomWindowBuffer || i < this.vDomWindowMinTotalRows) && this.vDomBottom < rowsCount -1){\n\t\t\t\tvar index = this.vDomBottom + 1,\n\t\t\t\trow = rows[index],\n\t\t\t\trowHeight = 0;\n\n\t\t\t\tthis.styleRow(row, index);\n\n\t\t\t\telement.appendChild(row.getElement());\n\n\t\t\t\trow.initialize();\n\n\t\t\t\tif(!row.heightInitialized){\n\t\t\t\t\trow.normalizeHeight(true);\n\t\t\t\t}\n\n\t\t\t\trowHeight = row.getHeight();\n\n\t\t\t\tif(i < topPad){\n\t\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t\t}else{\n\t\t\t\t\trowsHeight += rowHeight;\n\t\t\t\t}\n\n\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t}\n\n\t\t\t\tthis.vDomBottom ++;\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tif(!position){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t\t//adjust rowheight to match average of rendered elements\n\t\t\t\tthis.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / i);\n\t\t\t\tthis.vDomBottomPad = this.vDomRowHeight * (rowsCount - this.vDomBottom -1);\n\n\t\t\t\tthis.vDomScrollHeight = topPadHeight + rowsHeight + this.vDomBottomPad - containerHeight;\n\t\t\t}else{\n\t\t\t\tthis.vDomTopPad = !forceMove ? this.scrollTop - topPadHeight : (this.vDomRowHeight * this.vDomTop) + offset;\n\t\t\t\tthis.vDomBottomPad = this.vDomBottom == rowsCount-1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t\t}\n\n\t\t\telement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\telement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\n\t\t\tif(forceMove){\n\t\t\t\tthis.scrollTop = this.vDomTopPad + (topPadHeight) + offset - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - containerHeight : 0);\n\t\t\t}\n\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - containerHeight);\n\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\t\tif(this.elementVertical.scrollWidth > this.elementVertical.offsetWidth && forceMove){\n\t\t\t\tthis.scrollTop += this.elementVertical.offsetHeight - containerHeight;\n\t\t\t}\n\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\t\tholder.scrollTop = this.scrollTop;\n\n\t\t\tthis.dispatch(\"render-virtual-fill\");\n\t\t}\n\t}\n\n\t_addTopRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomTop -1,\n\t\ti = 0;\n\n\t\twhile(true){\n\t\t\tif(this.vDomTop){\n\t\t\t\tlet row = rows[index],\n\t\t\t\trowHeight, initialized;\n\n\t\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\t\ttable.insertBefore(row.getElement(), table.firstChild);\n\n\t\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.initialize();\n\n\t\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\t\tthis.vDomTop--;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t\ti++;\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad -= paddingAdjust;\n\n\t\t\tif(this.vDomTopPad < 0){\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif(index < 1){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= paddingAdjust;\n\t\t}\n\t}\n\n\t_removeTopRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0;\n\n\t\twhile(true){\n\t\t\tlet row = rows[this.vDomTop],\n\t\t\trowHeight, diff;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomTop++;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad += paddingAdjust;\n\t\t\tthis.tableElement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? paddingAdjust : paddingAdjust + this.vDomWindowBuffer;\n\t\t}\n\t}\n\n\t_addBottomRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomBottom + 1,\n\t\ti = 0;\n\n\t\twhile(true){\n\t\t\tlet row = rows[index],\n\t\t\trowHeight, initialized;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\ttable.appendChild(row.getElement());\n\n\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.initialize();\n\n\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tthis.vDomBottom++;\n\t\t\t\t\tindex++;\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad -= paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0 || index == rows.length -1){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += paddingAdjust;\n\t\t}\n\t}\n\n\t_removeBottomRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0;\n\n\t\twhile(true){\n\t\t\tlet row = rows[this.vDomBottom],\n\t\t\trowHeight, diff;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomBottom --;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad += paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\tthis.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom -= paddingAdjust;\n\t\t}\n\t}\n\n\t_quickNormalizeRowHeight(rows){\n\t\tfor(let row of rows){\n\t\t\trow.calcHeight();\n\t\t}\n\n\t\tfor(let row of rows){\n\t\t\trow.setCellHeight();\n\t\t}\n\t}\n}", "import CoreFeature from './CoreFeature.js';\nimport Row from './row/Row.js';\nimport RowComponent from './row/RowComponent.js';\nimport Helpers from './tools/Helpers.js';\n\nimport RendererBasicVertical from './rendering/renderers/BasicVertical.js';\nimport RendererVirtualDomVertical from './rendering/renderers/VirtualDomVertical.js';\n\nexport default class RowManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = this.createHolderElement(); //containing element\n\t\tthis.tableElement = this.createTableElement(); //table element\n\t\tthis.heightFixer = this.createTableElement(); //table element\n\t\tthis.placeholder = null; //placeholder element\n\t\tthis.placeholderContents = null; //placeholder element\n\n\t\tthis.firstRender = false; //handle first render\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\n\t\tthis.fixedHeight = false; //current rendering mode\n\n\t\tthis.rows = []; //hold row data objects\n\t\tthis.activeRowsPipeline = []; //hold calculation of active rows\n\t\tthis.activeRows = []; //rows currently available to on display in the table\n\t\tthis.activeRowsCount = 0; //count of active rows\n\n\t\tthis.displayRows = []; //rows currently on display in the table\n\t\tthis.displayRowsCount = 0; //count of display rows\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.rowNumColumn = false; //hold column component for row number column\n\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\t\tthis.redrawBlockRenderInPosition = false; //store latest redraw function calls for when redraw is needed\n\n\t\tthis.dataPipeline = []; //hold data pipeline tasks\n\t\tthis.displayPipeline = []; //hold data display pipeline tasks\n\n\t\tthis.renderer = null;\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\n\tcreateHolderElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-tableholder\");\n\t\tel.setAttribute(\"tabindex\", 0);\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\n\t\treturn el;\n\t}\n\n\tcreateTableElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-table\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\n\t\treturn el;\n\t}\n\n\tinitializePlaceholder(){\n\t\t//configure placeholder element\n\t\tif(typeof this.table.options.placeholder == \"string\"){\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-placeholder\");\n\n\t\t\tlet contents = document.createElement(\"div\");\n\t\t\tcontents.classList.add(\"tabulator-placeholder-contents\");\n\t\t\tcontents.innerHTML = this.table.options.placeholder;\n\n\t\t\tel.appendChild(contents);\n\n\t\t\tthis.placeholderContents = contents;\n\t\t\tthis.placeholder = el;\n\t\t}\n\t}\n\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return table element\n\tgetTableElement(){\n\t\treturn this.tableElement;\n\t}\n\n\t//return position of row in table\n\tgetRowPosition(row, active){\n\t\tif(active){\n\t\t\treturn this.activeRows.indexOf(row);\n\t\t}else{\n\t\t\treturn this.rows.indexOf(row);\n\t\t}\n\t}\n\n\tinitialize(){\n\t\tthis.initializePlaceholder()\n\t\tthis.initializeRenderer();\n\n\t\t//initialize manager\n\t\tthis.element.appendChild(this.tableElement);\n\n\t\tthis.firstRender = true;\n\n\t\t//scroll header along with table body\n\t\tthis.element.addEventListener(\"scroll\", () => {\n\t\t\tvar left = this.element.scrollLeft,\n\t\t\tleftDir = this.scrollLeft > left,\n\t\t\ttop = this.element.scrollTop,\n\t\t\ttopDir = this.scrollTop > top;\n\n\t\t\t//handle horizontal scrolling\n\t\t\tif(this.scrollLeft != left){\n\t\t\t\tthis.scrollLeft = left;\n\n\t\t\t\tthis.dispatch(\"scroll-horizontal\", left, leftDir);\n\t\t\t\tthis.dispatchExternal(\"scrollHorizontal\", left, leftDir);\n\n\t\t\t\tthis._positionPlaceholder();\n\t\t\t}\n\n\t\t\t//handle vertical scrolling\n\t\t\tif(this.scrollTop != top){\n\t\t\t\tthis.scrollTop = top;\n\n\t\t\t\tthis.renderer.scrollRows(top, topDir);\n\n\t\t\t\tthis.dispatch(\"scroll-vertical\", top, topDir);\n\t\t\t\tthis.dispatchExternal(\"scrollVertical\", top, topDir);\n\t\t\t}\n\t\t});\n\t}\n\n\t////////////////// Row Manipulation //////////////////\n\tfindRow(subject){\n\t\tif(typeof subject == \"object\"){\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the row\n\t\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\t\treturn row.getElement() === subject;\n\t\t\t\t});\n\n\t\t\t\treturn match || false;\n\t\t\t}\n\t\t}else if(typeof subject == \"undefined\" || subject === null){\n\t\t\treturn false;\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\n\t\t\treturn match || false;\n\t\t}\n\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\n\tgetRowFromDataObject(data){\n\t\tvar match = this.rows.find((row) => {\n\t\t\treturn row.data === data;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\tgetRowFromPosition(position, active){\n\t\tif(active){\n\t\t\treturn this.activeRows[position];\n\t\t}else{\n\t\t\treturn this.rows[position];\n\t\t}\n\t}\n\n\tscrollToRow(row, position, ifVisible){\n\t\treturn this.renderer.scrollToRowPosition(row, position, ifVisible);\n\t}\n\n\t////////////////// Data Handling //////////////////\n\tsetData(data, renderInPosition, columnsChanged){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tif(renderInPosition && this.getDisplayRows().length){\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\tthis._setDataActual(data, true);\n\t\t\t\t}else{\n\t\t\t\t\tthis.reRenderInPosition(() => {\n\t\t\t\t\t\tthis._setDataActual(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.options.autoColumns && columnsChanged && this.table.initialized){\n\t\t\t\t\tthis.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t\t}\n\t\t\t\tthis.resetScroll();\n\n\t\t\t\tthis._setDataActual(data);\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\t}\n\n\t_setDataActual(data, renderInPosition){\n\t\tthis.dispatchExternal(\"dataProcessing\", data);\n\n\t\tthis._wipeElements();\n\n\t\tif(Array.isArray(data)){\n\t\t\tthis.dispatch(\"data-processing\", data);\n\n\t\t\tdata.forEach((def, i) => {\n\t\t\t\tif(def && typeof def === \"object\"){\n\t\t\t\t\tvar row = new Row(def, this);\n\t\t\t\t\tthis.rows.push(row);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.refreshActiveData(false, false, renderInPosition);\n\n\t\t\tthis.dispatch(\"data-processed\", data);\n\t\t\tthis.dispatchExternal(\"dataProcessed\", data);\n\t\t}else{\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\n\t\t}\n\t}\n\n\t_wipeElements(){\n\t\tthis.dispatch(\"rows-wipe\");\n\n\t\tthis.rows.forEach((row) => {\n\t\t\trow.wipe();\n\t\t});\n\n\t\tthis.rows = [];\n\t\tthis.activeRows = [];\n\t\tthis.activeRowsPipeline = [];\n\t\tthis.activeRowsCount = 0;\n\t\tthis.displayRows = [];\n\t\tthis.displayRowsCount = 0;\n\n\t\tthis.adjustTableSize();\n\t}\n\n\tdeleteRow(row, blockRedraw){\n\t\tvar allIndex = this.rows.indexOf(row),\n\t\tactiveIndex = this.activeRows.indexOf(row);\n\n\t\tif(activeIndex > -1){\n\t\t\tthis.activeRows.splice(activeIndex, 1);\n\t\t}\n\n\t\tif(allIndex > -1){\n\t\t\tthis.rows.splice(allIndex, 1);\n\t\t}\n\n\t\tthis.setActiveRows(this.activeRows);\n\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tvar displayIndex = rows.indexOf(row);\n\n\t\t\tif(displayIndex > -1){\n\t\t\t\trows.splice(displayIndex, 1);\n\t\t\t}\n\t\t});\n\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\n\t\tthis.regenerateRowNumbers();\n\n\t\tthis.dispatchExternal(\"rowDeleted\", row.getComponent());\n\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.getData());\n\t\t}\n\t}\n\n\taddRow(data, pos, index, blockRedraw){\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\t\treturn row;\n\t}\n\n\t//add multiple rows\n\taddRows(data, pos, index){\n\t\tvar length = 0,\n\t\trows = [];\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpos = this.findAddRowPos(pos);\n\n\t\t\tif(!Array.isArray(data)){\n\t\t\t\tdata = [data];\n\t\t\t}\n\n\t\t\tlength = data.length - 1;\n\n\t\t\tif((typeof index == \"undefined\" && pos) || (typeof index !== \"undefined\" && !pos)){\n\t\t\t\tdata.reverse();\n\t\t\t}\n\n\t\t\tdata.forEach((item, i) => {\n\t\t\t\tvar row = this.addRow(item, pos, index, true);\n\t\t\t\trows.push(row);\n\t\t\t\tthis.dispatch(\"row-added\", row, data, pos, index);\n\t\t\t});\n\n\t\t\tthis.refreshActiveData(false, false, true);\n\n\t\t\tthis.regenerateRowNumbers();\n\n\t\t\tif(rows.length){\n\t\t\t\tthis._clearPlaceholder();\n\t\t\t}\n\n\t\t\tresolve(rows);\n\t\t});\n\t}\n\n\tfindAddRowPos(pos){\n\t\tif(typeof pos === \"undefined\"){\n\t\t\tpos = this.table.options.addRowPos;\n\t\t}\n\n\t\tif(pos === \"pos\"){\n\t\t\tpos = true;\n\t\t}\n\n\t\tif(pos === \"bottom\"){\n\t\t\tpos = false;\n\t\t}\n\n\t\treturn pos;\n\t}\n\n\taddRowActual(data, pos, index, blockRedraw){\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t\ttop = this.findAddRowPos(pos),\n\t\tallIndex = -1,\n\t\tactiveIndex, chainResult;\n\n\t\tif(!index){\n\t\t\tchainResult = this.chain(\"row-adding-position\", [row, top], null, {index, top});\n\n\t\t\tindex = chainResult.index;\n\t\t\ttop = chainResult.top;\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tindex = this.findRow(index);\n\t\t}\n\n\t\tindex = this.chain(\"row-adding-index\", [row, index, top], null, index);\n\n\t\tif(index){\n\t\t\tallIndex = this.rows.indexOf(index);\n\t\t}\n\n\t\tif(index && allIndex > -1){\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\n\n\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\tvar displayIndex = rows.indexOf(index);\n\n\t\t\t\tif(displayIndex > -1){\n\t\t\t\t\trows.splice((top ? displayIndex : displayIndex + 1), 0, row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(activeIndex > -1){\n\t\t\t\tthis.activeRows.splice((top ? activeIndex : activeIndex + 1), 0, row);\n\t\t\t}\n\n\t\t\tthis.rows.splice((top ? allIndex : allIndex + 1), 0, row);\n\n\t\t}else{\n\n\t\t\tif(top){\n\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.unshift(row);\n\t\t\t\t});\n\n\t\t\t\tthis.activeRows.unshift(row);\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}else{\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.push(row);\n\t\t\t\t});\n\n\t\t\t\tthis.activeRows.push(row);\n\t\t\t\tthis.rows.push(row);\n\t\t\t}\n\t\t}\n\n\t\tthis.setActiveRows(this.activeRows);\n\n\t\tthis.dispatchExternal(\"rowAdded\", row.getComponent());\n\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t}\n\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\n\t\treturn row;\n\t}\n\n\tmoveRow(from, to, after){\n\t\tthis.dispatch(\"row-move\", from, to, after);\n\n\t\tthis.moveRowActual(from, to, after);\n\n\t\tthis.regenerateRowNumbers();\n\n\t\tthis.dispatch(\"row-moved\", from, to, after);\n\t\tthis.dispatchExternal(\"rowMoved\", from.getComponent());\n\t}\n\n\tmoveRowActual(from, to, after){\n\t\tthis.moveRowInArray(this.rows, from, to, after);\n\t\tthis.moveRowInArray(this.activeRows, from, to, after);\n\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tthis.moveRowInArray(rows, from, to, after);\n\t\t});\n\n\t\tthis.dispatch(\"row-moving\", from, to, after);\n\t}\n\n\tmoveRowInArray(rows, from, to, after){\n\t\tvar\tfromIndex, toIndex, start, end;\n\n\t\tif(from !== to){\n\n\t\t\tfromIndex = rows.indexOf(from);\n\n\t\t\tif (fromIndex > -1) {\n\n\t\t\t\trows.splice(fromIndex, 1);\n\n\t\t\t\ttoIndex = rows.indexOf(to);\n\n\t\t\t\tif (toIndex > -1) {\n\n\t\t\t\t\tif(after){\n\t\t\t\t\t\trows.splice(toIndex+1, 0, from);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//restyle rows\n\t\t\tif(rows === this.getDisplayRows()){\n\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex +1;\n\n\t\t\t\tfor(let i = start; i <= end; i++){\n\t\t\t\t\tif(rows[i]){\n\t\t\t\t\t\tthis.styleRow(rows[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tclearData(){\n\t\tthis.setData([]);\n\t}\n\n\tgetRowIndex(row){\n\t\treturn this.findRowIndex(row, this.rows);\n\t}\n\n\tgetDisplayRowIndex(row){\n\t\tvar index = this.getDisplayRows().indexOf(row);\n\t\treturn index > -1 ? index : false;\n\t}\n\n\tnextDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tnextRow = false;\n\n\n\t\tif(index !== false && index < this.displayRowsCount -1){\n\t\t\tnextRow = this.getDisplayRows()[index+1];\n\t\t}\n\n\t\tif(nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")){\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t\t}\n\n\t\treturn nextRow;\n\t}\n\n\tprevDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tprevRow = false;\n\n\t\tif(index){\n\t\t\tprevRow = this.getDisplayRows()[index-1];\n\t\t}\n\n\t\tif(rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")){\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t\t}\n\n\t\treturn prevRow;\n\t}\n\n\tfindRowIndex(row, list){\n\t\tvar rowIndex;\n\n\t\trow = this.findRow(row);\n\n\t\tif(row){\n\t\t\trowIndex = list.indexOf(row);\n\n\t\t\tif(rowIndex > -1){\n\t\t\t\treturn rowIndex;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tgetData(active, transform){\n\t\tvar output = [],\n\t\trows = this.getRows(active);\n\n\t\trows.forEach(function(row){\n\t\t\tif(row.type == \"row\"){\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetComponents(active){\n\t\tvar\toutput = [],\n\t\trows = this.getRows(active);\n\n\t\trows.forEach(function(row){\n\t\t\toutput.push(row.getComponent());\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetDataCount(active){\n\t\tvar rows = this.getRows(active);\n\n\t\treturn rows.length;\n\t}\n\n\tscrollHorizontal(left){\n\t\tthis.scrollLeft = left;\n\t\tthis.element.scrollLeft = left;\n\n\t\tthis.dispatch(\"scroll-horizontal\", left);\n\t}\n\n\tregisterDataPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.dataPipeline.push({handler, priority})\n\t\t\tthis.dataPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Data pipeline handlers must have a priority in order to be registered\")\n\t\t}\n\t}\n\n\tregisterDisplayPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.displayPipeline.push({handler, priority})\n\t\t\tthis.displayPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Display pipeline handlers must have a priority in order to be registered\")\n\t\t}\n\t}\n\n\t//set active data set\n\trefreshActiveData(handler, skipStage, renderInPosition){\n\t\tvar table = this.table,\n\t\tstage = \"\",\n\t\tindex = 0,\n\t\tcascadeOrder = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"],\n\t\tdisplayIndex;\n\n\n\t\tif(typeof handler === \"function\"){\n\t\t\tindex = this.dataPipeline.findIndex((item) => {\n\t\t\t\treturn item.handler === handler;\n\t\t\t});\n\n\t\t\tif(index > -1){\n\t\t\t\tstage = \"dataPipeline\";\n\n\t\t\t\tif(skipStage){\n\t\t\t\t\tif(index == this.dataPipeline.length - 1){\n\t\t\t\t\t\tstage = \"display\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tindex = this.displayPipeline.findIndex((item) => {\n\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tstage = \"displayPipeline\";\n\n\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\tif(index == this.displayPipeline.length - 1){\n\t\t\t\t\t\t\tstage = \"end\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.error(\"Unable to refresh data, invalid handler provided\", handler)\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tstage = handler || \"all\";\n\t\t\tindex = 0;\n\t\t}\n\n\t\tif(this.redrawBlock){\n\t\t\tif(!this.redrawBlockRestoreConfig || (this.redrawBlockRestoreConfig && ((this.redrawBlockRestoreConfig.stage === stage && index < this.redrawBlockRestoreConfig.index) || (cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))))){\n\t\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\t\thandler: handler,\n\t\t\t\t\tskipStage: skipStage,\n\t\t\t\t\trenderInPosition: renderInPosition,\n\t\t\t\t\tstage:stage,\n\t\t\t\t\tindex:index,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn;\n\t\t}else{\n\t\t\tif(Helpers.elVisible(this.element)){\n\t\t\t\tif(renderInPosition){\n\t\t\t\t\tthis.reRenderInPosition(this.refreshPipelines.bind(this, handler, stage, index, renderInPosition));\n\t\t\t\t}else{\n\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\n\t\t\t\t\tif(!handler){\n\t\t\t\t\t\tthis.table.columnManager.renderer.renderColumns();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.renderTable();\n\n\t\t\t\t\tif(table.options.layoutColumnsOnNewData){\n\t\t\t\t\t\tthis.table.columnManager.redraw(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t}\n\n\t\t\tthis.dispatch(\"data-refreshed\");\n\t\t}\n\t}\n\n\trefreshPipelines(handler, stage, index, renderInPosition){\n\t\tthis.dispatch(\"data-refreshing\");\n\n\t\tif(!handler){\n\t\t\tthis.activeRowsPipeline[0] = this.rows.slice(0);\n\t\t}\n\n\t\t//cascade through data refresh stages\n\t\tswitch(stage){\n\t\t\tcase \"all\":\n\t\t\t//handle case where alldata needs refreshing\n\n\t\t\tcase \"dataPipeline\":\n\n\t\t\tfor(let i = index; i < this.dataPipeline.length; i++){\n\t\t\t\tlet result = this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));\n\n\t\t\t\tthis.activeRowsPipeline[i + 1] = result || this.activeRowsPipeline[i].slice(0);\n\t\t\t}\n\n\t\t\tthis.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n\n\t\t\tthis.regenerateRowNumbers();\n\n\t\t\tcase \"display\":\n\t\t\tindex = 0;\n\t\t\tthis.resetDisplayRows();\n\n\t\t\tcase \"displayPipeline\":\n\t\t\tfor(let i = index; i < this.displayPipeline.length; i++){\n\t\t\t\tlet result = this.displayPipeline[i].handler((i ? this.getDisplayRows(i - 1) : this.activeRows).slice(0), renderInPosition);\n\n\t\t\t\tthis.setDisplayRows(result || this.getDisplayRows(i - 1).slice(0), i);\n\t\t\t}\n\n\t\t\tcase \"end\":\n\t\t\t//case to handle scenario when trying to skip past end stage\n\t\t}\n\t}\n\n\t//regenerate row numbers for row number formatter if in use\n\tregenerateRowNumbers(){\n\t\tif(this.rowNumColumn){\n\t\t\tthis.activeRows.forEach((row) => {\n\t\t\t\tvar cell = row.getCell(this.rowNumColumn);\n\n\t\t\t\tif(cell){\n\t\t\t\t\tcell._generateContents();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tsetActiveRows(activeRows){\n\t\tthis.activeRows = activeRows;\n\t\tthis.activeRowsCount = this.activeRows.length;\n\t}\n\n\t//reset display rows array\n\tresetDisplayRows(){\n\t\tthis.displayRows = [];\n\n\t\tthis.displayRows.push(this.activeRows.slice(0));\n\n\t\tthis.displayRowsCount = this.displayRows[0].length;\n\t}\n\n\tgetNextDisplayIndex(){\n\t\treturn this.displayRows.length;\n\t}\n\n\t//set display row pipeline data\n\tsetDisplayRows(displayRows, index){\n\n\t\tvar output = true;\n\n\t\tif(index && typeof this.displayRows[index] != \"undefined\"){\n\t\t\tthis.displayRows[index] = displayRows;\n\t\t\toutput = true;\n\t\t}else{\n\t\t\tthis.displayRows.push(displayRows)\n\t\t\toutput = index = this.displayRows.length -1;\n\t\t}\n\n\t\tif(index == this.displayRows.length -1){\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetDisplayRows(index){\n\t\tif(typeof index == \"undefined\"){\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length -1] : [];\n\t\t}else{\n\t\t\treturn this.displayRows[index] || [];\n\t\t}\n\t}\n\n\tgetVisibleRows(chain, viewable){\n\t\tvar rows =  Object.assign([], this.renderer.visibleRows(!viewable));\n\n\t\tif(chain){\n\t\t\trows = this.chain(\"rows-visible\", [viewable], rows, rows);\n\t\t}\n\n\t\treturn rows;\n\t}\n\n\t//repeat action accross display rows\n\tdisplayRowIterator(callback){\n\t\tthis.activeRowsPipeline.forEach(callback);\n\t\tthis.displayRows.forEach(callback);\n\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t}\n\n\t//return only actual rows (not group headers etc)\n\tgetRows(type){\n\t\tvar rows;\n\n\t\tswitch(type){\n\t\t\tcase \"active\":\n\t\t\trows = this.activeRows;\n\t\t\tbreak;\n\n\t\t\tcase \"display\":\n\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\tbreak;\n\n\t\t\tcase \"visible\":\n\t\t\trows = this.getVisibleRows(false, true);\n\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\trows = this.chain(\"rows-retrieve\", type, null, this.rows) || this.rows;\n\t\t}\n\n\t\treturn rows;\n\t}\n\n\t///////////////// Table Rendering /////////////////\n\t//trigger rerender of table in current position\n\treRenderInPosition(callback){\n\t\tif(this.redrawBlock){\n\t\t\tif(callback){\n\t\t\t\tcallback();\n\t\t\t}else{\n\t\t\t\tthis.redrawBlockRenderInPosition = true;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\tthis.renderer.rerenderRows(callback);\n\t\t\tthis.dispatchExternal(\"renderComplete\");\n\t\t}\n\t}\n\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomVertical,\n\t\t\t\"basic\": RendererBasicVertical,\n\t\t};\n\n\t\tif(typeof this.table.options.renderVertical === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderVertical];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderVertical;\n\t\t}\n\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\n\t\t\tif((this.table.element.clientHeight || this.table.options.height)){\n\t\t\t\tthis.fixedHeight = true;\n\t\t\t}else{\n\t\t\t\tthis.fixedHeight = false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", table.options.renderVertical);\n\t\t}\n\t}\n\n\tgetRenderMode(){\n\t\treturn this.renderMode;\n\t}\n\n\trenderTable(){\n\t\tthis.dispatchExternal(\"renderStarted\");\n\n\t\tthis.element.scrollTop = 0;\n\n\t\tthis._clearTable();\n\n\t\tif(this.displayRowsCount){\n\t\t\tthis.renderer.renderRows();\n\n\t\t\tif(this.firstRender){\n\t\t\t\tthis.firstRender = false;\n\t\t\t\tthis.layoutRefresh();\n\t\t\t}\n\t\t}else{\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\n\t\tif(!this.fixedHeight){\n\t\t\tthis.adjustTableSize();\n\t\t}\n\n\t\tthis.dispatch(\"table-layout\");\n\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\n\t\tthis.dispatchExternal(\"renderComplete\");\n\t}\n\n\t//show scrollbars on empty table div\n\trenderEmptyScroll(){\n\t\tif(this.placeholder){\n\t\t\tthis.tableElement.style.display = \"none\";\n\t\t}else{\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\n\t\t}\n\t}\n\n\t_clearTable(){\n\t\tvar element = this.tableElement;\n\n\t\tthis._clearPlaceholder();\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.renderer.clearRows();\n\t}\n\n\t_showPlaceholder(){\n\t\tif(this.placeholder){\n\t\t\tthis.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\n\t\t\tthis.getElement().appendChild(this.placeholder);\n\t\t\tthis._positionPlaceholder();\n\t\t}\n\t}\n\n\t_clearPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t}\n\t}\n\n\t_positionPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t\tthis.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\";\n\t\t\tthis.placeholderContents.style.marginLeft = this.scrollLeft + \"px\";\n\t\t}\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t//normalize height of active rows\n\tnormalizeHeight(){\n\t\tthis.activeRows.forEach(function(row){\n\t\t\trow.normalizeHeight();\n\t\t});\n\t}\n\n\t//adjust the height of the table holder to fit in the Tabulator element\n\tadjustTableSize(){\n\t\tvar initialHeight = this.element.clientHeight,\n\t\tmodExists;\n\n\t\tif(this.renderer.verticalFillMode === \"fill\"){\n\t\t\tlet otherHeight =  Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n\n\t\t\tif(this.fixedHeight){\n\t\t\t\tthis.element.style.minHeight = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.maxHeight = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t}else{\n\t\t\t\tthis.element.style.height = \"\";\n\t\t\t\tthis.element.style.height = (this.table.element.clientHeight - otherHeight) + \"px\";\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t\t}\n\n\t\t\tthis.renderer.resize();\n\n\t\t\t//check if the table has changed size when dealing with variable height tables\n\t\t\tif(!this.fixedHeight && initialHeight != this.element.clientHeight){\n\t\t\t\tif(this.subscribed(\"table-resize\")){\n\t\t\t\t\tthis.dispatch(\"table-resize\");\n\t\t\t\t}else{\n\t\t\t\t\tthis.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._positionPlaceholder();\n\t}\n\n\t//renitialize all rows\n\treinitialize(){\n\t\tthis.rows.forEach(function(row){\n\t\t\trow.reinitialize(true);\n\t\t});\n\t}\n\n\t//prevent table from being redrawn\n\tblockRedraw (){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockRestoreConfig = false;\n\t}\n\n\t//restore table redrawing\n\trestoreRedraw (){\n\t\tthis.redrawBlock = false;\n\n\t\tif(this.redrawBlockRestoreConfig){\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition)\n\n\t\t\tthis.redrawBlockRestoreConfig = false;\n\t\t}else{\n\t\t\tif(this.redrawBlockRenderInPosition){\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t}\n\n\t\tthis.redrawBlockRenderInPosition = false;\n\t}\n\n\t//redraw table\n\tredraw (force){\n\t\tvar pos = 0,\n\t\tleft = this.scrollLeft;\n\n\t\tthis.adjustTableSize();\n\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\n\n\t\tif(!force){\n\t\t\tthis.reRenderInPosition();\n\t\t\tthis.scrollHorizontal(left);\n\t\t}else{\n\t\t\tthis.renderTable();\n\t\t}\n\t}\n\n\tresetScroll(){\n\t\tthis.element.scrollLeft = 0;\n\t\tthis.element.scrollTop = 0;\n\n\t\tif(this.table.browser === \"ie\"){\n\t\t\tvar event = document.createEvent(\"Event\");\n\t\t\tevent.initEvent(\"scroll\", false, true);\n\t\t\tthis.element.dispatchEvent(event);\n\t\t}else{\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t\t}\n\t}\n}\n", "import CoreFeature from './CoreFeature.js';\n\nexport default class FooterManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.active = false;\n\t\tthis.element = this.createElement(); //containing element\n\t\tthis.containerElement = this.createContainerElement(); //containing element\n\t\tthis.external = false;\n\t}\n\n\tinitialize(){\n\t\tthis.initializeElement();\n\t}\n\n\tcreateElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer\");\n\n\t\treturn el;\n\t}\n\n\t\n\tcreateContainerElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer-contents\");\n\n\t\tthis.element.appendChild(el);\n\n\t\treturn el;\n\t}\n\n\tinitializeElement(){\n\t\tif(this.table.options.footerElement){\n\n\t\t\tswitch(typeof this.table.options.footerElement){\n\t\t\t\tcase \"string\":\n\t\t\t\tif(this.table.options.footerElement[0] === \"<\"){\n\t\t\t\t\tthis.containerElement.innerHTML = this.table.options.footerElement;\n\t\t\t\t}else{\n\t\t\t\t\tthis.external = true;\n\t\t\t\t\tthis.containerElement = document.querySelector(this.table.options.footerElement);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tappend(element){\n\t\tthis.activate();\n\n\t\tthis.containerElement.appendChild(element);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tprepend(element){\n\t\tthis.activate();\n\n\t\tthis.element.insertBefore(element, this.element.firstChild);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tremove(element){\n\t\telement.parentNode.removeChild(element);\n\t\tthis.deactivate();\n\t}\n\n\tdeactivate(force){\n\t\tif(!this.element.firstChild || force){\n\t\t\tif(!this.external){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tactivate(){\n\t\tif(!this.active){\n\t\t\tthis.active = true;\n\t\t\tif(!this.external){\n\t\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\t\tthis.table.element.style.display = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tredraw(){\n\t\tthis.dispatch(\"footer-redraw\")\n\t}\n}", "import CoreFeature from '../CoreFeature.js';\nimport Helpers from './Helpers.js';\nimport Row from '../row/Row.js';\n\nexport default class InteractionManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.el = null;\n\t\t\n\t\tthis.abortClasses = [\"tabulator-headers\", \"tabulator-table\"];\n\t\t\n\t\tthis.previousTargets = {};\n\t\t\n\t\tthis.listeners = [\n\t\t\t\"click\",\n\t\t\t\"dblclick\",\n\t\t\t\"contextmenu\",\n\t\t\t\"mouseenter\",\n\t\t\t\"mouseleave\",\n\t\t\t\"mouseover\",\n\t\t\t\"mouseout\",\n\t\t\t\"mousemove\",\n\t\t\t\"touchstart\",\n\t\t\t\"touchend\",\n\t\t];\n\t\t\n\t\tthis.componentMap = {\n\t\t\t\"tabulator-cell\":\"cell\",\n\t\t\t\"tabulator-row\":\"row\",\n\t\t\t\"tabulator-group\":\"group\",\n\t\t\t\"tabulator-col\":\"column\",\n\t\t};\n\t\t\n\t\tthis.pseudoTrackers = {\n\t\t\t\"row\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"cell\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"group\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"column\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t}\n\t\t\n\t\tthis.pseudoTracking = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.el = this.table.element;\n\t\t\n\t\tthis.buildListenerMap();\n\t\tthis.bindSubscriptionWatchers();\n\t}\n\t\n\tbuildListenerMap(){\n\t\tvar listenerMap = {};\n\t\t\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tlistenerMap[listener] = {\n\t\t\t\thandler:null,\n\t\t\t\tcomponents:[],\n\t\t\t}\n\t\t})\n\t\t\n\t\tthis.listeners = listenerMap;\n\t}\n\t\n\tbindPseudoEvents(){\n\t\tObject.keys(this.pseudoTrackers).forEach((key) => {\n\t\t\tthis.pseudoTrackers[key].subscriber = this.pseudoMouseEnter.bind(this, key);\n\t\t\tthis.subscribe(key + \"-mouseover\", this.pseudoTrackers[key].subscriber);\n\t\t});\n\t\t\n\t\tthis.pseudoTracking = true;\n\t}\n\t\n\tpseudoMouseEnter(key, e, target){\n\t\tif(this.pseudoTrackers[key].target !== target){\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, this.pseudoTrackers[key].target);\n\t\t\t}\n\t\t\t\n\t\t\tthis.pseudoMouseLeave(key, e);\n\t\t\t\n\t\t\tthis.pseudoTrackers[key].target = target;\n\t\t\t\n\t\t\tthis.dispatch(key + \"-mouseenter\", e, target);\n\t\t}\n\t}\n\t\n\tpseudoMouseLeave(key, e){\n\t\tvar leaveList = Object.keys(this.pseudoTrackers),\n\t\tlinkedKeys = {\n\t\t\t\"row\":[\"cell\"],\n\t\t\t\"cell\":[\"row\"],\n\t\t};\n\t\t\n\t\tleaveList = leaveList.filter((item) => {\n\t\t\tvar links = linkedKeys[key];\n\t\t\treturn item !== key && (!links || (links && !links.includes(item)));\n\t\t});\n\t\t\n\t\t\n\t\tleaveList.forEach((key) => {\n\t\t\tvar target = this.pseudoTrackers[key].target;\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, target);\n\t\t\t\t\n\t\t\t\tthis.pseudoTrackers[key].target = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tbindSubscriptionWatchers(){\n\t\tvar listeners = Object.keys(this.listeners),\n\t\tcomponents = Object.values(this.componentMap);\n\t\t\n\t\tfor(let comp of components){\n\t\t\tfor(let listener of listeners){\n\t\t\t\tlet key = comp + \"-\" + listener;\n\t\t\t\t\n\t\t\t\tthis.subscriptionChange(key, this.subscriptionChanged.bind(this, comp, listener));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.clearWatchers.bind(this))\n\t}\n\t\n\tsubscriptionChanged(component, key, added){\n\t\tvar listener = this.listeners[key].components,\n\t\tindex = listener.indexOf(component),\n\t\tchanged = false;\n\t\t\n\t\tif(added){\n\t\t\tif(index === -1){\n\t\t\t\tlistener.push(component);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.subscribed(component + \"-\" + key)){\n\t\t\t\tif(index > -1){\n\t\t\t\t\tlistener.splice(index, 1);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif((key === \"mouseenter\" || key === \"mouseleave\") && !this.pseudoTracking){\n\t\t\tthis.bindPseudoEvents();\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.updateEventListeners();\n\t\t}\n\t}\n\t\n\tupdateEventListeners(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.components.length){\n\t\t\t\tif(!listener.handler){\n\t\t\t\t\tlistener.handler = this.track.bind(this, key);\n\t\t\t\t\tthis.el.addEventListener(key, listener.handler)\n\t\t\t\t\t// this.el.addEventListener(key, listener.handler, {passive: true})\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(listener.handler){\n\t\t\t\t\tthis.el.removeEventListener(key, listener.handler)\n\t\t\t\t\tlistener.handler = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttrack(type, e){\n\t\tvar path = (e.composedPath && e.composedPath()) || e.path;\n\t\t\n\t\tvar targets = this.findTargets(path);\n\t\ttargets = this.bindComponents(type, targets);\n\t\t\n\t\tthis.triggerEvents(type, e, targets);\n\t\t\n\t\tif(this.pseudoTracking && (type == \"mouseover\" || type == \"mouseleave\") && !Object.keys(targets).length){\n\t\t\tthis.pseudoMouseLeave(\"none\", e);\n\t\t}\n\t}\n\t\n\tfindTargets(path){\n\t\tvar targets = {};\n\t\t\n\t\tlet componentMap = Object.keys(this.componentMap);\n\t\t\n\t\tfor (let el of path) {\n\t\t\tlet classList = el.classList ? [...el.classList] : [];\n\t\t\t\n\t\t\tlet abort = classList.filter((item) => {\n\t\t\t\treturn this.abortClasses.includes(item);\n\t\t\t})\n\t\t\t\n\t\t\tif(abort.length){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tlet elTargets = classList.filter((item) => {\n\t\t\t\treturn componentMap.includes(item);\n\t\t\t})\n\t\t\t\n\t\t\tfor (let target of elTargets) {\n\t\t\t\ttargets[this.componentMap[target]] = el;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(targets.group && targets.group === targets.row){\n\t\t\tdelete targets.row;\n\t\t}\n\t\t\n\t\treturn targets;\n\t}\n\t\n\tbindComponents(type, targets){\n\t\t//ensure row component is looked up before cell\n\t\tvar keys = Object.keys(targets).reverse(),\n\t\tlistener = this.listeners[type],\n\t\ttargetMatches = {};\n\t\t\n\t\tfor(let key of keys){\n\t\t\tlet component;\n\t\t\tlet target = targets[key];\n\t\t\tlet previousTarget = this.previousTargets[key];\n\t\t\t\n\t\t\tif(previousTarget && previousTarget.target === target){\n\t\t\t\tcomponent = previousTarget.component;\n\t\t\t}else{\n\t\t\t\tswitch(key){\n\t\t\t\t\tcase \"row\":\n\t\t\t\t\tcase \"group\":\n\t\t\t\t\tif(listener.components.includes(\"row\") || listener.components.includes(\"cell\") || listener.components.includes(\"group\")){\n\t\t\t\t\t\tlet rows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\tcomponent = rows.find((row) => {\n\t\t\t\t\t\t\treturn row.getElement() === target;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(targets[\"row\"] && targets[\"row\"].parentNode && targets[\"row\"].parentNode.closest(\".tabulator-row\")){\n\t\t\t\t\t\t\ttargets[key] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"column\":\n\t\t\t\t\tif(listener.components.includes(\"column\")){\n\t\t\t\t\t\tcomponent = this.table.columnManager.findColumn(target);\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t\t\n\t\t\t\t\tcase \"cell\":\n\t\t\t\t\tif(listener.components.includes(\"cell\")){\n\t\t\t\t\t\tif(targets[\"row\"] instanceof Row){\n\t\t\t\t\t\t\tcomponent = targets[\"row\"].findCell(target);\n\t\t\t\t\t\t}else{\t\n\t\t\t\t\t\t\tif(targets[\"row\"]){\n\t\t\t\t\t\t\t\tconsole.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(component){\n\t\t\t\ttargets[key] = component;\n\t\t\t\ttargetMatches[key] = {\n\t\t\t\t\ttarget:target,\n\t\t\t\t\tcomponent:component,\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.previousTargets = targetMatches;\n\t\t\n\t\treturn targets;\n\t}\n\t\n\ttriggerEvents(type, e, targets){\n\t\tvar listener = this.listeners[type];\n\t\t\n\t\tfor(let key in targets){\n\t\t\tif(targets[key] && listener.components.includes(key)){\n\t\t\t\tthis.dispatch(key + \"-\" + type, e, targets[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearWatchers(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.handler){\n\t\t\t\tthis.el.removeEventListener(key, listener.handler)\n\t\t\t\tlistener.handler = null;\n\t\t\t}\n\t\t}\n\t}\n}", "export default class ComponentFunctionBinder{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\n\t\tthis.bindings = {};\n\t}\n\n\tbind(type, funcName, handler){\n\t\tif(!this.bindings[type]){\n\t\t\tthis.bindings[type] = {};\n\t\t}\n\n\t\tif(this.bindings[type][funcName]){\n\t\t\tconsole.warn(\"Unable to bind component handler, a matching function name is already bound\", type, funcName, handler)\n\t\t}else{\n\t\t\tthis.bindings[type][funcName] = handler;\n\t\t}\n\t}\n\n\thandle(type, component, name){\n\t\tif(this.bindings[type] && this.bindings[type][name] && typeof this.bindings[type][name].bind === 'function'){\n\t\t\treturn this.bindings[type][name].bind(null, component);\n\t\t}else{\n\t\t\tif(name !== \"then\" && typeof name === \"string\" && !name.startsWith(\"_\")){\n\t\t\t\t\tconsole.error(\"The \" + type + \" component does not have a \" + name + \" function, have you checked that you have the correct Tabulator module installed?\")\n\t\t\t}\n\t\t}\n\t}\n}\n", "import CoreFeature from '../CoreFeature.js';\n\nexport default class DataLoader extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.requestOrder = 0; //prevent requests coming out of sequence if overridden by another load request\n\t\tthis.loading = false;\n\t}\n\n\tinitialize(){}\n\n\tload(data, params, config, replace, silent, columnsChanged){\n\t\tvar requestNo = ++this.requestOrder;\n\n\t\tthis.dispatchExternal(\"dataLoading\", data);\n\n\t\t//parse json data to array\n\t\tif (data && (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0)){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(this.confirm(\"data-loading\", [data, params, config, silent])){\n\t\t\tthis.loading = true;\n\n\t\t\tif(!silent){\n\t\t\t\tthis.alertLoader();\n\t\t\t}\n\n\t\t\t//get params for request\n\t\t\tparams = this.chain(\"data-params\", [data, config, silent], params || {}, params || {});\n\n\t\t\tparams = this.mapParams(params, this.table.options.dataSendParams);\n\n\t\t\tvar result = this.chain(\"data-load\", [data, params, config, silent], false, Promise.resolve([]));\n\t\t\t\n\t\t\treturn result.then((response) => {\n\t\t\t\tif(!Array.isArray(response) && typeof response == \"object\"){\n\t\t\t\t\tresponse = this.mapParams(response, this.objectInvert(this.table.options.dataReceiveParams));\n\t\t\t\t}\n\n\t\t\t\tvar rowData = this.chain(\"data-loaded\", response, null, response);\n\n\t\t\t\tif(requestNo == this.requestOrder){\n\t\t\t\t\tthis.clearAlert();\n\n\t\t\t\t\tif(rowData !== false){\n\t\t\t\t\t\tthis.dispatchExternal(\"dataLoaded\", rowData);\n\t\t\t\t\t\tthis.table.rowManager.setData(rowData,  replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(\"Data Load Error: \", error);\n\t\t\t\tthis.dispatchExternal(\"dataLoadError\", error);\n\n\t\t\t\tif(!silent){\n\t\t\t\t\tthis.alertError();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearAlert();\n\t\t\t\t}, this.table.options.dataLoaderErrorTimeout);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.loading = false;\n\t\t\t})\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\n\n\t\t\tif(!data){\n\t\t\t\tdata = [];\n\t\t\t}\n\n\t\t\tthis.table.rowManager.setData(data, replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\n\tmapParams(params, map){\n\t\tvar output = {};\n\n\t\tfor(let key in params){\n\t\t\toutput[map.hasOwnProperty(key) ? map[key] : key] = params[key];\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tobjectInvert(obj){\n\t\tvar output = {};\n\n\t\tfor(let key in obj){\n\t\t\toutput[obj[key]] = key;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tblockActiveLoad(){\n\t\tthis.requestOrder++;\n\t}\n\n\talertLoader(){\n\t\tvar shouldLoad = typeof this.table.options.dataLoader === \"function\" ? this.table.options.dataLoader() : this.table.options.dataLoader;\n\n\t\tif(shouldLoad){\n\t\t\tthis.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n\t\t}\n\t}\n\n\talertError(){\n\t\tthis.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n\t}\n\n\tclearAlert(){\n\t\tthis.table.alertManager.clear();\n\t}\n}", "export default class ExternalEventBus {\n\n\tconstructor(table, optionsList, debug){\n\t\tthis.table = table;\n\t\tthis.events = {};\n\t\tthis.optionsList = optionsList || {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifiySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push(callback);\n\n\t\tthis._notifiySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tdelete this.events[key];\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifiySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_notifiySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift(),\n\t\tresult;\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((callback, i) => {\n\t\t\t\tlet callResult = callback.apply(this.table, args);\n\n\t\t\t\tif(!i){\n\t\t\t\t\tresult = callResult;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"ExternalEvent:\" + args[0];\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments)\n\t}\n}", "export default class InternalEventBus {\n\n\tconstructor(debug){\n\t\tthis.events = {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.chain = debug ? this._debugChain.bind(this) : this._chain.bind(this);\n\t\tthis.confirm = debug ? this._debugConfirm.bind(this) : this._confirm.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifiySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback, priority = 10000){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push({callback, priority});\n\n\t\tthis.events[key].sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tthis._notifiySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item.callback === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifiySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_chain(key, args, initialValue, fallback){\n\t\tvar value = initialValue;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tvalue = subscriber.callback.apply(this, args.concat([value]));\n\t\t\t});\n\n\t\t\treturn value;\n\t\t}else{\n\t\t\treturn typeof fallback === \"function\" ? fallback() : fallback;\n\t\t}\n\t}\n\n\t_confirm(key, args){\n\t\tvar confirmed = false;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tif(subscriber.callback.apply(this, args)){\n\t\t\t\t\tconfirmed = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn confirmed;\n\t}\n\n\t_notifiySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((subscriber) => {\n\t\t\t\tlet callResult = subscriber.callback.apply(this, args);\n\t\t\t});\n\t\t}\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n\n\t_debugChain(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._chain(...arguments);\n\t}\n\n\t_debugConfirm(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._confirm(...arguments);\n\t}\n}", "import Tabulator from '../Tabulator.js';\n\nclass TableRegistry {\n\n\tstatic register(table){\n\t\tTableRegistry.tables.push(table);\n\t}\n\n\tstatic deregister(table){\n\t\tvar index = TableRegistry.tables.indexOf(table);\n\n\t\tif(index > -1){\n\t\t\tTableRegistry.tables.splice(index, 1);\n\t\t}\n\t}\n\n\tstatic lookupTable(query, silent){\n\t\tvar results = [],\n\t\tmatches, match;\n\n\t\tif(typeof query === \"string\"){\n\t\t\tmatches = document.querySelectorAll(query);\n\n\t\t\tif(matches.length){\n\t\t\t\tfor(var i = 0; i < matches.length; i++){\n\t\t\t\t\tmatch = TableRegistry.matchElement(matches[i]);\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else if((typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement) || query instanceof Tabulator){\n\t\t\tmatch = TableRegistry.matchElement(query);\n\n\t\t\tif(match){\n\t\t\t\tresults.push(match);\n\t\t\t}\n\t\t}else if(Array.isArray(query)){\n\t\t\tquery.forEach(function(item){\n\t\t\t\tresults = results.concat(TableRegistry.lookupTable(item));\n\t\t\t});\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\tstatic matchElement(element){\n\t\treturn TableRegistry.tables.find(function(table){\n\t\t\treturn element instanceof Tabulator ? table === element : table.element === element;\n\t\t});\n\t}\n}\n\nTableRegistry.tables = [];\n\nexport default TableRegistry;", "export {default as LayoutModule} from '../../modules/Layout/Layout.js';\nexport {default as LocalizeModule} from '../../modules/Localize/Localize.js';\nexport {default as CommsModule} from '../../modules/Comms/Comms.js';", "import CoreFeature from '../CoreFeature.js';\nimport Helpers from './Helpers.js';\n\nexport default class Popup extends CoreFeature{\n    constructor(table, element, parent){\n        super(table);\n        \n        this.element = element;\n        this.container = this._lookupContainer();\n        \n        this.parent = parent;\n        \n        this.reversedX = false;\n        this.childPopup = null;\n        this.blurable = false;\n        this.blurCallback = null;\n        this.renderedCallback = null;\n        \n        this.visible = false;\n        \n        this.element.classList.add(\"tabulator-popup-container\");\n        \n        this.blurEvent = this.hide.bind(this, false);\n        this.escEvent = this._escapeCheck.bind(this);\n    }\n    \n    _lookupContainer(){\n        var container = this.table.options.popupContainer;\n        \n        if(typeof container === \"string\"){\n            container = document.querySelector(container);\n            \n            if(!container){\n                console.warn(\"Menu Error - no container element found matching selector:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n            }\n        }else if (container === true){\n            container = this.table.element;\n        }\n        \n        if(container && !this._checkContainerIsParent(container)){\n            container = false;\n            console.warn(\"Menu Error - container element does not contain this table:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n        }\n        \n        if(!container){\n            container = document.body;\n        }\n        \n        return container;\n    }\n    \n    _checkContainerIsParent(container, element = this.table.element){\n        if(container === element){\n            return true;\n        }else{\n            return element.parentNode ? this._checkContainerIsParent(container, element.parentNode) : false;\n        }\n    }\n    \n    renderCallback(callback){\n        this.renderedCallback = callback;\n    }\n    \n    containerEventCoords(e){\n        var touch = !(e instanceof MouseEvent);\n        \n        var x = touch ? e.touches[0].pageX : e.pageX;\n        var y = touch ? e.touches[0].pageY : e.pageY;\n        \n        if(this.container !== document.body){\n            let parentOffset = Helpers.elOffset(this.container);\n            \n            x -= parentOffset.left;\n            y -= parentOffset.top;\n        }\n        \n        return {x, y};\n    }\n    \n    elementPositionCoords(element, position = \"right\"){\n        var offset = Helpers.elOffset(element),\n        containerOffset, x, y;\n        \n        if(this.container !== document.body){\n            containerOffset = Helpers.elOffset(this.container);\n            \n            offset.left -= containerOffset.left;\n            offset.top -= containerOffset.top;\n        }\n        \n        switch(position){\n            case \"right\":\n            x = offset.left + element.offsetWidth;\n            y = offset.top - 1;\n            break;\n            \n            case \"bottom\":\n            x = offset.left;\n            y = offset.top + element.offsetHeight;\n            break;\n        }\n        \n        return {x, y, offset};\n    }\n    \n    show(origin, position){\n        var x, y, parentEl, parentOffset, containerOffset, coords;\n        \n        if(origin instanceof HTMLElement){\n            parentEl = origin;\n            coords = this.elementPositionCoords(origin, position);\n            \n            parentOffset = coords.offset;\n            x = coords.x;\n            y = coords.y;\n            \n        }else if(typeof origin === \"number\"){\n            parentOffset = {top:0, left:0};\n            x = origin;\n            y = position;\n        }else{\n            coords = this.containerEventCoords(origin);\n            \n            x = coords.x;\n            y = coords.y;\n            \n            this.reversedX = false;\n        }\n        \n        this.element.style.top = y + \"px\";\n        this.element.style.left = x + \"px\";\n        \n        this.container.appendChild(this.element);\n        \n        if(typeof this.renderedCallback === \"function\"){\n            this.renderedCallback();\n        }\n        \n        this._fitToScreen(x, y, parentEl, parentOffset, position);\n        \n        this.visible = true;\n        \n        return this;\n    }\n    \n    _fitToScreen(x, y, parentEl, parentOffset, position){\n        var scrollTop = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n\n        //move menu to start on right edge if it is too close to the edge of the screen\n        if((x + this.element.offsetWidth) >= this.container.offsetWidth || this.reversedX){\n            this.element.style.left = \"\";\n            \n            if(parentEl){\n                this.element.style.right = (this.container.offsetWidth - parentOffset.left) + \"px\";\n            }else{\n                this.element.style.right = (this.container.offsetWidth - x) + \"px\";\n            }\n            \n            this.reversedX = true;\n        }\n\n        //move menu to start on bottom edge if it is too close to the edge of the screen\n        if((y + this.element.offsetHeight) > Math.max(this.container.offsetHeight, scrollTop ? this.container.scrollHeight : 0)) {\n            if(parentEl){\n                switch(position){\n                    case \"bottom\":\n                    this.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight - parentEl.offsetHeight - 1) + \"px\";\n                    break;\n\n                    default:\n                    this.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight + parentEl.offsetHeight + 1) + \"px\";\n                }\n                \n            }else{\n                this.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight) + \"px\";\n            }\n        }\n    }\n    \n    isVisible(){\n        return this.visible;\n    }\n    \n    hideOnBlur(callback){\n        this.blurable = true;\n        \n        if(this.visible){\n            setTimeout(() => {\n                this.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent);\n                this.subscribe(\"cell-editing\", this.blurEvent);\n                document.body.addEventListener(\"click\", this.blurEvent);\n                document.body.addEventListener(\"contextmenu\", this.blurEvent);\n                window.addEventListener(\"resize\", this.blurEvent);\n                document.body.addEventListener(\"keydown\", this.escEvent);\n            }, 100);\n            \n            this.blurCallback = callback;\n        }\n        \n        return this;\n    }\n    \n    _escapeCheck(e){\n        if(e.keyCode == 27){\n            this.hide();\n        }\n    }\n    \n    hide(silent = false){\n        if(this.visible){\n            if(this.blurable){\n                document.body.removeEventListener(\"keydown\", this.escEvent);\n                document.body.removeEventListener(\"click\", this.blurEvent);\n                document.body.removeEventListener(\"contextmenu\", this.blurEvent);\n                window.removeEventListener(\"resize\", this.blurEvent);\n                this.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n                this.unsubscribe(\"cell-editing\", this.blurEvent);\n            }\n            \n            if(this.childPopup){\n                this.childPopup.hide();\n            }\n            \n            if(this.parent){\n                this.parent.childPopup = null;\n            }\n            \n            if(this.element.parentNode){\n                this.element.parentNode.removeChild(this.element);\n            }\n\n             this.visible = false;\n\n            if(this.blurCallback && !silent){\n                this.blurCallback();\n            }\n        }\n        \n        return this;\n    }\n    \n    child(element){\n        if(this.childPopup){\n            this.childPopup.hide();\n        }\n        \n        this.childPopup = new Popup(this.table, element, this);\n        \n        return this.childPopup;\n    }\n}", "import CoreFeature from './CoreFeature.js';\nimport Popup from './tools/Popup.js';\n\nclass Module extends CoreFeature{\n\n\tconstructor(table, name){\n\t\tsuper(table);\n\n\t\tthis._handler = null;\n\t}\n\n\tinitialize(){\n\t\t// setup module when table is initialized, to be overriden in module\n\t}\n\n\n\t///////////////////////////////////\n\t////// Options Registration ///////\n\t///////////////////////////////////\n\n\tregisterTableOption(key, value){\n\t\tthis.table.optionsList.register(key, value);\n\t}\n\n\tregisterColumnOption(key, value){\n\t\tthis.table.columnManager.optionsList.register(key, value);\n\t}\n\n\t///////////////////////////////////\n\t/// Public Function Registration ///\n\t///////////////////////////////////\n\n\tregisterTableFunction(name, func){\n\t\tif(typeof this.table[name] === \"undefined\"){\n\t\t\tthis.table[name] = (...args) => {\n\t\t\t\tthis.table.initGuard(name);\n\n\t\t\t\treturn func(...args);\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Unable to bind table function, name already in use\", name)\n\t\t}\n\t}\n\n\tregisterComponentFunction(component, func, handler){\n\t\treturn this.table.componentFunctionBinder.bind(component, func, handler);\n\t}\n\n\t///////////////////////////////////\n\t////////// Data Pipeline //////////\n\t///////////////////////////////////\n\n\tregisterDataHandler(handler, priority){\n\t\tthis.table.rowManager.registerDataPipelineHandler(handler, priority)\n\t\tthis._handler = handler;\n\t}\n\n\tregisterDisplayHandler(handler, priority){\n\t\tthis.table.rowManager.registerDisplayPipelineHandler(handler, priority)\n\t\tthis._handler = handler;\n\t}\n\n\trefreshData(renderInPosition, handler){\n\t\tif(!handler){\n\t\t\thandler = this._handler;\n\t\t}\n\n\t\tif(handler){\n\t\t\tthis.table.rowManager.refreshActiveData(handler, false, renderInPosition);\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t//////// Footer Management ////////\n\t///////////////////////////////////\n\n\tfooterAppend(element){\n\t\treturn this.table.footerManager.append(element)\n\t}\n\n\tfooterPrepend(element){\n\t\treturn this.table.footerManager.prepend(element)\n\t}\n\n\tfooterRemove(element){\n\t\treturn this.table.footerManager.remove(element)\n\t} \n\n\t///////////////////////////////////\n\t//////// Popups Management ////////\n\t///////////////////////////////////\n\t\n\tpopup(menuEl, menuContainer){\n\t\treturn new Popup(this.table, menuEl, menuContainer);\n\t}\n\n\t///////////////////////////////////\n\t//////// Alert Management ////////\n\t///////////////////////////////////\n\n\talert(content, type){\n\t\treturn this.table.alertManager.alert(content, type);\n\t}\n\n\tclearAlert(){\n\t\treturn this.table.alertManager.clear();\n\t}\n\t\n}\n\nexport default Module;", "//resize columns to fit data they contain\nexport default function(columns){\n\tthis.table.columnManager.renderer.reinitializeColumnWidths(columns);\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n};", "//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nexport default function(columns){\n\tcolumns.forEach(function(column){\n\t\tcolumn.reinitializeWidth();\n\t});\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n};", "//resize columns to fit data the contain and stretch last column to fill table\nexport default function(columns){\n\tvar colsWidth = 0,\n\ttableWidth = this.table.rowManager.element.clientWidth,\n\tgap = 0,\n\tlastCol = false;\n\n\tcolumns.forEach((column, i) => {\n\t\tif(!column.widthFixed){\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\tif(this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible){\n\t\t\tlastCol = column;\n\t\t}\n\n\t\tif(column.visible){\n\t\t\tcolsWidth += column.getWidth();\n\t\t}\n\t});\n\n\tif(lastCol){\n\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tlastCol.setWidth(0);\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\tif(gap > 0){\n\t\t\tlastCol.setWidth(gap);\n\t\t}else{\n\t\t\tlastCol.reinitializeWidth();\n\t\t}\n\t}else{\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t}\n};", "//resize columns to fit\nexport default function(columns){\n\tvar totalWidth = this.table.element.clientWidth; //table element width\n\tvar fixedWidth = 0; //total width of columns with a defined width\n\tvar flexWidth = 0; //total width available to flexible columns\n\tvar flexGrowUnits = 0; //total number of widthGrow blocks accross all columns\n\tvar flexColWidth = 0; //desired width of flexible columns\n\tvar flexColumns = []; //array of flexible width columns\n\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\tvar flexShrinkUnits = 0; //total number of widthShrink blocks accross all columns\n\tvar overflowWidth = 0; //horizontal overflow width\n\tvar gapFill=0; //number of pixels to be added to final column to close and half pixel gaps\n\n\tfunction calcWidth(width){\n\t\tvar colWidth;\n\n\t\tif(typeof(width) == \"string\"){\n\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width);\n\t\t\t}else{\n\t\t\t\tcolWidth = parseInt(width);\n\t\t\t}\n\t\t}else{\n\t\t\tcolWidth = width;\n\t\t}\n\n\t\treturn colWidth;\n\t}\n\n\t//ensure columns resize to take up the correct amount of space\n\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols){\n\n\t\tvar oversizeCols = [],\n\t\toversizeSpace = 0,\n\t\tremainingSpace = 0,\n\t\tnextColWidth = 0,\n\t\tremainingFlexGrowUnits = flexGrowUnits,\n\t\tgap = 0,\n\t\tchangeUnits = 0,\n\t\tundersizeCols = [];\n\n\t\tfunction calcGrow(col){\n\t\t\treturn (colWidth * (col.column.definition.widthGrow || 1));\n\t\t}\n\n\t\tfunction calcShrink(col){\n\t\t\treturn  (calcWidth(col.width) - (colWidth * (col.column.definition.widthShrink || 0)))\n\t\t}\n\n\t\tcolumns.forEach(function(col, i){\n\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\t\t\tif(col.column.minWidth >= width){\n\t\t\t\toversizeCols.push(col);\n\t\t\t}else{\n\t\t\t\tif(col.column.maxWidth && col.column.maxWidth < width){\n\t\t\t\t\tcol.width = col.column.maxWidth;\n\t\t\t\t\tfreeSpace -= col.column.maxWidth;\n\n\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\n\t\t\t\t\tif(remainingFlexGrowUnits){\n\t\t\t\t\t\tcolWidth = Math.floor(freeSpace/remainingFlexGrowUnits);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tundersizeCols.push(col);\n\t\t\t\t\tchangeUnits += shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(oversizeCols.length){\n\t\t\toversizeCols.forEach(function(col){\n\t\t\t\toversizeSpace += shrinkCols ?  col.width - col.column.minWidth : col.column.minWidth;\n\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t});\n\n\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace/changeUnits) : remainingSpace;\n\n\t\t\tgap = remainingSpace - (nextColWidth * changeUnits);\n\n\t\t\tgap += scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t}else{\n\t\t\tgap = changeUnits ? freeSpace - (Math.floor(freeSpace/changeUnits) * changeUnits) : freeSpace;\n\n\t\t\tundersizeCols.forEach(function(column){\n\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t});\n\t\t}\n\n\t\treturn gap;\n\t}\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n\n\t//adjust for vertical scrollbar if present\n\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t}\n\n\tcolumns.forEach(function(column){\n\t\tvar width, minWidth, colWidth;\n\n\t\tif(column.visible){\n\n\t\t\twidth = column.definition.width;\n\t\t\tminWidth =  parseInt(column.minWidth);\n\n\t\t\tif(width){\n\n\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\tif(column.definition.widthShrink){\n\t\t\t\t\tfixedShrinkColumns.push({\n\t\t\t\t\t\tcolumn:column,\n\t\t\t\t\t\twidth:colWidth > minWidth ? colWidth : minWidth\n\t\t\t\t\t});\n\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tflexColumns.push({\n\t\t\t\t\tcolumn:column,\n\t\t\t\t\twidth:0,\n\t\t\t\t});\n\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t}\n\t\t}\n\t});\n\n\t//calculate available space\n\tflexWidth = totalWidth - fixedWidth;\n\n\t//calculate correct column size\n\tflexColWidth = Math.floor(flexWidth / flexGrowUnits)\n\n\t//generate column widths\n\tvar gapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t//increase width of last column to account for rounding errors\n\tif(flexColumns.length && gapFill > 0){\n\t\tflexColumns[flexColumns.length-1].width += + gapFill;\n\t}\n\n\t//caculate space for columns to be shrunk into\n\tflexColumns.forEach(function(col){\n\t\tflexWidth -= col.width;\n\t});\n\n\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t//shrink oversize columns if there is no available space\n\tif(overflowWidth > 0 && flexShrinkUnits){\n\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t}\n\n\t//decrease width of last column to account for rounding errors\n\tif(fixedShrinkColumns.length){\n\t\tfixedShrinkColumns[fixedShrinkColumns.length-1].width -= gapFill;\n\t}\n\n\tflexColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n\n\tfixedShrinkColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n};", "import fitData from './modes/fitData.js';\nimport fitDataGeneral from './modes/fitDataGeneral.js';\nimport fitDataStretch from './modes/fitDataStretch.js';\nimport fitColumns from './modes/fitColumns.js';\n\nexport default {\n\tfitData:fitData,\n\tfitDataFill:fitDataGeneral,\n\tfitDataTable:fitDataGeneral,\n\tfitDataStretch:fitDataStretch,\n\tfitColumns:fitColumns ,\n};", "import Module from '../../core/Module.js';\n\nimport defaultModes from './defaults/modes.js';\n\nclass Layout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table, \"layout\");\n\n\t\tthis.mode = null;\n\n\t\tthis.registerTableOption(\"layout\", \"fitData\"); //layout type\n\t\tthis.registerTableOption(\"layoutColumnsOnNewData\", false); //update column widths on setData\n\n\t\tthis.registerColumnOption(\"widthGrow\");\n\t\tthis.registerColumnOption(\"widthShrink\");\n\t}\n\n\t//initialize layout system\n\tinitialize(){\n\t\tvar layout = this.table.options.layout;\n\n\t\tif(Layout.modes[layout]){\n\t\t\tthis.mode = layout;\n\t\t}else{\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\t\t\tthis.mode = 'fitData';\n\t\t}\n\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n\t}\n\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\n\t//trigger table layout\n\tlayout(){\n\t\tthis.dispatch(\"layout-refreshing\")\n\t\tLayout.modes[this.mode].call(this, this.table.columnManager.columnsByIndex);\n\n\t\tthis.dispatch(\"layout-refreshed\")\n\t}\n}\n\nLayout.moduleName = \"layout\";\n\n//load defaults\nLayout.modes = defaultModes;\n\nexport default Layout;", "export default {\n\t\"default\":{ //hold default locale text\n\t\t\"groups\":{\n\t\t\t\"item\":\"item\",\n\t\t\t\"items\":\"items\",\n\t\t},\n\t\t\"columns\":{\n\t\t},\n\t\t\"data\":{\n\t\t\t\"loading\":\"Loading\",\n\t\t\t\"error\":\"Error\",\n\t\t},\n\t\t\"pagination\":{\n\t\t\t\"page_size\":\"Page Size\",\n\t\t\t\"page_title\":\"Show Page\",\n\t\t\t\"first\":\"First\",\n\t\t\t\"first_title\":\"First Page\",\n\t\t\t\"last\":\"Last\",\n\t\t\t\"last_title\":\"Last Page\",\n\t\t\t\"prev\":\"Prev\",\n\t\t\t\"prev_title\":\"Prev Page\",\n\t\t\t\"next\":\"Next\",\n\t\t\t\"next_title\":\"Next Page\",\n\t\t\t\"all\":\"All\",\n\t\t\t\"counter\":{\n\t\t\t\t\"showing\": \"Showing\",\n\t\t\t\t\"of\": \"of\",\n\t\t\t\t\"rows\": \"rows\",\n\t\t\t\t\"pages\": \"pages\",\n\t\t\t}\n\t\t},\n\t\t\"headerFilters\":{\n\t\t\t\"default\":\"filter column...\",\n\t\t\t\"columns\":{}\n\t\t}\n\t},\n};", "import Module from '../../core/Module.js';\n\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultLangs from './defaults/langs.js';\n\nclass Localize extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.locale = \"default\"; //current locale\n\t\tthis.lang = false; //current language\n\t\tthis.bindings = {}; //update events to call when locale is changed\n\t\tthis.langList = {};\n\n\t\tthis.registerTableOption(\"locale\", false); //current system language\n\t\tthis.registerTableOption(\"langs\", {});\n\t}\n\n\tinitialize(){\n\t\tthis.langList = Helpers.deepClone(Localize.langs);\n\n\t\tif(this.table.options.columnDefaults.headerFilterPlaceholder !== false){\n\t\t\tthis.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n\t\t}\n\n\t\tfor(let locale in this.table.options.langs){\n\t\t\tthis.installLang(locale, this.table.options.langs[locale]);\n\t\t}\n\n\t\tthis.setLocale(this.table.options.locale);\n\n\t\tthis.registerTableFunction(\"setLocale\", this.setLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLocale\", this.getLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLang\", this.getLang.bind(this));\n\t}\n\n\t//set header placehoder\n\tsetHeaderFilterPlaceholder(placeholder){\n\t\tthis.langList.default.headerFilters.default = placeholder;\n\t}\n\n\t//set header filter placeholder by column\n\tsetHeaderFilterColumnPlaceholder(column, placeholder){\n\t\tthis.langList.default.headerFilters.columns[column] = placeholder;\n\n\t\tif(this.lang && !this.lang.headerFilters.columns[column]){\n\t\t\tthis.lang.headerFilters.columns[column] = placeholder;\n\t\t}\n\t}\n\n\t//setup a lang description object\n\tinstallLang(locale, lang){\n\t\tif(this.langList[locale]){\n\t\t\tthis._setLangProp(this.langList[locale], lang);\n\t\t}else{\n\t\t\tthis.langList[locale] = lang;\n\t\t}\n\t}\n\n\t_setLangProp(lang, values){\n\t\tfor(let key in values){\n\t\t\tif(lang[key] && typeof lang[key] == \"object\"){\n\t\t\t\tthis._setLangProp(lang[key], values[key])\n\t\t\t}else{\n\t\t\t\tlang[key] = values[key];\n\t\t\t}\n\t\t}\n\t}\n\n\t//set current locale\n\tsetLocale(desiredLocale){\n\t\tdesiredLocale = desiredLocale || \"default\";\n\n\t\t//fill in any matching languge values\n\t\tfunction traverseLang(trans, path){\n\t\t\tfor(var prop in trans){\n\t\t\t\tif(typeof trans[prop] == \"object\"){\n\t\t\t\t\tif(!path[prop]){\n\t\t\t\t\t\tpath[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t\t}else{\n\t\t\t\t\tpath[prop] = trans[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//determing correct locale to load\n\t\tif(desiredLocale === true && navigator.language){\n\t\t\t//get local from system\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\n\t\t}\n\n\t\tif(desiredLocale){\n\t\t\t//if locale is not set, check for matching top level locale else use default\n\t\t\tif(!this.langList[desiredLocale]){\n\t\t\t\tlet prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\t\tif(this.langList[prefix]){\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\t\tdesiredLocale = prefix;\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\t\tdesiredLocale = \"default\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.locale = desiredLocale;\n\n\t\t//load default lang template\n\t\tthis.lang = Helpers.deepClone(this.langList.default || {});\n\n\t\tif(desiredLocale != \"default\"){\n\t\t\ttraverseLang(this.langList[desiredLocale], this.lang);\n\t\t}\n\n\t\tthis.dispatchExternal(\"localized\", this.locale, this.lang);\n\n\t\tthis._executeBindings();\n\t}\n\n\t//get current locale\n\tgetLocale(locale){\n\t\treturn this.locale;\n\t}\n\n\t//get lang object for given local or current if none provided\n\tgetLang(locale){\n\t\treturn locale ? this.langList[locale] : this.lang;\n\t}\n\n\t//get text for current locale\n\tgetText(path, value){\n\t\tvar path = value ? path + \"|\" + value : path,\n\t\tpathArray = path.split(\"|\"),\n\t\ttext = this._getLangElement(pathArray, this.locale);\n\n\t\t// if(text === false){\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t\t// }\n\n\t\treturn text || \"\";\n\t}\n\n\t//traverse langs object and find localized copy\n\t_getLangElement(path, locale){\n\t\tvar root = this.lang;\n\n\t\tpath.forEach(function(level){\n\t\t\tvar rootPath;\n\n\t\t\tif(root){\n\t\t\t\trootPath = root[level];\n\n\t\t\t\tif(typeof rootPath != \"undefined\"){\n\t\t\t\t\troot = rootPath;\n\t\t\t\t}else{\n\t\t\t\t\troot = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn root;\n\t}\n\n\t//set update binding\n\tbind(path, callback){\n\t\tif(!this.bindings[path]){\n\t\t\tthis.bindings[path] = [];\n\t\t}\n\n\t\tthis.bindings[path].push(callback);\n\n\t\tcallback(this.getText(path), this.lang);\n\t}\n\n\t//itterate through bindings and trigger updates\n\t_executeBindings(){\n\t\tfor(let path in this.bindings){\n\t\t\tthis.bindings[path].forEach((binding) => {\n\t\t\t\tbinding(this.getText(path), this.lang);\n\t\t\t});\n\t\t}\n\t}\n}\n\nLocalize.moduleName = \"localize\";\n\n//load defaults\nLocalize.langs = defaultLangs;\n\nexport default Localize;", "import Module from '../../core/Module.js';\nimport TableRegistry from '../../core/tools/TableRegistry.js';\n\nclass Comms extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"tableComms\", this.receive.bind(this));\n\t}\n\n\tgetConnections(selectors){\n\t\tvar connections = [],\n\t\tconnection;\n\n\t\tconnection = TableRegistry.lookupTable(selectors);\n\n\t\tconnection.forEach((con) =>{\n\t\t\tif(this.table !== con){\n\t\t\t\tconnections.push(con);\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsend(selectors, module, action, data){\n\t\tvar connections = this.getConnections(selectors);\n\n\t\tconnections.forEach((connection) => {\n\t\t\tconnection.tableComms(this.table.element, module, action, data);\n\t\t});\n\n\t\tif(!connections.length && selectors){\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t\t}\n\t}\n\n\treceive(table, module, action, data){\n\t\tif(this.table.modExists(module)){\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t\t}else{\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t\t}\n\t}\n}\n\nComms.moduleName = \"comms\";\n\nexport default Comms;", "import * as coreModules from '../modules/core.js';\nimport TableRegistry from './TableRegistry.js';\n\nexport default class ModuleBinder {\n\t\n\tconstructor(tabulator, modules){\n\t\tthis.bindStaticFuctionality(tabulator);\n\t\tthis.bindModules(tabulator, coreModules, true);\n\t\t\n\t\tif(modules){\n\t\t\tthis.bindModules(tabulator, modules);\n\t\t}\n\t}\n\t\n\tbindStaticFuctionality(tabulator){\n\t\ttabulator.moduleBindings = {};\n\t\t\n\t\ttabulator.extendModule = function(name, property, values){\n\t\t\tif(tabulator.moduleBindings[name]){\n\t\t\t\tvar source = tabulator.moduleBindings[name][property];\n\t\t\t\t\n\t\t\t\tif(source){\n\t\t\t\t\tif(typeof values == \"object\"){\n\t\t\t\t\t\tfor(let key in values){\n\t\t\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t\t\t}\n\t\t};\n\t\t\n\t\ttabulator.registerModule = function(modules){\n\t\t\tif(!Array.isArray(modules)){\n\t\t\t\tmodules = [modules];\n\t\t\t}\n\t\t\t\n\t\t\tmodules.forEach((mod) => {\n\t\t\t\ttabulator.registerModuleBinding(mod)\n\t\t\t});\n\t\t}\n\t\t\n\t\ttabulator.registerModuleBinding = function(mod){\n\t\t\ttabulator.moduleBindings[mod.moduleName] = mod;\n\t\t};\n\t\t\n\t\ttabulator.findTable = function(query){\n\t\t\tvar results = TableRegistry.lookupTable(query, true);\n\t\t\treturn Array.isArray(results) && !results.length ? false : results;\n\t\t}\n\t\t\n\t\t//ensure that module are bound to instantiated function\n\t\ttabulator.prototype.bindModules = function(){\n\t\t\tvar orderedStartMods = [],\n\t\t\torderedEndMods = [],\n\t\t\tunOrderedMods = [];\n\t\t\t\n\t\t\tthis.modules = {};\n\t\t\t\n\t\t\tfor(var name in tabulator.moduleBindings){\n\t\t\t\tlet mod = tabulator.moduleBindings[name];\n\t\t\t\tlet module = new mod(this);\n\t\t\t\t\n\t\t\t\tthis.modules[name] = module;\n\t\t\t\t\n\t\t\t\tif(mod.prototype.moduleCore){\n\t\t\t\t\tthis.modulesCore.push(module);\n\t\t\t\t}else{\n\t\t\t\t\tif(mod.moduleInitOrder){\n\t\t\t\t\t\tif(mod.moduleInitOrder < 0){\n\t\t\t\t\t\t\torderedStartMods.push(module);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\torderedEndMods.push(module);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tunOrderedMods.push(module);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\torderedStartMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\torderedEndMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\t\n\t\t\tthis.modulesRegular = orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));\n\t\t}\n\t}\n\t\n\tbindModules(tabulator, modules, core){\n\t\tvar mods = Object.values(modules);\n\t\t\n\t\tif(core){\n\t\t\tmods.forEach((mod) => {\n\t\t\t\tmod.prototype.moduleCore = true;\n\t\t\t});\n\t\t}\n\t\t\n\t\ttabulator.registerModule(mods);\n\t}\n}", "import CoreFeature from '../CoreFeature.js';\nimport Helpers from './Helpers.js';\n\nexport default class Alert extends CoreFeature{\n    constructor(table){\n        super(table);\n        \n        this.element = this._createAlertElement();\n        this.msgElement = this._createMsgElement();\n        this.type = null;\n        \n        this.element.appendChild(this.msgElement);\n    }\n    \n    _createAlertElement(){\n        var el = document.createElement(\"div\");\n        el.classList.add(\"tabulator-alert\");\n        return el;\n    }\n    \n    _createMsgElement(){\n        var el = document.createElement(\"div\");\n        el.classList.add(\"tabulator-alert-msg\");\n        el.setAttribute(\"role\", \"alert\");\n        return el;\n    }\n    \n    _typeClass(){\n        return \"tabulator-alert-state-\" + this.type;\n    }\n    \n    alert(content, type = \"msg\"){\n        if(content){\n            this.clear();\n            \n            this.type = type;\n            \n            while(this.msgElement.firstChild) this.msgElement.removeChild(this.msgElement.firstChild);\n            \n            this.msgElement.classList.add(this._typeClass());\n            \n            if(typeof content === \"function\"){\n                content = content();\n            }\n            \n            if(content instanceof HTMLElement){\n                this.msgElement.appendChild(content);\n            }else{\n                this.msgElement.innerHTML = content;\n            }\n            \n            this.table.element.appendChild(this.element);\n        }\n    }\n    \n    clear(){\n        if(this.element.parentNode){\n            this.element.parentNode.removeChild(this.element);\n        }\n        \n        this.msgElement.classList.remove(this._typeClass());\n    }\n}", "'use strict';\n\nimport defaultOptions from './defaults/options.js';\n\nimport ColumnManager from './ColumnManager.js';\nimport RowManager from './RowManager.js';\nimport FooterManager from './FooterManager.js';\n\nimport InteractionMonitor from './tools/InteractionMonitor.js';\nimport ComponentFunctionBinder from './tools/ComponentFunctionBinder.js';\nimport DataLoader from './tools/DataLoader.js';\n\nimport ExternalEventBus from './tools/ExternalEventBus.js';\nimport InternalEventBus from './tools/InternalEventBus.js';\n\nimport TableRegistry from './tools/TableRegistry.js';\nimport ModuleBinder from './tools/ModuleBinder.js';\n\nimport OptionsList from './tools/OptionsList.js';\n\nimport Alert from './tools/Alert.js';\n\nclass Tabulator {\n\n\tconstructor(element, options){\n\n\t\tthis.options = {};\n\n\t\tthis.columnManager = null; // hold Column Manager\n\t\tthis.rowManager = null; //hold Row Manager\n\t\tthis.footerManager = null; //holder Footer Manager\n\t\tthis.alertManager = null; //hold Alert Manager\n\t\tthis.vdomHoz  = null; //holder horizontal virtual dom\n\t\tthis.externalEvents = null; //handle external event messaging\n\t\tthis.eventBus = null; //handle internal event messaging\n\t\tthis.interactionMonitor = false; //track user interaction\n\t\tthis.browser = \"\"; //hold current browser type\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\t\tthis.browserMobile = false; //check if running on mobile, prevent resize cancelling edit on keyboard appearance\n\t\tthis.rtl = false; //check if the table is in RTL mode\n\t\tthis.originalElement = null; //hold original table element if it has been replaced\n\n\t\tthis.componentFunctionBinder = new ComponentFunctionBinder(this); //bind component functions\n\t\tthis.dataLoader = false; //bind component functions\n\n\t\tthis.modules = {}; //hold all modules bound to this table\n\t\tthis.modulesCore = []; //hold core modules bound to this table (for initialization purposes)\n\t\tthis.modulesRegular = []; //hold regular modules bound to this table (for initialization purposes)\n\n\t\tthis.optionsList = new OptionsList(this, \"table constructor\");\n\n\t\tthis.initialized = false;\n\n\t\tif(this.initializeElement(element)){\n\n\t\t\tthis.initializeCoreSystems(options);\n\n\t\t\t//delay table creation to allow event bindings immediately after the constructor\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._create();\n\t\t\t})\n\t\t}\n\n\t\tTableRegistry.register(this); //register table for inter-device communication\n\t}\n\n\tinitializeElement(element){\n\t\tif(typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement){\n\t\t\tthis.element = element;\n\t\t\treturn true;\n\t\t}else if(typeof element === \"string\"){\n\t\t\tthis.element = document.querySelector(element);\n\n\t\t\tif(this.element){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tinitializeCoreSystems(options){\n\t\tthis.columnManager = new ColumnManager(this);\n\t\tthis.rowManager = new RowManager(this);\n\t\tthis.footerManager = new FooterManager(this);\n\t\tthis.dataLoader = new DataLoader(this);\n\t\tthis.alertManager = new Alert(this);\n\n\t\tthis.bindModules();\n\n\t\tthis.options = this.optionsList.generate(Tabulator.defaultOptions, options)\n\n\t\tthis._clearObjectPointers();\n\n\t\tthis._mapDeprecatedFunctionality();\n\n\t\tthis.externalEvents = new ExternalEventBus(this, this.options, this.options.debugEventsExternal);\n\t\tthis.eventBus = new InternalEventBus(this.options.debugEventsInternal);\n\n\t\tthis.interactionMonitor = new InteractionMonitor(this);\n\n\t\tthis.dataLoader.initialize();\n\t\t// this.columnManager.initialize();\n\t\t// this.rowManager.initialize();\n\t\tthis.footerManager.initialize();\n\t}\n\n\t//convert deprecated functionality to new functions\n\t_mapDeprecatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 5.0 release\n\t}\n\n\t_clearSelection(){\n\n\t\tthis.element.classList.add(\"tabulator-block-select\");\n\n\t\tif (window.getSelection) {\n\t\t\tif (window.getSelection().empty) {  // Chrome\n\t\t\t\twindow.getSelection().empty();\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} else if (document.selection) {  // IE?\n\t\t\tdocument.selection.empty();\n\t\t}\n\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\n\t}\n\n\t//create table\n\t_create(){\n\t\tthis.externalEvents.dispatch(\"tableBuilding\");\n\t\tthis.eventBus.dispatch(\"table-building\");\n\n\t\tthis._rtlCheck();\n\n\t\tthis._buildElement();\n\n\t\tthis._initializeTable();\n\n\t\tthis._loadInitialData();\n\n\t\tthis.initialized = true;\n\n\t\tthis.externalEvents.dispatch(\"tableBuilt\");\n\t}\n\n\t_rtlCheck(){\n\t\tvar style = window.getComputedStyle(this.element);\n\n\t\tswitch(this.options.textDirection){\n\t\t\tcase\"auto\":\n\t\t\tif(style.direction !== \"rtl\"){\n\t\t\t\tbreak;\n\t\t\t};\n\n\t\t\tcase \"rtl\":\n\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\tthis.rtl = true;\n\t\t\tbreak;\n\n\t\t\tcase \"ltr\":\n\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\n\t\t\tdefault:\n\t\t\tthis.rtl = false;\n\t\t}\n\t}\n\n\t//clear pointers to objects in default config object\n\t_clearObjectPointers(){\n\t\tthis.options.columns = this.options.columns.slice(0);\n\n\t\tif(Array.isArray(this.options.data) && !this.options.reactiveData){\n\t\t\tthis.options.data = this.options.data.slice(0);\n\t\t}\n\t}\n\n\t//build tabulator element\n\t_buildElement(){\n\t\tvar element = this.element,\n\t\toptions = this.options,\n\t\tnewElement;\n\n\t\tif(element.tagName === \"TABLE\"){\n\t\t\tthis.originalElement = this.element;\n\t\t\tnewElement = document.createElement(\"div\");\n\n\t\t\t//transfer attributes to new element\n\t\t\tvar attributes = element.attributes;\n\n\t\t\t// loop through attributes and apply them on div\n\t\t\tfor(var i in attributes){\n\t\t\t\tif(typeof attributes[i] == \"object\"){\n\t\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// replace table with div element\n\t\t\telement.parentNode.replaceChild(newElement, element);\n\n\t\t\tthis.element = element = newElement;\n\t\t}\n\n\t\telement.classList.add(\"tabulator\");\n\t\telement.setAttribute(\"role\", \"grid\");\n\n\t\t//empty element\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t//set table height\n\t\tif(options.height){\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\t\telement.style.height = options.height;\n\t\t}\n\n\t\t//set table min height\n\t\tif(options.minHeight !== false){\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\t\telement.style.minHeight = options.minHeight;\n\t\t}\n\n\t\t//set table maxHeight\n\t\tif(options.maxHeight !== false){\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\t\telement.style.maxHeight = options.maxHeight;\n\t\t}\n\t}\n\n\t//initialize core systems and modules\n\t_initializeTable(){\n\t\tvar element = this.element,\n\t\toptions = this.options;\n\n\t\tthis.interactionMonitor.initialize();\n\n\t\tthis.columnManager.initialize();\n\t\tthis.rowManager.initialize();\n\n\t\tthis._detectBrowser();\n\n\t\t//initialize core modules\n\t\tthis.modulesCore.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t})\n\n\t\t//build table elements\n\t\telement.appendChild(this.columnManager.getElement());\n\t\telement.appendChild(this.rowManager.getElement());\n\n\t\tif(options.footerElement){\n\t\t\tthis.footerManager.activate();\n\t\t}\n\n\t\tif(options.autoColumns && options.data){\n\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t\t}\n\n\t\t//initialize regular modules\n\t\tthis.modulesRegular.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\n\t\tthis.columnManager.setColumns(options.columns);\n\n\t\tthis.eventBus.dispatch(\"table-built\");\n\t}\n\n\t_loadInitialData(){\n\t\tthis.dataLoader.load(this.options.data);\n\t}\n\n\t//deconstructor\n\tdestroy(){\n\t\tvar element = this.element;\n\n\t\tTableRegistry.deregister(this); //deregister table from inter-device communication\n\n\t\tthis.eventBus.dispatch(\"table-destroy\");\n\n\t\t//clear row data\n\t\tthis.rowManager.rows.forEach(function(row){\n\t\t\trow.wipe();\n\t\t});\n\n\t\tthis.rowManager.rows = [];\n\t\tthis.rowManager.activeRows = [];\n\t\tthis.rowManager.displayRows = [];\n\n\t\t//clear DOM\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\telement.classList.remove(\"tabulator\");\n\t}\n\n\t_detectBrowser(){\n\t\tvar ua = navigator.userAgent||navigator.vendor||window.opera;\n\n\t\tif(ua.indexOf(\"Trident\") > -1){\n\t\t\tthis.browser = \"ie\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Edge\") > -1){\n\t\t\tthis.browser = \"edge\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Firefox\") > -1){\n\t\t\tthis.browser = \"firefox\";\n\t\t\tthis.browserSlow = false;\n\t\t}else{\n\t\t\tthis.browser = \"other\";\n\t\t\tthis.browserSlow = false;\n\t\t}\n\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(ua.slice(0,4));\n\t}\n\n\tinitGuard(func, msg){\n\t\tvar stack, line;\n\n\t\tif(this.options.debugInitialization && !this.initialized){\n\t\t\tif(!func){\n\t\t\t\tstack = new Error().stack.split(\"\\n\");\n\n\t\t\t\tline = stack[0] == \"Error\" ? stack[2] : stack[1];\n\n\t\t\t\tif(line[0] == \" \"){\n\t\t\t\t\tfunc = line.trim().split(\" \")[1].split(\".\")[1];\n\t\t\t\t}else{\n\t\t\t\t\tfunc = line.trim().split(\"@\")[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.warn(\"Table Not Initialized - Calling the \" + func + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (msg ? \" \" + msg : \"\"));\n\t\t}\n\n\t\treturn this.initialized;\n\t}\n\n\t////////////////// Data Handling //////////////////\n\t//block table redrawing\n\tblockRedraw(){\n\t\tthis.initGuard();\n\n\t\treturn this.rowManager.blockRedraw();\n\t}\n\n\t//restore table redrawing\n\trestoreRedraw(){\n\t\tthis.initGuard();\n\n\t\treturn this.rowManager.restoreRedraw();\n\t}\n\n\t//load data\n\tsetData(data, params, config){\n\t\tthis.initGuard(false, \"To set initial data please use the 'data' property in the table constructor.\");\n\n\t\treturn this.dataLoader.load(data, params, config, false);\n\t}\n\n\t//clear data\n\tclearData(){\n\t\tthis.initGuard();\n\n\t\tthis.dataLoader.blockActiveLoad();\n\t\tthis.rowManager.clearData();\n\t}\n\n\t//get table data array\n\tgetData(active){\n\t\treturn this.rowManager.getData(active);\n\t}\n\n\t//get table data array count\n\tgetDataCount(active){\n\t\treturn this.rowManager.getDataCount(active);\n\t}\n\n\t//replace data, keeping table in position with same sort\n\treplaceData(data, params, config){\n\t\tthis.initGuard();\n\n\t\treturn this.dataLoader.load(data, params, config, true, true);\n\t}\n\n\t//update table data\n\tupdateData(data){\n\t\tvar responses = 0;\n\n\t\tthis.initGuard();\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\n\t\t\tif(data){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\tif(row){\n\t\t\t\t\t\tresponses++;\n\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\tresponses--;\n\n\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\n\taddData(data, pos, index){\n\t\tthis.initGuard();\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\n\t\t\tif(data){\n\t\t\t\tthis.rowManager.addRows(data, pos, index)\n\t\t\t\t.then((rows) => {\n\t\t\t\t\tvar output = [];\n\n\t\t\t\t\trows.forEach(function(row){\n\t\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t\t});\n\n\t\t\t\t\tresolve(output);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\n\t//update table data\n\tupdateOrAddData(data){\n\t\tvar rows = [],\n\t\tresponses = 0;\n\n\t\tthis.initGuard();\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\n\t\t\tif(data){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\n\t\t\t\t\tresponses++;\n\n\t\t\t\t\tif(row){\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\trows.push(row.getComponent());\n\n\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.rowManager.addRows(item)\n\t\t\t\t\t\t.then((newRows)=>{\n\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\n\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\n\t//get row object\n\tgetRow(index){\n\t\tvar row = this.rowManager.findRow(index);\n\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//get row object\n\tgetRowFromPosition(position, active){\n\t\tvar row = this.rowManager.getRowFromPosition(position, active);\n\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//delete row from table\n\tdeleteRow(index){\n\t\tvar foundRows = [];\n\n\t\tthis.initGuard();\n\n\t\tif(!Array.isArray(index)){\n\t\t\tindex = [index];\n\t\t}\n\n\t\t//find matching rows\n\t\tfor(let item of index){\n\t\t\tlet row = this.rowManager.findRow(item, true);\n\n\t\t\tif(row){\n\t\t\t\tfoundRows.push(row);\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Delete Error - No matching row found:\", item);\n\t\t\t\treturn Promise.reject(\"Delete Error - No matching row found\")\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort((a, b) => {\n\t\t\treturn this.rowManager.rows.indexOf(a) > this.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\n\t\t//delete rows\n\t\tfoundRows.forEach((row) =>{\n\t\t\trow.delete()\n\t\t});\n\n\t\tthis.rowManager.reRenderInPosition();\n\n\t\treturn Promise.resolve();\n\t}\n\n\t//add row to table\n\taddRow(data, pos, index){\n\t\tthis.initGuard();\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\treturn this.rowManager.addRows(data, pos, index)\n\t\t.then((rows)=>{\n\t\t\treturn rows[0].getComponent();\n\t\t});\n\t}\n\n\t//update a row if it exitsts otherwise create it\n\tupdateOrAddRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\n\t\tthis.initGuard();\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t.then(()=>{\n\t\t\t\treturn row.getComponent();\n\t\t\t})\n\t\t}else{\n\t\t\treturn this.rowManager.addRows(data)\n\t\t\t.then((rows)=>{\n\t\t\t\treturn rows[0].getComponent();\n\t\t\t})\n\t\t}\n\t}\n\n\t//update row data\n\tupdateRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\n\t\tthis.initGuard();\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t.then(()=>{\n\t\t\t\treturn Promise.resolve(row.getComponent());\n\t\t\t})\n\t\t}else{\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Update Error - No matching row found\");\n\t\t}\n\t}\n\n\t//scroll to row in DOM\n\tscrollToRow(index, position, ifVisible){\n\t\tvar row = this.rowManager.findRow(index);\n\n\t\tif(row){\n\t\t\treturn this.rowManager.scrollToRow(row, position, ifVisible)\n\t\t}else{\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Scroll Error - No matching row found\");\n\t\t}\n\t}\n\n\tmoveRow(from, to, after){\n\t\tvar fromRow = this.rowManager.findRow(from);\n\n\t\tthis.initGuard();\n\n\t\tif(fromRow){\n\t\t\tfromRow.moveToRow(to, after);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t\t}\n\t}\n\n\tgetRows(active){\n\t\treturn this.rowManager.getComponents(active);\n\t}\n\n\t//get position of row in table\n\tgetRowPosition(index, active){\n\t\tvar row = this.rowManager.findRow(index);\n\n\t\tif(row){\n\t\t\treturn this.rowManager.getRowPosition(row, active);\n\t\t}else{\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/////////////// Column Functions  ///////////////\n\tsetColumns(definition){\n\t\tthis.initGuard(false, \"To set initial columns please use the 'columns' property in the table constructor\");\n\n\t\tthis.columnManager.setColumns(definition);\n\t}\n\n\tgetColumns(structured){\n\t\treturn this.columnManager.getComponents(structured);\n\t}\n\n\tgetColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn column.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgetColumnDefinitions(){\n\t\treturn this.columnManager.getDefinitionTree();\n\t}\n\n\tshowColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tthis.initGuard();\n\n\t\tif(column){\n\t\t\tcolumn.show();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\thideColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tthis.initGuard();\n\n\t\tif(column){\n\t\t\tcolumn.hide();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\ttoggleColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tthis.initGuard();\n\n\t\tif(column){\n\t\t\tif(column.visible){\n\t\t\t\tcolumn.hide();\n\t\t\t}else{\n\t\t\t\tcolumn.show();\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\taddColumn(definition, before, field){\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tthis.initGuard();\n\n\t\treturn this.columnManager.addColumn(definition, before, column)\n\t\t.then((column) => {\n\t\t\treturn column.getComponent();\n\t\t});\n\t}\n\n\tdeleteColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tthis.initGuard();\n\n\t\tif(column){\n\t\t\treturn column.delete();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\n\tupdateColumnDefinition(field, definition){\n\t\tvar column = this.columnManager.findColumn(field);\n\n\t\tthis.initGuard();\n\n\t\tif(column){\n\t\t\treturn column.updateDefinition(definition)\n\t\t}else{\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\n\tmoveColumn(from, to, after){\n\t\tvar fromColumn = this.columnManager.findColumn(from),\n\t\ttoColumn = this.columnManager.findColumn(to);\n\n\t\tthis.initGuard();\n\n\t\tif(fromColumn){\n\t\t\tif(toColumn){\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after)\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t\t}\n\t}\n\n\t//scroll to column in DOM\n\tscrollToColumn(field, position, ifVisible){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this.columnManager.findColumn(field);\n\n\t\t\tif(column){\n\t\t\t\treturn this.columnManager.scrollToColumn(column, position, ifVisible)\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\t\treturn Promise.reject(\"Scroll Error - No matching column found\");\n\t\t\t}\n\t\t});\n\t}\n\n\t//////////// General Public Functions ////////////\n\t//redraw list without updating data\n\tredraw(force){\n\t\tthis.initGuard();\n\n\t\tthis.columnManager.redraw(force);\n\t\tthis.rowManager.redraw(force);\n\t}\n\n\tsetHeight(height){\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.initializeRenderer();\n\t\tthis.rowManager.redraw();\n\t}\n\n\t//////////////////// Event Bus ///////////////////\n\n\ton(key, callback){\n\t\tthis.externalEvents.subscribe(key, callback);\n\t}\n\n\toff(key, callback){\n\t\tthis.externalEvents.unsubscribe(key, callback);\n\t}\n\n\tdispatchEvent(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tthis.externalEvents.dispatch(...arguments)\n\t}\n\n\t//////////////////// Alerts ///////////////////\n\n\talert(contents, type){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.alert(contents, type);\n\t}\n\n\tclearAlert(){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.clear();\n\t}\n\n\t////////////// Extension Management //////////////\n\tmodExists(plugin, required){\n\t\tif(this.modules[plugin]){\n\t\t\treturn true;\n\t\t}else{\n\t\t\tif(required){\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tmodule(key){\n\t\tvar mod = this.modules[key];\n\n\t\tif(!mod){\n\t\t\tconsole.error(\"Tabulator module not installed: \" + key);\n\t\t}\n\n\t\treturn mod;\n\t}\n}\n\n//default setup options\nTabulator.defaultOptions = defaultOptions;\n\n//bind modules and static functionality\nnew ModuleBinder(Tabulator);\n\nexport default Tabulator;\n", "export {default as AccessorModule} from '../../modules/Accessor/Accessor.js';\nexport {default as AjaxModule} from '../../modules/Ajax/Ajax.js';\nexport {default as ClipboardModule} from '../../modules/Clipboard/Clipboard.js';\nexport {default as ColumnCalcsModule} from '../../modules/ColumnCalcs/ColumnCalcs.js';\nexport {default as DataTreeModule} from '../../modules/DataTree/DataTree.js';\nexport {default as DownloadModule} from '../../modules/Download/Download.js';\nexport {default as EditModule} from '../../modules/Edit/Edit.js';\nexport {default as ExportModule} from '../../modules/Export/Export.js';\nexport {default as FilterModule} from '../../modules/Filter/Filter.js';\nexport {default as FormatModule} from '../../modules/Format/Format.js';\nexport {default as FrozenColumnsModule} from '../../modules/FrozenColumns/FrozenColumns.js';\nexport {default as FrozenRowsModule} from '../../modules/FrozenRows/FrozenRows.js';\nexport {default as GroupRowsModule} from '../../modules/GroupRows/GroupRows.js';\nexport {default as HistoryModule} from '../../modules/History/History.js';\nexport {default as HtmlTableImportModule} from '../../modules/HtmlTableImport/HtmlTableImport.js';\nexport {default as ImportModule} from '../../modules/Import/Import.js';\nexport {default as InteractionModule} from '../../modules/Interaction/Interaction.js';\nexport {default as KeybindingsModule} from '../../modules/Keybindings/Keybindings.js';\nexport {default as MenuModule} from '../../modules/Menu/Menu.js';\nexport {default as MoveColumnsModule} from '../../modules/MoveColumns/MoveColumns.js';\nexport {default as MoveRowsModule} from '../../modules/MoveRows/MoveRows.js';\nexport {default as MutatorModule} from '../../modules/Mutator/Mutator.js';\nexport {default as PageModule} from '../../modules/Page/Page.js';\nexport {default as PersistenceModule} from '../../modules/Persistence/Persistence.js';\nexport {default as PopupModule} from '../../modules/Popup/Popup.js';\nexport {default as PrintModule} from '../../modules/Print/Print.js';\nexport {default as ReactiveDataModule} from '../../modules/ReactiveData/ReactiveData.js';\nexport {default as ResizeColumnsModule} from '../../modules/ResizeColumns/ResizeColumns.js';\nexport {default as ResizeRowsModule} from '../../modules/ResizeRows/ResizeRows.js';\nexport {default as ResizeTableModule} from '../../modules/ResizeTable/ResizeTable.js';\nexport {default as ResponsiveLayoutModule} from '../../modules/ResponsiveLayout/ResponsiveLayout.js';\nexport {default as SelectRowModule} from '../../modules/SelectRow/SelectRow.js';\nexport {default as SortModule} from '../../modules/Sort/Sort.js';\nexport {default as TooltipModule} from '../../modules/Tooltip/Tooltip.js';\nexport {default as ValidateModule} from '../../modules/Validate/Validate.js';", "export default {}", "import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defautlAccessors from './defaults/accessors.js';\n\nclass Accessor extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"] //list of accessor types\n\n\t\tthis.registerColumnOption(\"accessor\");\n\t\tthis.registerColumnOption(\"accessorParams\");\n\t\tthis.registerColumnOption(\"accessorData\");\n\t\tthis.registerColumnOption(\"accessorDataParams\");\n\t\tthis.registerColumnOption(\"accessorDownload\");\n\t\tthis.registerColumnOption(\"accessorDownloadParams\");\n\t\tthis.registerColumnOption(\"accessorClipboard\");\n\t\tthis.registerColumnOption(\"accessorClipboardParams\");\n\t\tthis.registerColumnOption(\"accessorPrint\");\n\t\tthis.registerColumnOption(\"accessorPrintParams\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutput\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutputParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n\t}\n\n\t//initialize column accessor\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\taccessor;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\taccessor = this.lookupAccessor(column.definition[key]);\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\taccessor:accessor,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.accessor = config;\n\t\t}\n\t}\n\n\tlookupAccessor(value){\n\t\tvar accessor = false;\n\n\t\t//set column accessor\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\tif(Accessor.accessors[value]){\n\t\t\t\taccessor = Accessor.accessors[value]\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\taccessor = value;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn accessor;\n\t}\n\n\t//apply accessor to row\n\ttransformRow(row, type){\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\trowComponent = row.getComponent();\n\n\t\t//clone data object with deep copy to isolate internal data from returned result\n\t\tvar data = Helpers.deepClone(row.data || {});\n\n\t\tthis.table.columnManager.traverse(function(column){\n\t\t\tvar value, accessor, params, colCompnent;\n\n\t\t\tif(column.modules.accessor){\n\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\t\tif(value != \"undefined\"){\n\t\t\t\t\t\tcolCompnent = column.getComponent();\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colCompnent, rowComponent) : accessor.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colCompnent, rowComponent));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n}\n\n//load defaults\nAccessor.moduleName = \"accessor\";\nAccessor.accessors = defautlAccessors;\n\nexport default Accessor;", "export default {\n\tmethod: \"GET\",\n};", "function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nfunction serializeParams(params){\n\tvar output = generateParamsList(params),\n\tencoded = [];\n\n\toutput.forEach(function(item){\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n}\n\nexport default function(url, config, params){\n\tif(url){\n\t\tif(params && Object.keys(params).length){\n\t\t\tif(!config.method || config.method.toLowerCase() == \"get\"){\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n};", "export default function(url, config, params){\n\tvar contentType;\n\n\treturn new Promise((resolve, reject) => {\n\t\t//set url\n\t\turl = this.urlGenerator.call(this.table, url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif(config.method.toUpperCase() != \"GET\"){\n\t\t\tcontentType = typeof this.table.options.ajaxContentType === \"object\" ?  this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType];\n\t\t\tif(contentType){\n\n\t\t\t\tfor(var key in contentType.headers){\n\t\t\t\t\tif(!config.headers){\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof config.headers[key] === \"undefined\"){\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(this, url, config, params);\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif(url){\n\t\t\t//configure headers\n\t\t\tif(typeof config.headers === \"undefined\"){\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif(typeof config.headers.Accept === \"undefined\"){\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif(typeof config.headers[\"X-Requested-With\"] === \"undefined\"){\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif(typeof config.mode === \"undefined\"){\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif(config.mode == \"cors\"){\n\t\t\t\tif(typeof config.headers[\"Origin\"] === \"undefined\"){\n\t\t\t\t\tconfig.headers[\"Origin\"] = window.location.origin;\n\t\t\t\t}\n        \n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config)\n\t\t\t.then((response)=>{\n\t\t\t\tif(response.ok) {\n\t\t\t\t\tresponse.json()\n\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treject(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\treject(error);\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n};", "function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nexport default {\n\t\"json\":{\n\t\theaders:{\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody:function(url, config, params){\n\t\t\treturn JSON.stringify(params);\n\t\t},\n\t},\n\t\"form\":{\n\t\theaders:{\n\t\t},\n\t\tbody:function(url, config, params){\n\n\t\t\tvar output = generateParamsList(params),\n\t\t\tform = new FormData();\n\n\t\t\toutput.forEach(function(item){\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t},\n\t},\n};", "import Module from '../../core/Module.js';\n\nimport defaultConfig from './defaults/config.js';\nimport defaultURLGenerator from './defaults/urlGenerator.js';\nimport defaultLoaderPromise from './defaults/loaderPromise.js';\nimport defaultContentTypeFormatters from './defaults/contentTypeFormatters.js';\n\nclass Ajax extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.config = {}; //hold config object for ajax request\n\t\tthis.url = \"\"; //request URL\n\t\tthis.urlGenerator = false;\n\t\tthis.params = false; //request parameters\n\n\t\tthis.loaderPromise = false;\n\n\t\tthis.registerTableOption(\"ajaxURL\", false); //url for ajax loading\n\t\tthis.registerTableOption(\"ajaxURLGenerator\", false);\n\t\tthis.registerTableOption(\"ajaxParams\", {});  //params for ajax loading\n\t\tthis.registerTableOption(\"ajaxConfig\", \"get\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxContentType\", \"form\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxRequestFunc\", false); //promise function\n\n\t\tthis.registerTableOption(\"ajaxRequesting\", function(){});\n\t\tthis.registerTableOption(\"ajaxResponse\", false);\n\n\t\tthis.contentTypeFormatters = Ajax.contentTypeFormatters;\n\t}\n\n\t//initialize setup options\n\tinitialize(){\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || Ajax.defaultLoaderPromise;\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || Ajax.defaultURLGenerator;\n\n\t\tif(this.table.options.ajaxURL){\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\n\t\t}\n\n\n\t\tthis.setDefaultConfig(this.table.options.ajaxConfig);\n\n\t\tthis.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this));\n\n\t\tthis.subscribe(\"data-loading\", this.requestDataCheck.bind(this));\n\t\tthis.subscribe(\"data-params\", this.requestParams.bind(this));\n\t\tthis.subscribe(\"data-load\", this.requestData.bind(this));\n\t}\n\n\trequestParams(data, config, silent, params){\n\t\tvar ajaxParams = this.table.options.ajaxParams;\n\n\t\tif(ajaxParams){\n\t\t\tif(typeof ajaxParams === \"function\"){\n\t\t\t\tajaxParams = ajaxParams.call(this.table);\n\t\t\t}\n\n\t\t\tparams = Object.assign(params, ajaxParams);\n\t\t}\n\n\t\treturn params;\n\t}\n\n\trequestDataCheck(data, params, config, silent){\n\t\treturn !!((!data && this.url) || typeof data === \"string\");\n\t}\n\n\trequestData(url, params, config, silent, previousData){\n\t\tvar ajaxConfig;\n\n\t\tif(!previousData && this.requestDataCheck(url)){\n\t\t\tif(url){\n\t\t\t\tthis.setUrl(url);\n\t\t\t}\n\n\t\t\tajaxConfig = this.generateConfig(config);\n\n\t\t\treturn this.sendRequest(this.url, params, ajaxConfig);\n\t\t}else{\n\t\t\treturn previousData;\n\t\t}\n\t}\n\n\tsetDefaultConfig(config = {}){\n\t\tthis.config = Object.assign({}, Ajax.defaultConfig);\n\n\t\tif(typeof config == \"string\"){\n\t\t\tthis.config.method = config;\n\t\t}else{\n\t\t\tObject.assign(this.config, config);\n\t\t}\n\t}\n\n\t//load config object\n\tgenerateConfig(config = {}){\n\t\tvar ajaxConfig = Object.assign({}, this.config)\n\n\t\tif(typeof config == \"string\"){\n\t\t\tajaxConfig.method = config;\n\t\t}else{\n\t\t\tObject.assign(ajaxConfig, config);\n\t\t}\n\n\t\treturn ajaxConfig;\n\t}\n\n\t//set request url\n\tsetUrl(url){\n\t\tthis.url = url;\n\t}\n\n\t//get request url\n\tgetUrl(){\n\t\treturn this.url;\n\t}\n\n\t//send ajax request\n\tsendRequest(url, params, config){\n\t\tif(this.table.options.ajaxRequesting.call(this.table, url, params) !== false){\n\t\t\treturn this.loaderPromise(url, config, params)\n\t\t\t.then((data)=>{\n\t\t\t\tif(this.table.options.ajaxResponse){\n\t\t\t\t\tdata = this.table.options.ajaxResponse.call(this.table, url, params, data);\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t});\n\t\t}else{\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n}\n\nAjax.moduleName = \"ajax\";\n\n//load defaults\nAjax.defaultConfig = defaultConfig;\nAjax.defaultURLGenerator = defaultURLGenerator;\nAjax.defaultLoaderPromise = defaultLoaderPromise;\nAjax.contentTypeFormatters = defaultContentTypeFormatters;\n\nexport default Ajax;\n", "export default {\n\treplace:function(rows){\n\t\treturn this.table.setData(rows);\n\t},\n\tupdate:function(rows){\n\t\treturn this.table.updateOrAddData(rows);\n\t},\n\tinsert:function(rows){\n\t\treturn this.table.addData(rows);\n\t},\n};", "export default {\n\ttable:function(clipboard){\n\t\tvar data = [],\n\t\tsuccess = false,\n\t\theaderFindSuccess = true,\n\t\tcolumns = this.table.columnManager.columns,\n\t\tcolumnMap = [],\n\t\trows = [];\n\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\n\t\tclipboard.forEach(function(row){\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\n\t\tif(data.length && !(data.length === 1 && data[0].length < 2)){\n\t\t\tsuccess = true;\n\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function(value){\n\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\n\t\t\t\tif(column){\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t}else{\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//check if column headers are present by field\n\t\t\tif(!headerFindSuccess){\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\n\t\t\t\tdata[0].forEach(function(value){\n\t\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t}else{\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!headerFindSuccess){\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//remove header row if found\n\t\t\tif(headerFindSuccess){\n\t\t\t\tdata.shift();\n\t\t\t}\n\n\t\t\tdata.forEach(function(item){\n\t\t\t\tvar row = {};\n\n\t\t\t\titem.forEach(function(value, i){\n\t\t\t\t\tif(columnMap[i]){\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trows.push(row);\n\t\t\t});\n\n\t\t\treturn rows;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n};", "import Module from '../../core/Module.js';\n\nimport defaultPasteActions from './defaults/pasteActions.js';\nimport defaultPasteParsers from './defaults/pasteParsers.js';\n\nclass Clipboard extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = true;\n\t\tthis.pasteParser = function(){};\n\t\tthis.pasteAction = function(){};\n\t\tthis.customSelection = false;\n\t\tthis.rowRange = false;\n\t\tthis.blocked = true; //block copy actions not originating from this command\n\n\t\tthis.registerTableOption(\"clipboard\", false); //enable clipboard\n\t\tthis.registerTableOption(\"clipboardCopyStyled\", true); //formatted table data\n\t\tthis.registerTableOption(\"clipboardCopyConfig\", false); //clipboard config\n\t\tthis.registerTableOption(\"clipboardCopyFormatter\", false); //DEPRICATED - REMOVE in 5.0\n\t\tthis.registerTableOption(\"clipboardCopyRowRange\", \"active\"); //restrict clipboard to visible rows only\n\t\tthis.registerTableOption(\"clipboardPasteParser\", \"table\"); //convert pasted clipboard data to rows\n\t\tthis.registerTableOption(\"clipboardPasteAction\", \"insert\"); //how to insert pasted data into the table\n\n\t\tthis.registerColumnOption(\"clipboard\");\n\t\tthis.registerColumnOption(\"titleClipboard\");\n\t}\n\n\tinitialize(){\n\t\tthis.mode = this.table.options.clipboard;\n\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\t\tif(this.mode === true || this.mode === \"copy\"){\n\t\t\tthis.table.element.addEventListener(\"copy\", (e) => {\n\t\t\t\tvar plain, html, list;\n\n\t\t\t\tif(!this.blocked){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif(this.customSelection){\n\t\t\t\t\t\tplain = this.customSelection;\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tvar list = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\");\n\n\t\t\t\t\t\thtml = this.table.modules.export.genereateHTMLTable(list);\n\t\t\t\t\t\tplain = html ? this.generatePlainContent(list) : \"\";\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t\thtml = this.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchExternal(\"clipboardCopied\", plain, html);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.mode === true || this.mode === \"paste\"){\n\t\t\tthis.table.element.addEventListener(\"paste\", (e) => {\n\t\t\t\tthis.paste(e);\n\t\t\t});\n\t\t}\n\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n\n\t\tthis.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n\t}\n\n\treset(){\n\t\tthis.blocked = true;\n\t\tthis.customSelection = false;\n\t}\n\n\tgeneratePlainContent (list) {\n\t\tvar output = [];\n\n\t\tlist.forEach((row) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tvar value = \"\";\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tif(row.type === \"group\"){\n\t\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(col.value === null){\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowData.push(value);\n\t\t\t});\n\n\t\t\toutput.push(rowData.join(\"\\t\"));\n\t\t});\n\n\t\treturn output.join(\"\\n\");\n\t}\n\n\tcopy (range, internal) {\n\t\tvar range, sel, textRange;\n\t\tthis.blocked = false;\n\t\tthis.customSelection = false;\n\n\t\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNodeContents(this.table.element);\n\t\t\t\tsel = window.getSelection();\n\n\t\t\t\tif (sel.toString() && internal) {\n\t\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t\t}\n\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\t\ttextRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tdocument.execCommand('copy');\n\n\t\t\tif (sel) {\n\t\t\t\tsel.removeAllRanges();\n\t\t\t}\n\t\t}\n\t}\n\n\t//PASTE EVENT HANDLING\n\tsetPasteAction(action){\n\n\t\tswitch(typeof action){\n\t\t\tcase \"string\":\n\t\t\tthis.pasteAction = Clipboard.pasteActions[action];\n\n\t\t\tif(!this.pasteAction){\n\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tthis.pasteAction = action;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetPasteParser(parser){\n\t\tswitch(typeof parser){\n\t\t\tcase \"string\":\n\t\t\tthis.pasteParser = Clipboard.pasteParsers[parser];\n\n\t\t\tif(!this.pasteParser){\n\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tthis.pasteParser = parser;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tpaste(e){\n\t\tvar data, rowData, rows;\n\n\t\tif(this.checkPaseOrigin(e)){\n\n\t\t\tdata = this.getPasteData(e);\n\n\t\t\trowData = this.pasteParser.call(this, data);\n\n\t\t\tif(rowData){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif(this.table.modExists(\"mutator\")){\n\t\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t\t}\n\n\t\t\t\trows = this.pasteAction.call(this, rowData);\n\n\t\t\t\tthis.dispatchExternal(\"clipboardPasted\", data, rowData, rows);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"clipboardPasteError\", data);\n\t\t\t}\n\t\t}\n\t}\n\n\tmutateData(data){\n\t\tvar output = [];\n\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t\t});\n\t\t}else{\n\t\t\toutput = data;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\n\tcheckPaseOrigin(e){\n\t\tvar valid = true;\n\n\t\tif(e.target.tagName != \"DIV\" || this.table.modules.edit.currentCell){\n\t\t\tvalid = false;\n\t\t}\n\n\t\treturn valid;\n\t}\n\n\tgetPasteData(e){\n\t\tvar data;\n\n\t\tif (window.clipboardData && window.clipboardData.getData) {\n\t\t\tdata = window.clipboardData.getData('Text');\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tdata = e.clipboardData.getData('text/plain');\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nClipboard.moduleName = \"clipboard\";\n\n//load defaults\nClipboard.pasteActions = defaultPasteActions;\nClipboard.pasteParsers = defaultPasteParsers;\n\nexport default Clipboard;", "class CalcComponent{\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n}\n\nexport default CalcComponent;", "export default {\n\t\"avg\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value > output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"min\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value < output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"sum\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tif(value){\n\t\t\t\t\toutput ++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n};", "import Module from '../../core/Module.js';\n\nimport CalcComponent from './CalcComponent.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\nimport Row from '../../core/row/Row.js';\n\nimport defaultCalculations from './defaults/calculations.js';\n\nclass ColumnCalcs extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topCalcs = [];\n\t\tthis.botCalcs = [];\n\t\tthis.genColumn = false;\n\t\tthis.topElement = this.createElement();\n\t\tthis.botElement = this.createElement();\n\t\tthis.topRow = false;\n\t\tthis.botRow = false;\n\t\tthis.topInitialized = false;\n\t\tthis.botInitialized = false;\n\n\t\tthis.registerTableOption(\"columnCalcs\", true);\n\n\t\tthis.registerColumnOption(\"topCalc\");\n\t\tthis.registerColumnOption(\"topCalcParams\");\n\t\tthis.registerColumnOption(\"topCalcFormatter\");\n\t\tthis.registerColumnOption(\"topCalcFormatterParams\");\n\t\tthis.registerColumnOption(\"bottomCalc\");\n\t\tthis.registerColumnOption(\"bottomCalcParams\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatter\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatterParams\");\n\t}\n\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-calcs-holder\");\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tthis.genColumn = new Column({field:\"value\"}, this);\n\n\t\tthis.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"column-add\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerTableFunction(\"getCalcResults\", this.getResults.bind(this));\n\t\tthis.registerTableFunction(\"recalc\", this.userRecalc.bind(this));\n\t}\n\n\ttableRedraw(force){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\n\t\tif(force){\n\t\t\tthis.redraw();\n\t\t}\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tuserRecalc(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tvisibleRows(viewable, rows){\n\t\tif(this.topRow){\n\t\t\trows.unshift(this.topRow);\n\t\t}\n\n\t\tif(this.botRow){\n\t\t\trows.push(this.botRow);\n\t\t}\n\t\n\t\treturn rows;\n\t}\n\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.recalcRowGroup(this);\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\n\trecalcActiveRowsRefresh(){\n\t\tif(this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree){\n\t\t\tthis.recalcAll();\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\n\trecalcActiveRows(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\n\tcellValueChanged(cell){\n\t\tif(cell.column.definition.topCalc || cell.column.definition.bottomCalc){\n\t\t\tif(this.table.options.groupBy){\n\t\t\t\tif(this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\"){\n\t\t\t\t\tthis.recalcActiveRows();\n\t\t\t\t}\n\n\t\t\t\tif(this.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.recalcRowGroup(cell.row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumnCheck(column){\n\t\tif(column.definition.topCalc || column.definition.bottomCalc){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column calcs\n\tinitializeColumn(column){\n\t\tvar def = column.definition\n\n\t\tvar config = {\n\t\t\ttopCalcParams:def.topCalcParams || {},\n\t\t\tbotCalcParams:def.bottomCalcParams || {},\n\t\t};\n\n\t\tif(def.topCalc){\n\n\t\t\tswitch(typeof def.topCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\tif(ColumnCalcs.calculations[def.topCalc]){\n\t\t\t\t\tconfig.topCalc = ColumnCalcs.calculations[def.topCalc]\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\tbreak\n\n\t\t\t}\n\n\t\t\tif(config.topCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.topCalcs.push(column);\n\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeTopRow();\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif(def.bottomCalc){\n\t\t\tswitch(typeof def.bottomCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\tif(ColumnCalcs.calculations[def.bottomCalc]){\n\t\t\t\t\tconfig.botCalc = ColumnCalcs.calculations[def.bottomCalc]\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\tbreak\n\n\t\t\t}\n\n\t\t\tif(config.botCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.botCalcs.push(column);\n\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeBottomRow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t//dummy functions to handle being mock column manager\n\tregisterColumnField(){};\n\n\tremoveCalcs(){\n\t\tvar changed = false;\n\n\t\tif(this.topInitialized){\n\t\t\tthis.topInitialized = false;\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\t\tchanged = true;\n\t\t}\n\n\t\tif(this.botInitialized){\n\t\t\tthis.botInitialized = false;\n\t\t\tthis.footerRemove(this.botElement);\n\t\t\tchanged = true;\n\t\t}\n\n\t\tif(changed){\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\n\tinitializeTopRow(){\n\t\tif(!this.topInitialized){\n\t\t\tthis.table.columnManager.getElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\t\t\tthis.topInitialized = true;\n\t\t}\n\t}\n\n\tinitializeBottomRow(){\n\t\tif(!this.botInitialized){\n\t\t\tthis.footerPrepend(this.botElement);\n\t\t\tthis.botInitialized = true;\n\t\t}\n\t}\n\n\tscrollHorizontal(left){\n\t\tif(this.botInitialized && this.botRow){\n\t\t\tthis.botRow.getElement().style.marginLeft = (-left) + \"px\";\n\t\t}\n\t}\n\n\trecalc(rows){\n\t\tvar data, row;\n\n\t\tif(this.topInitialized || this.botInitialized){\n\t\t\tdata = this.rowsToData(rows);\n\n\t\t\tif(this.topInitialized){\n\t\t\t\tif(this.topRow){\n\t\t\t\t\tthis.topRow.deleteCells();\n\t\t\t\t}\n\n\t\t\t\trow = this.generateRow(\"top\", this.rowsToData(rows))\n\t\t\t\tthis.topRow = row;\n\t\t\t\twhile(this.topElement.firstChild) this.topElement.removeChild(this.topElement.firstChild);\n\t\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\t\trow.initialize(true);\n\t\t\t}\n\n\t\t\tif(this.botInitialized){\n\t\t\t\tif(this.botRow){\n\t\t\t\t\tthis.botRow.deleteCells();\n\t\t\t\t}\n\n\t\t\t\trow = this.generateRow(\"bottom\", this.rowsToData(rows))\n\t\t\t\tthis.botRow = row;\n\t\t\t\twhile(this.botElement.firstChild) this.botElement.removeChild(this.botElement.firstChild);\n\t\t\t\tthis.botElement.appendChild(row.getElement());\n\t\t\t\trow.initialize(true);\n\t\t\t}\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\t//set resizable handles\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t\t}\n\t\t}\n\t}\n\n\trecalcRowGroup(row){\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n\t}\n\n\trecalcAll(){\n\t\tif(this.topCalcs.length || this.botCalcs.length){\n\t\t\tif(this.table.options.columnCalcs !== \"group\"){\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\n\t\t\tif(this.table.options.groupBy && this.table.options.columnCalcs !== \"table\"){\n\n\t\t\t\tvar groups = this.table.modules.groupRows.getChildGroups();\n\n\t\t\t\tgroups.forEach((group) => {\n\t\t\t\t\tthis.recalcGroup(group);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\trecalcGroup(group){\n\t\tvar data, rowData;\n\n\t\tif(group){\n\t\t\tif(group.calcs){\n\t\t\t\tif(group.calcs.bottom){\n\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\n\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t\t}\n\n\t\t\t\tif(group.calcs.top){\n\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\trowData = this.generateRowData(\"top\", data);\n\n\t\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//generate top stats row\n\tgenerateTopRow(rows){\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\n\t}\n\t//generate bottom stats row\n\tgenerateBottomRow(rows){\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n\t}\n\n\trowsToData(rows){\n\t\tvar data = [];\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tdata.push(row.getData());\n\n\t\t\tif(this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs){\n\t\t\t\tif(row.modules.dataTree && row.modules.dataTree.open){\n\t\t\t\t\tvar children = this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(row));\n\t\t\t\t\tdata = data.concat(children);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n\n\t//generate stats row\n\tgenerateRow(pos, data){\n\t\tvar rowData = this.generateRowData(pos, data),\n\t\trow;\n\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.disable();\n\t\t}\n\n\t\trow = new Row(rowData, this, \"calc\");\n\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.enable();\n\t\t}\n\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\n\t\trow.component = false;\n\n\t\trow.getComponent = () => {\n\t\t\tif(!row.component){\n\t\t\t\trow.component = new CalcComponent(row);\n\t\t\t}\n\n\t\t\treturn row.component;\n\t\t};\n\n\t\trow.generateCells = () => {\n\n\t\t\tvar cells = [];\n\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\n\t\t\t\t\t//set field name of mock column\n\t\t\t\t\tthis.genColumn.setField(column.getField());\n\t\t\t\t\tthis.genColumn.hozAlign = column.hozAlign;\n\n\t\t\t\t\tif(column.definition[pos + \"CalcFormatter\"] && this.table.modExists(\"format\")){\n\t\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {},\n\t\t\t\t\t\t};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(\"plaintext\"),\n\t\t\t\t\t\t\tparams:{}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t//ensure css class defintion is replicated to calculation cell\n\t\t\t\t\tthis.genColumn.definition.cssClass = column.definition.cssClass;\n\n\t\t\t\t\t//generate cell and assign to correct column\n\t\t\t\t\tvar cell = new Cell(this.genColumn, row);\n\t\t\t\t\tcell.getElement();\n\t\t\t\t\tcell.column = column;\n\t\t\t\t\tcell.setWidth();\n\n\t\t\t\t\tcolumn.cells.push(cell);\n\t\t\t\t\tcells.push(cell);\n\n\t\t\t\t\tif(!column.visible){\n\t\t\t\t\t\tcell.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\trow.cells = cells;\n\t\t};\n\n\t\treturn row;\n\t}\n\n\t//generate stats row\n\tgenerateRowData(pos, data){\n\t\tvar rowData = {},\n\t\tcalcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t\ttype = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t\tparams, paramKey;\n\n\t\tcalcs.forEach(function(column){\n\t\t\tvar values = [];\n\n\t\t\tif(column.modules.columnCalcs && column.modules.columnCalcs[type]){\n\t\t\t\tdata.forEach(function(item){\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t\t});\n\n\t\t\t\tparamKey = type + \"Params\";\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\thasTopCalcs(){\n\t\treturn\t!!(this.topCalcs.length);\n\t}\n\n\thasBottomCalcs(){\n\t\treturn\t!!(this.botCalcs.length);\n\t}\n\n\t//handle table redraw\n\tredraw(){\n\t\tif(this.topRow){\n\t\t\tthis.topRow.normalizeHeight(true);\n\t\t}\n\t\tif(this.botRow){\n\t\t\tthis.botRow.normalizeHeight(true);\n\t\t}\n\t}\n\n\t//return the calculated\n\tgetResults(){\n\t\tvar results = {},\n\t\tgroups;\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\n\t\t\tgroups.forEach((group) => {\n\t\t\t\tresults[group.getKey()] = this.getGroupResults(group);\n\t\t\t});\n\t\t}else{\n\t\t\tresults = {\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {},\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\t//get results from a group\n\tgetGroupResults(group){\n\t\tvar groupObj = group._getSelf(),\n\t\tsubGroups = group.getSubGroups(),\n\t\tsubGroupResults = {},\n\t\tresults = {};\n\n\t\tsubGroups.forEach((subgroup) => {\n\t\t\tsubGroupResults[subgroup.getKey()] = this.getGroupResults(subgroup);\n\t\t});\n\n\t\tresults = {\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\t\tgroups: subGroupResults,\n\t\t}\n\n\t\treturn results;\n\t}\n}\n\nColumnCalcs.moduleName = \"columnCalcs\";\n\n//load defaults\nColumnCalcs.calculations = defaultCalculations;\n\nexport default ColumnCalcs;", "import Module from '../../core/Module.js';\n\nimport Row from '../../core/row/Row.js';\n\nclass DataTree extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.indent = 10;\n\t\tthis.field = \"\";\n\t\tthis.collapseEl = null;\n\t\tthis.expandEl = null;\n\t\tthis.branchEl = null;\n\t\tthis.elementField = false;\n\n\t\tthis.startOpen = function(){};\n\n\t\tthis.displayIndex = 0;\n\n\t\tthis.registerTableOption(\"dataTree\", false); //enable data tree\n\t\tthis.registerTableOption(\"dataTreeFilter\", true); //filter child rows\n\t\tthis.registerTableOption(\"dataTreeSort\", true); //sort child rows\n\t\tthis.registerTableOption(\"dataTreeElementColumn\", false);\n\t\tthis.registerTableOption(\"dataTreeBranchElement\", true);//show data tree branch element\n\t\tthis.registerTableOption(\"dataTreeChildIndent\", 9); //data tree child indent in px\n\t\tthis.registerTableOption(\"dataTreeChildField\", \"_children\");//data tre column field to look for child rows\n\t\tthis.registerTableOption(\"dataTreeCollapseElement\", false);//data tree row collapse element\n\t\tthis.registerTableOption(\"dataTreeExpandElement\", false);//data tree row expand element\n\t\tthis.registerTableOption(\"dataTreeStartExpanded\", false);\n\t\tthis.registerTableOption(\"dataTreeChildColumnCalcs\", false);//include visible data tree rows in column calculations\n\t\tthis.registerTableOption(\"dataTreeSelectPropagate\", false);//seleccting a parent row selects its children\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.dataTree){\n\t\t\tvar dummyEl = null,\n\t\t\toptions = this.table.options;\n\n\t\t\tthis.field = options.dataTreeChildField;\n\t\t\tthis.indent = options.dataTreeChildIndent;\n\n\t\t\tif(options.dataTreeBranchElement){\n\n\t\t\t\tif(options.dataTreeBranchElement === true){\n\t\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t\t\t}else{\n\t\t\t\t\tif(typeof options.dataTreeBranchElement === \"string\"){\n\t\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(options.dataTreeCollapseElement){\n\t\t\t\tif(typeof options.dataTreeCollapseElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.collapseEl = document.createElement(\"div\");\n\t\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.collapseEl.tabIndex = 0;\n\t\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t\t\t}\n\n\t\t\tif(options.dataTreeExpandElement){\n\t\t\t\tif(typeof options.dataTreeExpandElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.expandEl = document.createElement(\"div\");\n\t\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.expandEl.tabIndex = 0;\n\t\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t\t\t}\n\n\n\t\t\tswitch(typeof options.dataTreeStartExpanded){\n\t\t\t\tcase \"boolean\":\n\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowDelete.bind(this),0);\n\t\t\tthis.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10);\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"column-moving-rows\", this.columnMoving.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.initializeElementField.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 30);\n\t\t}\n\t}\n\n\ttableRedrawing(force){\n\t\tvar rows;\n\n\t\tif(force){\n\t\t\trows = this.table.rowManager.getRows();\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.reinitializeRowChildren(row);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitializeElementField(){\n\t\tvar firstCol = this.table.columnManager.getFirstVisibleColumn();\n\n\t\tthis.elementField = this.table.options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\t}\n\t\n\tgetRowChildren(row){\n\t\treturn this.getTreeChildren(row, true);\n\t}\n\n\tcolumnMoving(){\n\t\tvar rows = [];\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trows = rows.concat(this.getTreeChildren(row, false, true));\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\trowDataChanged(row, visible, updatedData){\n\t\tif(this.redrawNeeded(updatedData)){\n\t\t\tthis.initializeRow(row);\n\n\t\t\tif(visible){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcellValueChanged(cell){\n\t\tvar field = cell.column.getField();\n\n\t\tif(field === this.elementField){\n\t\t\tthis.layoutRow(cell.row);\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar childArray = row.getData()[this.field];\n\t\tvar isArray = Array.isArray(childArray);\n\n\t\tvar children = isArray || (!isArray && typeof childArray === \"object\" && childArray !== null);\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.branchEl){\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t\t}\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.controlEl){\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t\t}\n\n\t\trow.modules.dataTree = {\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\t\topen: children ? (row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0)) : false,\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\t\tchildren:children,\n\t\t};\n\t}\n\n\treinitializeRowChildren(row){\n\t\tvar children = this.getTreeChildren(row, false, true);\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n\n\tlayoutRow(row){\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t\tel = cell.getElement(),\n\t\tconfig = row.modules.dataTree;\n\n\t\tif(config.branchEl){\n\t\t\tif(config.branchEl.parentNode){\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t\t}\n\t\t\tconfig.branchEl = false;\n\t\t}\n\n\t\tif(config.controlEl){\n\t\t\tif(config.controlEl.parentNode){\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t\t}\n\t\t\tconfig.controlEl = false;\n\t\t}\n\n\t\tthis.generateControlElement(row, el);\n\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\n\n\t\tif(config.index){\n\t\t\tif(this.branchEl){\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tconfig.branchEl.style.marginRight = (((config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (((config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateControlElement(row, el){\n\t\tvar config = row.modules.dataTree,\n\t\tel = el || row.getCells()[0].getElement(),\n\t\toldControl = config.controlEl;\n\n\t\tif(config.children !== false){\n\n\t\t\tif(config.open){\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.collapseRow(row);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.expandRow(row);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif(oldControl && oldControl.parentNode === el){\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl,oldControl);\n\t\t\t}else{\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetDisplayIndex (index) {\n\t\tthis.displayIndex = index;\n\t}\n\n\tgetDisplayIndex () {\n\t\treturn this.displayIndex;\n\t}\n\n\tgetRows(rows){\n\t\tvar output = [];\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar config, children;\n\n\t\t\toutput.push(row);\n\n\t\t\tif(row instanceof Row){\n\n\t\t\t\trow.create();\n\n\t\t\t\tconfig = row.modules.dataTree.children;\n\n\t\t\t\tif(!config.index && config.children !== false){\n\t\t\t\t\tchildren = this.getChildren(row);\n\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\tchild.create();\n\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetChildren(row, allChildren){\n\t\tvar config = row.modules.dataTree,\n\t\tchildren = [],\n\t\toutput = [];\n\n\t\tif(config.children !== false && (config.open || allChildren)){\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"sort\") && this.table.options.dataTreeSort){\n\t\t\t\tthis.table.modules.sort.sort(children);\n\t\t\t}\n\n\t\t\tchildren.forEach((child) => {\n\t\t\t\toutput.push(child);\n\n\t\t\t\tvar subChildren = this.getChildren(child);\n\n\t\t\t\tsubChildren.forEach((sub) => {\n\t\t\t\t\toutput.push(sub);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgenerateChildren(row){\n\t\tvar children = [];\n\n\t\tvar childArray = row.getData()[this.field];\n\n\t\tif(!Array.isArray(childArray)){\n\t\t\tchildArray = [childArray];\n\t\t}\n\n\t\tchildArray.forEach((childData) => {\n\t\t\tvar childRow = new Row(childData || {}, this.table.rowManager);\n\n\t\t\tchildRow.create();\n\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\t\tchildRow.modules.dataTree.parent = row;\n\n\t\t\tif(childRow.modules.dataTree.children){\n\t\t\t\tchildRow.modules.dataTree.open = this.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t\t}\n\t\t\tchildren.push(childRow);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\texpandRow(row, silent){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = true;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowExpanded\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\tcollapseRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = false;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowCollapsed\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\ttoggleRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tif(config.open){\n\t\t\t\tthis.collapseRow(row);\n\t\t\t}else{\n\t\t\t\tthis.expandRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowExpanded(row){\n\t\treturn row.modules.dataTree.open;\n\t}\n\n\tgetTreeParent(row){\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n\t}\n\n\tgetTreeParentRoot(row){\n\t\treturn row.modules.dataTree.parent ? this.getTreeParentRoot(row.modules.dataTree.parent) : row;\n\t}\n\n\tgetFilteredTreeChildren(row){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [], children;\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tchildren.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(childRow);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trowDelete(row){\n\t\tvar parent = row.modules.dataTree.parent,\n\t\tchildIndex;\n\n\t\tif(parent){\n\t\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t\t}\n\n\t\t\tif(!parent.data[this.field].length){\n\t\t\t\tdelete parent.data[this.field];\n\t\t\t}\n\n\t\t\tthis.initializeRow(parent);\n\t\t\tthis.layoutRow(parent);\n\t\t}\n\n\t\tthis.refreshData(true);\n\t}\n\n\taddTreeChildRow(row, data, top, index){\n\t\tvar childIndex = false;\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(!Array.isArray(row.data[this.field])){\n\t\t\trow.data[this.field] = [];\n\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\trow.data[this.field].splice((top ? childIndex : childIndex + 1), 0, data);\n\t\t\t}\n\t\t}\n\n\t\tif(childIndex === false){\n\t\t\tif(top){\n\t\t\t\trow.data[this.field].unshift(data);\n\t\t\t}else{\n\t\t\t\trow.data[this.field].push(data);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeRow(row);\n\t\tthis.layoutRow(row);\n\n\t\tthis.refreshData(true);\n\t}\n\n\tfindChildIndex(subject, parent){\n\t\tvar match = false;\n\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\tmatch = subject.data;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\tmatch = subject._getSelf().data;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\tif(parent.modules.dataTree){\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find((childRow) => {\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tmatch = match.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else if(typeof subject == \"undefined\" || subject === null){\n\t\t\tmatch = false\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tmatch = parent.data[this.field].find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t}\n\n\t\tif(match){\n\n\t\t\tif(Array.isArray(parent.data[this.field])){\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t\t}\n\n\t\t\tif(match == -1){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\t//catch all for any other type of input\n\n\t\treturn match;\n\t}\n\n\tgetTreeChildren(row, component, recurse){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [];\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tconfig.children.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\t\tif(recurse){\n\t\t\t\t\t\toutput = output.concat(this.getTreeChildren(childRow, component, recurse));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetChildField(){\n\t\treturn this.field;\n\t}\n\n\tredrawNeeded(data){\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n\t}\n}\n\nDataTree.moduleName = \"dataTree\";\n\nexport default DataTree;", "export default function(list, options, setFileContents){\n\tvar delimiter = options && options.delimiter ? options.delimiter : \",\",\n\tfileContents = [],\n\theaders = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = [];\n\n\t\tswitch(row.type){\n\t\t\tcase \"group\":\n\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\tbreak;\n\n\t\t\tcase \"header\":\n\t\t\trow.columns.forEach((col, i) => {\n\t\t\t\tif(col && col.depth === 1){\n\t\t\t\t\theaders[i] = typeof col.value == \"undefined\"  || col.value === null ? \"\" : ('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\trow.columns.forEach((col) => {\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tcol.value = JSON.stringify(col.value);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcase \"null\":\n\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfileContents.push(item.join(delimiter));\n\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(headers.length){\n\t\tfileContents.unshift(headers.join(delimiter));\n\t}\n\n\tfileContents = fileContents.join(\"\\n\");\n\n\tif(options.bom){\n\t\tfileContents = \"\\ufeff\" + fileContents;\n\t}\n\n\tsetFileContents(fileContents, \"text/csv\");\n};", "export default function(list, options, setFileContents){\n\tvar fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfileContents.push(item);\n\t\t\tbreak;\n\t\t}\n\t});\n\n\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\tsetFileContents(fileContents, \"application/json\");\n};", "export default function(list, options, setFileContents){\n\tvar header = [],\n\tbody = [],\n\tautoTableParams = {},\n\trowGroupStyles = options.rowGroupStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 12,\n\t\tcellPadding: 6,\n\t\tfillColor: 220,\n\t},\n\trowCalcStyles = options.rowCalcStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 10,\n\t\tcellPadding: 4,\n\t\tfillColor: 232,\n\t},\n\tjsPDFParams = options.jsPDF || {},\n\ttitle = options && options.title ? options.title : \"\";\n\n\tif(!jsPDFParams.orientation){\n\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t}\n\n\tif(!jsPDFParams.unit){\n\t\tjsPDFParams.unit = \"pt\";\n\t}\n\n\t//parse row list\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\theader.push(parseRow(row));\n\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\tbody.push(parseRow(row));\n\t\t\tbreak;\n\t\t}\n\t});\n\n\tfunction parseRow(row, styles){\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach((col) =>{\n\t\t\tvar cell;\n\n\t\t\tif(col){\n\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\tcol.value = JSON.stringify(col.value);\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\tcase \"null\":\n\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcell = {\n\t\t\t\t\tcontent:col.value,\n\t\t\t\t\tcolSpan:col.width,\n\t\t\t\t\trowSpan:col.height,\n\t\t\t\t};\n\n\t\t\t\tif(styles){\n\t\t\t\t\tcell.styles = styles;\n\t\t\t\t}\n\n\t\t\t\trowData.push(cell);\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\n\t//configure PDF\n\tvar doc = new jspdf.jsPDF(jsPDFParams); //set document to landscape, better for most tables\n\n\tif(options && options.autoTable){\n\t\tif(typeof options.autoTable === \"function\"){\n\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t}else{\n\t\t\tautoTableParams = options.autoTable;\n\t\t}\n\t}\n\n\tif(title){\n\t\tautoTableParams.didDrawPage = function(data) {\n\t\t\tdoc.text(title, 40, 30);\n\t\t};\n\t}\n\n\tautoTableParams.head = header;\n\tautoTableParams.body = body;\n\n\tdoc.autoTable(autoTableParams);\n\n\tif(options && options.documentProcessing){\n\t\toptions.documentProcessing(doc);\n\t}\n\n\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n};", "import CoreFeature from '../../../../core/CoreFeature.js';\n\nexport default function(list, options, setFileContents){\n\tvar self = this,\n\tsheetName = options.sheetName || \"Sheet1\",\n\tworkbook = XLSX.utils.book_new(),\n\ttableFeatures = new CoreFeature(this),\n\toutput;\n\n\tworkbook.SheetNames = [];\n\tworkbook.Sheets = {};\n\n\tfunction generateSheet(){\n\t\tvar rows = [],\n\t\tmerges = [],\n\t\tworksheet = {},\n\t\trange = {s: {c:0, r:0}, e: {c:(list[0] ? list[0].columns.reduce((a, b) => a + (b && b.width ? b.width : 1), 0) : 0), r:list.length }};\n\n\t\t//parse row list\n\t\tlist.forEach((row, i) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function(col, j){\n\n\t\t\t\tif(col){\n\t\t\t\t\trowData.push(!(col.value instanceof Date) && typeof col.value === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\tif(col.width > 1 || col.height > -1){\n\t\t\t\t\t\tif(col.height > 1 || col.width > 1){\n\t\t\t\t\t\t\tmerges.push({s:{r:i,c:j},e:{r:i + col.height - 1,c:j + col.width - 1}});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trows.push(rowData);\n\t\t});\n\n\t\t//convert rows to worksheet\n\t\tXLSX.utils.sheet_add_aoa(worksheet, rows);\n\n\t\tworksheet['!ref'] = XLSX.utils.encode_range(range);\n\n\t\tif(merges.length){\n\t\t\tworksheet[\"!merges\"] = merges;\n\t\t}\n\n\t\treturn worksheet;\n\t}\n\n\tif(options.sheetOnly){\n\t\tsetFileContents(generateSheet());\n\t\treturn;\n\t}\n\n\tif(options.sheets){\n\t\tfor(var sheet in options.sheets){\n\n\t\t\tif(options.sheets[sheet] === true){\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t}else{\n\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\ttableFeatures.commsSend(options.sheets[sheet], \"download\", \"intercept\",{\n\t\t\t\t\ttype:\"xlsx\",\n\t\t\t\t\toptions:{sheetOnly:true},\n\t\t\t\t\tactive:self.active,\n\t\t\t\t\tintercept:function(data){\n\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}else{\n\t\tworkbook.SheetNames.push(sheetName);\n\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t}\n\n\tif(options.documentProcessing){\n\t\tworkbook = options.documentProcessing(workbook);\n\t}\n\n\t//convert workbook to binary array\n\tfunction s2ab(s) {\n\t\tvar buf = new ArrayBuffer(s.length);\n\t\tvar view = new Uint8Array(buf);\n\t\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\t\t\treturn buf;\n\t}\n\n\toutput = XLSX.write(workbook, {bookType:'xlsx', bookSST:true, type: 'binary'});\n\n\tsetFileContents(s2ab(output), \"application/octet-stream\");\n};", "export default function(list, options, setFileContents){\n\tif(this.modExists(\"export\", true)){\n\t\tsetFileContents(this.modules.export.genereateHTMLTable(list), \"text/html\");\n\t}\n};", "export default function (list, options, setFileContents) {\n\tconst fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tconst item = {};\n\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(JSON.stringify(item));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tsetFileContents(fileContents.join(\"\\n\"), \"application/x-ndjson\");\n};", "import csv from './downloaders/csv.js';\nimport json from './downloaders/json.js';\nimport pdf from './downloaders/pdf.js';\nimport xlsx from './downloaders/xlsx.js';\nimport html from './downloaders/html.js';\nimport jsonLines from './downloaders/jsonLines.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n\tjsonLines:jsonLines,\n\tpdf:pdf,\n\txlsx:xlsx,\n\thtml:html,\n};", "import Module from '../../core/Module.js';\n\nimport defaultDownloaders from './defaults/downloaders.js';\n\nclass Download extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerTableOption(\"downloadReady\", function(data, blob){return blob;}); //function to manipulate download data\n\t\tthis.registerTableOption(\"downloadConfig\", {}); //download config\n\t\tthis.registerTableOption(\"downloadRowRange\", \"active\"); //restrict download to active rows only\n\n\t\tthis.registerColumnOption(\"download\");\n\t\tthis.registerColumnOption(\"titleDownload\");\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"download\", this.download.bind(this));\n\t\tthis.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tdownloadToTab(type, filename, options, active){\n\t\tthis.download(type, filename, options, active, true);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//trigger file download\n\tdownload(type, filename, options, range, interceptCallback){\n\t\tvar downloadFunc = false;\n\n\t\tfunction buildLink(data, mime){\n\t\t\tif(interceptCallback){\n\t\t\t\tif(interceptCallback === true){\n\t\t\t\t\tthis.triggerDownload(data, mime, type, filename, true);\n\t\t\t\t}else{\n\t\t\t\t\tinterceptCallback(data);\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tthis.triggerDownload(data, mime, type, filename);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof type == \"function\"){\n\t\t\tdownloadFunc = type;\n\t\t}else{\n\t\t\tif(Download.downloaders[type]){\n\t\t\t\tdownloadFunc = Download.downloaders[type];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t\t}\n\t\t}\n\n\t\tif(downloadFunc){\n\t\t\tvar list = this.generateExportList(range);\n\n\t\t\tdownloadFunc.call(this.table, list , options || {}, buildLink.bind(this));\n\t\t}\n\t}\n\n\tgenerateExportList(range){\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t\t//assign group header formatter\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\t\tif(groupHeader && !Array.isArray(groupHeader)){\n\t\t\tgroupHeader = [groupHeader];\n\t\t}\n\n\t\tlist.forEach((row) => {\n\t\t\tvar group;\n\n\t\t\tif(row.type === \"group\"){\n\t\t\t\tgroup = row.columns[0];\n\n\t\t\t\tif(groupHeader && groupHeader[row.indent]){\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn list;\n\t}\n\n\ttriggerDownload(data, mime, type, filename, newTab){\n\t\tvar element = document.createElement('a'),\n\t\tblob = new Blob([data],{type:mime}),\n\t\tfilename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\n\t\tblob = this.table.options.downloadReady(data, blob);\n\n\t\tif(blob){\n\n\t\t\tif(newTab){\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t\t}else{\n\t\t\t\tif(navigator.msSaveOrOpenBlob){\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t\t}else{\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t\t//set file title\n\t\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t\t//trigger download\n\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t\telement.click();\n\n\t\t\t\t\t//remove temporary link element\n\t\t\t\t\tdocument.body.removeChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"downloadComplete\");\n\t\t}\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"intercept\":\n\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nDownload.moduleName = \"download\";\n\n//load defaults\nDownload.downloaders = defaultDownloaders;\n\nexport default Download;", "export default function maskInput(el, options){\n\tvar mask = options.mask,\n\tmaskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\tmaskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\tmaskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\",\n\tsuccess = false;\n\n\tfunction fillSymbols(index){\n\t\tvar symbol = mask[index];\n\t\tif(typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber){\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index+1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", (e) => {\n\t\tvar index = el.value.length,\n\t\tchar = e.key;\n\n\t\tif(e.keyCode > 46){\n\t\t\tif(index >= mask.length){\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tsuccess = false;\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\tswitch(mask[index]){\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\tif(char.toUpperCase() == char.toLowerCase()){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\tif(isNaN(char)){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\tif(char !== mask[index]){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsuccess = true;\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", (e) => {\n\t\tif(e.keyCode > 46){\n\t\t\tif(options.maskAutoFill){\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tif(!el.placeholder){\n\t\tel.placeholder = mask;\n\t}\n\n\tif(options.maskAutoFill){\n\t\tfillSymbols(el.value.length);\n\t}\n}", "import maskInput from '../../inputMask.js';\n\n//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\tonRendered(function(){\n\t\tinput.focus({preventScroll: true});\n\t\tinput.style.height = \"100%\";\n\n\t\tif(editorParams.selectContents){\n\t\t\tinput.select();\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\tonChange(e);\n\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\tcancel();\n\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\te.stopPropagation();\n\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n};", "import maskInput from '../../inputMask.js';\n\n//resizable text area element\nexport default function(cell, onRendered, success, cancel, editorParams){\n    var self = this,\n    cellValue = cell.getValue(),\n    vertNav = editorParams.verticalNavigation || \"hybrid\",\n    value = String(cellValue !== null && typeof cellValue !== \"undefined\"  ? cellValue : \"\"),\n    count = (value.match(/(?:\\r\\n|\\r|\\n)/g) || []).length + 1,\n    input = document.createElement(\"textarea\"),\n    scrollHeight = 0;\n\n    //create and style input\n    input.style.display = \"block\";\n    input.style.padding = \"2px\";\n    input.style.height = \"100%\";\n    input.style.width = \"100%\";\n    input.style.boxSizing = \"border-box\";\n    input.style.whiteSpace = \"pre-wrap\";\n    input.style.resize = \"none\";\n\n    if(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n        for (let key in editorParams.elementAttributes){\n            if(key.charAt(0) == \"+\"){\n                key = key.slice(1);\n                input.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n            }else{\n                input.setAttribute(key, editorParams.elementAttributes[key]);\n            }\n        }\n    }\n\n    input.value = value;\n\n    onRendered(function(){\n        input.focus({preventScroll: true});\n        input.style.height = \"100%\";\n\n        input.scrollHeight;\n        input.style.height = input.scrollHeight + \"px\";\n        cell.getRow().normalizeHeight();\n\n        if(editorParams.selectContents){\n\t\t\tinput.select();\n\t\t}\n    });\n\n    function onChange(e){\n\n        if(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\n            if(success(input.value)){\n                cellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n            }\n\n            setTimeout(function(){\n                cell.getRow().normalizeHeight();\n            },300)\n        }else{\n            cancel();\n        }\n    }\n\n    //submit new value on blur or change\n    input.addEventListener(\"change\", onChange);\n    input.addEventListener(\"blur\", onChange);\n\n    input.addEventListener(\"keyup\", function(){\n\n        input.style.height = \"\";\n\n        var heightNow = input.scrollHeight;\n\n        input.style.height = heightNow + \"px\";\n\n        if(heightNow != scrollHeight){\n            scrollHeight = heightNow;\n            cell.getRow().normalizeHeight();\n        }\n    });\n\n    input.addEventListener(\"keydown\", function(e){\n\n        switch(e.keyCode){\n            case 27:\n            cancel();\n            break;\n\n            case 38: //up arrow\n            if(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)){\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n            }\n\n            break;\n\n            case 40: //down arrow\n            if(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)){\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n            }\n            break;\n\n            case 35:\n            case 36:\n            e.stopPropagation();\n            break;\n        }\n    });\n\n    if(editorParams.mask){\n        maskInput(input, editorParams);\n    }\n\n    return input;\n};", "import maskInput from '../../inputMask.js';\n\n//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"number\");\n\n\tif(typeof editorParams.max != \"undefined\"){\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif(typeof editorParams.min != \"undefined\"){\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif(typeof editorParams.step != \"undefined\"){\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tvar blurFunc = function(e){\n\t\tonChange();\n\t};\n\n\tonRendered(function () {\n\t\t//submit new value on blur\n\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\tinput.focus({preventScroll: true});\n\t\tinput.style.height = \"100%\";\n\n\t\t//submit new value on blur\n\t\tinput.addEventListener(\"blur\", blurFunc);\n\n\t\tif(editorParams.selectContents){\n\t\t\tinput.select();\n\t\t}\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value !== cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\tonChange();\n\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\tcancel();\n\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\tif(vertNav == \"editor\"){\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\te.stopPropagation();\n\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n};", "//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"range\");\n\n\tif (typeof editorParams.max != \"undefined\") {\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif (typeof editorParams.min != \"undefined\") {\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif (typeof editorParams.step != \"undefined\") {\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tonRendered(function () {\n\t\tinput.focus({preventScroll: true});\n\t\tinput.style.height = \"100%\";\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value != cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e){\n\t\tonChange();\n\t});\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\tonChange();\n\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\tcancel();\n\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn input;\n};", "import maskInput from './inputMask.js';\nimport urlBuilder from '../Ajax/defaults/urlGenerator.js';\n\nexport default class Edit{\n    constructor(editor, cell, onRendered, success, cancel, editorParams){\n        this.edit = editor;\n        this.table = editor.table;\n        this.cell = cell;\n        this.params = this._initializeParams(editorParams);\n\n        this.data = [];\n        this.displayItems = [];\n        this.currentItems = [];\n        this.focusedItem = null;\n\n        this.input = this._createInputElement();\n        this.listEl = this._createListElement();\n\n        this.initialValues = null;\n\n        this.isFilter = !cell._getSelf;\n\n        this.filterTimeout = null;\n        this.filtered = false;\n        this.typing = false;\n\n        this.values = [];\n        this.popup = null;\n\n        this.listIteration = 0;\n\n        this.blurable = true;\n\n        this.actions = {\n            success:success,\n            cancel:cancel\n        }\n\n        this._deprecationCheck();\n        this._initializeValue();\n\n        onRendered(this._onRendered.bind(this));\n    }\n\n    _deprecationCheck(){\n        if(this.params.listItemFormatter){\n            console.warn(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n        }\n\n        if(this.params.sortValuesList){\n            console.warn(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n        }\n\n        if(this.params.searchFunc){\n            console.warn(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n        }\n\n        if(this.params.searchingPlaceholder){\n            console.warn(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n        }\n    }\n\n    _initializeValue(){\n        var initialValue = this.cell.getValue();\n\n        if(initialValue === \"\" && typeof this.params.defaultValue !== \"undefined\"){\n            initialValue = this.params.defaultValue;\n        }\n\n        if(typeof initialValue === \"string\"){\n            initialValue = [initialValue];\n        }\n        this.initialValues = initialValue;\n\n        if(this.isFilter){\n            this.input.value = this.initialValues ? this.initialValues.join(\",\") : [];\n            this.headerFilterInitialListGen();\n        }\n    }\n\n    _onRendered(){\n        var cellEl = this.cell.getElement();\n\n        function clickStop(e){\n            e.stopPropagation();\n        }\n\n        this.input.style.height = \"100%\";\n        this.input.focus({preventScroll: true});\n\n\n        cellEl.addEventListener(\"click\", clickStop);\n\n        setTimeout(() => {\n            cellEl.removeEventListener(\"click\", clickStop);\n        }, 1000)\n    }\n\n    _createListElement(){\n        var listEl = document.createElement(\"div\");\n        listEl.classList.add(\"tabulator-edit-list\");\n\n        listEl.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n        listEl.addEventListener(\"keydown\", this._inputKeyDown.bind(this))\n\n        return listEl;\n    }\n\n    _setListWidth(){\n        var element = this.isFilter ? this.input : this.cell.getElement();\n\n        this.listEl.style.minWidth = element.offsetWidth + \"px\";\n\n        if(this.params.maxWidth){\n            if(this.params.maxWidth === true){\n                this.listEl.style.maxWidth = element.offsetWidth + \"px\";\n            }else if(typeof this.params.maxWidth === \"number\"){\n                this.listEl.style.maxWidth = this.params.maxWidth + \"px\";\n            }else{\n                this.listEl.style.maxWidth = this.params.maxWidth;\n            }\n        }\n\n    }\n\n    _createInputElement(){\n        var attribs = this.params.elementAttributes;\n        var input = document.createElement(\"input\");\n\n        input.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\");\n\n        input.style.padding = \"4px\";\n        input.style.width = \"100%\";\n        input.style.boxSizing = \"border-box\";\n\n        if(!this.params.autocomplete){\n            input.style.cursor = \"default\";\n            input.style.caretColor = \"transparent\";\n            // input.readOnly = (this.edit.currentCell != false);\n        }\n\n        if(attribs && typeof attribs == \"object\"){\n            for (let key in attribs){\n                if(key.charAt(0) == \"+\"){\n                    key = key.slice(1);\n                    input.setAttribute(key, input.getAttribute(key) + attribs[\"+\" + key]);\n                }else{\n                    input.setAttribute(key, attribs[key]);\n                }\n            }\n        }\n\n        if(this.params.mask){\n            maskInput(input, this.params);\n        }\n\n        this._bindInputEvents(input);\n\n        return input;\n    }\n\n    _initializeParams(params){\n        var valueKeys = [\"values\", \"valuesURL\", \"valuesLookup\"],\n        valueCheck;\n\n        params = Object.assign({}, params);\n\n        params.verticalNavigation = params.verticalNavigation || \"editor\";\n        params.placeholderLoading = typeof params.placeholderLoading === \"undefined\" ? \"Searching ...\" : params.placeholderLoading;\n        params.placeholderEmpty = typeof params.placeholderEmpty === \"undefined\" ? \"No Results Found\" : params.placeholderEmpty;\n        params.filterDelay = typeof params.filterDelay === \"undefined\" ? 300 : params.filterDelay;\n\n        params.emptyValue = Object.keys(params).includes(\"emptyValue\") ? params.emptyValue : \"\";\n\n        valueCheck = Object.keys(params).filter(key => valueKeys.includes(key)).length;\n\n        if(!valueCheck){\n            console.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\")\n        }else if(valueCheck > 1){\n            console.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\")\n        }\n\n        if(params.autocomplete){\n            if(params.multiselect){\n                params.multiselect = false;\n                console.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\")\n            }\n        }else{\n            if(params.freetext){\n                params.freetext = false;\n                console.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");\n            }\n\n            if(params.filterFunc){\n                params.filterFunc = false;\n                console.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");\n            }\n\n            if(params.filterRemote){\n                params.filterRemote = false;\n                console.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");\n            }\n\n            if(params.mask){\n                params.mask = false;\n                console.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");\n            }\n\n            if(params.allowEmpty){\n                params.allowEmpty = false;\n                console.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");\n            }\n\n            if(params.listOnEmpty){\n                params.listOnEmpty = false;\n                console.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");\n            }\n        }\n\n        if(params.filterRemote && !(typeof params.valuesLookup === \"function\" || typeof params.valuesURL)){\n            params.filterRemote = false;\n            console.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");\n        }\n        return params;\n    }\n    //////////////////////////////////////\n    ////////// Event Handling ////////////\n    //////////////////////////////////////\n\n    _bindInputEvents(input){\n        input.addEventListener(\"focus\", this._inputFocus.bind(this))\n        input.addEventListener(\"click\", this._inputClick.bind(this))\n        input.addEventListener(\"blur\", this._inputBlur.bind(this))\n        input.addEventListener(\"keydown\", this._inputKeyDown.bind(this))\n        input.addEventListener(\"search\", this._inputSearch.bind(this))\n\n        if(this.params.autocomplete){\n            input.addEventListener(\"keyup\", this._inputKeyUp.bind(this))\n        }\n    }\n\n\n    _inputFocus(e){\n        this.rebuildOptionsList();\n    }\n\n    _filter(){\n        if(this.params.filterRemote){\n            clearTimeout(this.filterTimeout);\n\n            this.filterTimeout = setTimeout(() => {\n                this.rebuildOptionsList();\n            }, this.params.filterDelay);\n        }else{\n            this._filterList();\n        }\n    }\n\n    _inputClick(e){\n        e.stopPropagation();\n    }\n\n    _inputBlur(e){\n        if(this.blurable && this.popup){\n            this.popup.hide();\n        }\n    }\n\n    _inputSearch(){\n        this._clearChoices();\n    }\n\n    _inputKeyDown(e){\n        switch(e.keyCode){\n\n            case 38: //up arrow\n            this._keyUp(e);\n            break\n\n            case 40: //down arrow\n            this._keyDown(e);\n            break;\n\n            case 37: //left arrow\n            case 39: //right arrow\n            this._keySide(e);\n            break;\n\n            case 13: //enter\n            this._keyEnter();\n            break;\n\n            case 27: //escape\n            this._keyEsc();\n            break;\n\n            case 36: //home\n            case 35: //end\n            this._keyHomeEnd(e);\n            break;\n\n            case 9: //tab\n            break;\n\n            default:\n            this._keySelectLetter(e);\n        }\n    }\n\n    _inputKeyUp(e){\n        switch(e.keyCode){\n            case 38: //up arrow\n            case 37: //left arrow\n            case 39: //up arrow\n            case 40: //right arrow\n            case 13: //enter\n            case 27: //escape\n            break;\n\n            default:\n            this._keyAutoCompLetter(e);\n        }\n    }\n\n    _preventBlur(){\n        this.blurable = false;\n\n        setTimeout(function(){\n            this.blurable = true;\n        }, 10);\n    }\n\n    //////////////////////////////////////\n    //////// Keyboard Navigation /////////\n    //////////////////////////////////////\n\n    _keyUp(e){\n        var index = this.displayItems.indexOf(this.focusedItem);\n\n        if(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index)){\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            e.preventDefault();\n\n            if(index > 0){\n                this._focusItem(this.displayItems[index - 1]);\n            }\n        }\n    }\n\n    _keyDown(e){\n        var index = this.displayItems.indexOf(this.focusedItem);\n\n        if(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index < this.displayItems.length - 1)){\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            e.preventDefault();\n\n            if(index < this.displayItems.length - 1){\n                if(index == -1){\n                    this._focusItem(this.displayItems[0]);\n                }else{\n                    this._focusItem(this.displayItems[index + 1]);\n                }\n            }\n        }\n    }\n\n    _keySide(e){\n        e.stopImmediatePropagation();\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    _keyEnter(e){\n        if(this.focusedItem){\n            this._chooseItem(this.focusedItem);\n        }else{\n            this._cancel();\n        }\n    }\n\n    _keyEsc(e){\n        this._cancel();\n    }\n\n    _keyHomeEnd(e){\n        if(this.params.autocomplete){\n            //prevent table navigation while using input element\n            e.stopImmediatePropagation();\n        }\n    }\n\n    _keySelectLetter(e){\n        if(!this.params.autocomplete){\n            // if(this.edit.currentCell === false){\n            e.preventDefault();\n            // }\n\n            if(e.keyCode >= 38 && e.keyCode <= 90){\n                this._scrollToValue(e.keyCode);\n            }\n        }\n    }\n\n    _keyAutoCompLetter(e){\n        this._filter();\n        this.typing = true;\n    }\n\n\n    _scrollToValue(char){\n        clearTimeout(this.filterTimeout);\n\n        var character = String.fromCharCode(char).toLowerCase();\n        this.filterTerm += character.toLowerCase();\n\n        var match = this.displayItems.find((item) => {\n            return typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(this.filterTerm);\n        });\n\n        if(match){\n            this._focusItem(match);\n        }\n\n        this.filterTimeout = setTimeout(() => {\n            this.filterTerm = \"\";\n        }, 800)\n    }\n\n    _focusItem(item){\n        if(this.focusedItem && this.focusedItem.element){\n            this.focusedItem.element.classList.remove(\"focused\");\n        }\n\n        this.focusedItem = item;\n\n        if(item && item.element){\n            item.element.classList.add(\"focused\");\n            item.element.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});\n        }\n    }\n\n\n    //////////////////////////////////////\n    /////// Data List Generation /////////\n    //////////////////////////////////////\n    headerFilterInitialListGen(){\n        this._generateOptions(true);\n    }\n\n    rebuildOptionsList(){\n        this._generateOptions()\n        .then(this._sortOptions.bind(this))\n        .then(this._buildList.bind(this))\n        .then(this._showList.bind(this))\n        .catch((e) => {\n            if(!Number.isInteger(e)){\n                console.error(\"List generation error\", e);\n            }\n        })\n    }\n\n    _filterList(){\n        this._buildList(this._filterOptions());\n        this._showList();\n    }\n\n    _generateOptions(silent){\n        var values = [];\n        var itteration = ++ this.listIteration;\n\n        this.filtered = false;\n\n        if(this.params.values){\n            values = this.params.values;\n        }else if (this.params.valuesURL){\n            values = this._ajaxRequest(this.params.valuesURL, this.input.value);\n        }else{\n            if(typeof this.params.valuesLookup === \"function\"){\n                values = this.params.valuesLookup(this.cell, this.input.value);\n            }else if(this.params.valuesLookup){\n                values = this._uniqueColumnValues(this.params.valuesLookupField);\n            }\n        }\n\n        if(values instanceof Promise){\n            if(!silent){\n                this._addPlaceholder(this.params.placeholderLoading);\n            }\n\n            return values.then()\n            .then((responseValues) => {\n                if(this.listIteration === itteration){\n                    return this._parseList(responseValues);\n                }else{\n                    return Promise.reject(itteration);\n                }\n            });\n        }else{\n            return Promise.resolve(this._parseList(values))\n        }\n    }\n\n    _addPlaceholder(contents){\n        var placeholder = document.createElement(\"div\");\n\n        if(typeof contents === \"function\"){\n            contents = contents(cell.getComponent(), this.listEl);\n        }\n\n        if(contents){\n            this._clearList();\n\n            if(contents instanceof HTMLElement){\n                placeholder = contents;\n            }else{\n                placeholder.classList.add(\"tabulator-edit-list-placeholder\")\n                placeholder.innerHTML = contents;\n            }\n\n            this.listEl.appendChild(placeholder);\n\n            this._showList();\n        }\n    }\n\n    _ajaxRequest(url, term){\n        var params = this.params.filterRemote ? {term:term} : {};\n        url = urlBuilder(url, {}, params);\n\n        return fetch(url)\n        .then((response)=>{\n            if(response.ok) {\n                return response.json()\n                .catch((error)=>{\n                    console.warn(\"List Ajax Load Error - Invalid JSON returned\", error);\n                    return Promise.reject(error);\n                });\n            }else{\n                console.error(\"List Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n                return Promise.reject(response);\n            }\n        })\n        .catch((error)=>{\n            console.error(\"List Ajax Load Error - Connection Error: \", error);\n            return Promise.reject(error);\n        });\n    }\n\n    _uniqueColumnValues(field){\n        var output = {},\n        data = this.table.getData(this.params.valuesLookup),\n        column;\n\n        if(field){\n            column = this.table.columnManager.getColumnByField(field);\n        }else{\n            column = this.cell.getColumn()._getSelf();\n        }\n\n        if(column){\n            data.forEach((row) => {\n                var val = column.getFieldValue(row);\n\n                if(val !== null && typeof val !== \"undefined\" && val !== \"\"){\n                    output[val] = true;\n                }\n            });\n        }else{\n            console.warn(\"unable to find matching column to create select lookup list:\", field);\n            output = [];\n        }\n\n        return Object.keys(output);\n    }\n\n\n    _parseList(inputValues){\n        var data = [];\n\n        if(!Array.isArray(inputValues)){\n            inputValues = Object.entries(inputValues).map(([key, value]) => {\n                return {\n                    label:value,\n                    value:key,\n                };\n            });\n        }\n\n        inputValues.forEach((value) => {\n            if(typeof value !== \"object\"){\n                value = {\n                    label:value,\n                    value:value,\n                };\n            }\n\n            this._parseListItem(value, data, 0);\n        });\n\n        this.data = data;\n\n        return data;\n    }\n\n    _parseListItem(option, data, level){\n        var item = {};\n\n        if(option.options){\n            item = this._parseListGroup(option, level + 1);\n        }else{\n            item = {\n                label:option.label,\n                value:option.value,\n                itemParams:option.itemParams,\n                elementAttributes: option.elementAttributes,\n                element:false,\n                selected:false,\n                visible:true,\n                level:level,\n                original:option,\n            };\n\n            if(this.initialValues && this.initialValues.indexOf(option.value) > -1){\n                this._chooseItem(item, true);\n            }\n        }\n\n        data.push(item);\n    }\n\n    _parseListGroup(option, level){\n        var item = {\n            label:option.label,\n            group:true,\n            itemParams:option.itemParams,\n            elementAttributes:option.elementAttributes,\n            element:false,\n            visible:true,\n            level:level,\n            options:[],\n            original:option,\n        };\n\n        option.options.forEach((child) => {\n            this._parseListItem(child, item.options, level);\n        });\n\n        return item;\n    }\n\n    _sortOptions(options){\n        var sorter;\n\n        if(this.params.sort){\n            sorter = typeof this.params.sort === \"function\" ? this.params.sort : this._defaultSortFunction.bind(this);\n\n            this._sortGroup(sorter, options);\n        }\n\n        return options;\n    }\n\n    _sortGroup(sorter, options){\n        options.sort((a,b) => {\n            return sorter(a.label, b.label, a.value, b.value, a.original, b.original);\n        });\n\n        options.forEach((option) => {\n            if(option.group){\n                this._sortGroup(sorter, option.options);\n            }\n        })\n    }\n\n    _defaultSortFunction(as, bs){\n        var a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n        var emptyAlign = 0;\n\n        if(this.params.sort === \"desc\"){\n            [as, bs] = [bs, as];\n        }\n\n        //handle empty values\n        if(!as && as!== 0){\n            emptyAlign =  !bs && bs!== 0 ? 0 : -1;\n        }else if(!bs && bs!== 0){\n            emptyAlign =  1;\n        }else{\n            if(isFinite(as) && isFinite(bs)) return as - bs;\n            a = String(as).toLowerCase();\n            b = String(bs).toLowerCase();\n            if(a === b) return 0;\n            if(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n            a = a.match(rx);\n            b = b.match(rx);\n            L = a.length > b.length ? b.length : a.length;\n            while(i < L){\n                a1= a[i];\n                b1= b[i++];\n                if(a1 !== b1){\n                    if(isFinite(a1) && isFinite(b1)){\n                        if(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n                        if(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n                        return a1 - b1;\n                    }\n                    else return a1 > b1 ? 1 : -1;\n                }\n            }\n\n            return a.length > b.length;\n        }\n\n        return emptyAlign;\n    }\n\n    _filterOptions(){\n        var filterFunc = this.params.filterFunc || this._defaultFilterFunc;\n        var term = this.input.value;\n        var results = [];\n\n        if(term){\n            this.filtered = true;\n\n            this.data.forEach((item) => {\n                this._filterItem(filterFunc, term, item);\n            });\n        }else{\n            this.filtered = false;\n        }\n\n        return this.data;\n    }\n\n    _filterItem(func, term, item){\n        var matches = false;\n\n        if(!item.group){\n            item.visible = func(term, item.label, item.value, item.original);\n        }else{\n            item.options.forEach((option) => {\n                if(this._filterItem(func, term, option)){\n                    matches = true;\n                }\n            });\n\n            item.visible = matches;\n        }\n\n        return item.visible;\n    }\n\n    _defaultFilterFunc(term, label, value, item){\n        var term = String(term).toLowerCase();\n\n        if(label !== null || typeof label !== \"undefined\"){\n            if(String(label).toLowerCase().indexOf(term) > -1 || String(value).toLowerCase(term).indexOf() > -1){\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    //////////////////////////////////////\n    /////////// Display List /////////////\n    //////////////////////////////////////\n\n    _clearList(){\n        while(this.listEl.firstChild) this.listEl.removeChild(this.listEl.firstChild);\n\n        this.displayItems = [];\n    }\n\n    _buildList(data){\n        this._clearList();\n\n        data.forEach((option) => {\n            this._buildItem(option);\n        });\n\n        if(!this.displayItems.length){\n            this._addPlaceholder(this.params.placeholderEmpty);\n        }\n    }\n\n    _buildItem(item){\n        var el = item.element,\n        contents;\n\n        if(!this.filtered || item.visible){\n\n            if(!el){\n                el = document.createElement(\"div\");\n                el.tabIndex = 0;\n\n                contents = this.params.itemFormatter ? this.params.itemFormatter(item.label, item.value, item.original, el) : item.label;\n\n                if(contents instanceof HTMLElement){\n                    el.appendChild(contents)\n                }else{\n                    el.innerHTML = contents;\n                }\n\n                if(item.group){\n                    el.classList.add(\"tabulator-edit-list-group\");\n                }else{\n                    el.classList.add(\"tabulator-edit-list-item\");\n                }\n\n                el.classList.add(\"tabulator-edit-list-group-level-\" + item.level);\n\n                if(item.elementAttributes && typeof item.elementAttributes == \"object\"){\n                    for (let key in item.elementAttributes){\n                        if(key.charAt(0) == \"+\"){\n                            key = key.slice(1);\n                            el.setAttribute(key, this.input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n                        }else{\n                            el.setAttribute(key, item.elementAttributes[key]);\n                        }\n                    }\n                }\n\n                if(item.group){\n                    el.addEventListener(\"click\", this._groupClick.bind(this, item));\n                }else{\n                    el.addEventListener(\"click\", this._itemClick.bind(this, item));\n                }\n\n                el.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\n                item.element = el;\n            }\n\n            this._styleItem(item);\n\n            this.listEl.appendChild(el);\n\n            if(item.group){\n                item.options.forEach((option) => {\n                    this._buildItem(option);\n                });\n            }else{\n                this.displayItems.push(item);\n            }\n        }\n    }\n\n    _showList(){\n        var startVis = this.popup && this.popup.isVisible();\n\n        if(this.input.parentNode){\n            if(this.params.autocomplete && this.input.value === \"\" && !this.params.listOnEmpty){\n                if(this.popup){\n                    this.popup.hide(true);\n                    return;\n                }\n            }\n\n            this._setListWidth();\n\n            if(!this.popup){\n                this.popup = this.edit.popup(this.listEl);\n            }\n\n            this.popup.show(this.cell.getElement(), \"bottom\")\n\n            if(!startVis){\n                this.popup.hideOnBlur(this._resolveValue.bind(this, true));\n            }\n        }\n    }\n\n    _styleItem(item){\n        if(item && item.element){\n            if(item.selected){\n                item.element.classList.add(\"active\");\n            }else{\n                item.element.classList.remove(\"active\");\n            }\n        }\n    }\n\n    //////////////////////////////////////\n    ///////// User Interaction ///////////\n    //////////////////////////////////////\n\n    _itemClick(item, e){\n        e.stopPropagation();\n\n        this._chooseItem(item);\n    }\n\n    _groupClick(item, e){\n        e.stopPropagation();\n    }\n\n\n    //////////////////////////////////////\n    ////// Current Item Management ///////\n    //////////////////////////////////////\n\n    _cancel(){\n        this.popup.hide(true);\n        this.actions.cancel();\n    }\n\n    _clearChoices(){\n        this.typing = true;\n\n        this.currentItems.forEach((item) => {\n            item.selected = false;\n            this._styleItem(item);\n        });\n\n        this.currentItems = [];\n\n        this.focusedItem = null;\n    }\n\n    _chooseItem(item, silent){\n        var index;\n\n        this.typing = false;\n\n        if(this.params.multiselect){\n            index = this.currentItems.indexOf(item);\n\n            if(index > -1){\n                this.currentItems.splice(index, 1);\n                item.selected = false;\n            }else{\n                this.currentItems.push(item);\n                item.selected = true;\n            }\n\n            this.input.value = this.currentItems.map(item => item.label).join(\",\");\n\n            this._styleItem(item);\n\n        }else{\n            this.currentItems = [item];\n            item.selected = true;\n\n            this.input.value = item.label;\n\n            this._styleItem(item);\n\n            if(!silent){\n                this._resolveValue();\n            }\n        }\n\n        this._focusItem(item);\n    }\n\n    _resolveValue(blur){\n        var output, initialValue;\n\n        this.popup.hide(true);\n\n        if(this.params.multiselect){\n            output = this.currentItems.map(item => item.value);\n        }else{\n            if(blur && this.params.autocomplete && this.typing){\n                if(this.params.freetext || (this.params.allowEmpty && this.input.value === \"\")){\n                    output = this.input.value;\n                }else{\n                    this.actions.cancel();\n                    return;\n                }\n            }else{\n                if(this.currentItems[0]){\n                    output = this.currentItems[0].value;\n                }else{\n                    initialValue = this.initialValues[0];\n\n                    if(initialValue === null || typeof initialValue === \"undefined\" || initialValue === \"\"){\n                        output = initialValue;\n                    }else{\n                        output = this.params.emptyValue;\n                    }\n                }\n\n            }\n        }\n\n        if(output === \"\"){\n            output = this.params.emptyValue;\n        }\n\n        this.actions.success(output);\n\n        if(this.isFilter){\n            this.initialValues = output && !Array.isArray[output] ? [output] : output;\n        }\n    }\n\n}\n", "import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\n\t console.warn(\"The select editor has been deprecated, please use the new list editor\");\n\n    var list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n    return list.input;\n}", "import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n    var list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n    return list.input;\n}", "import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\n\tconsole.warn(\"The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam\");\n\n\teditorParams.autocomplete = true;\n\n    var list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n    return list.input;\n}", "//star rating\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar self = this,\n\telement = cell.getElement(),\n\tvalue = cell.getValue(),\n\tmaxStars = element.getElementsByTagName(\"svg\").length || 5,\n\tsize = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\tstars = [],\n\tstarsHolder = document.createElement(\"div\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\n\t//change star type\n\tfunction starChange(val){\n\t\tstars.forEach(function(star, i){\n\t\t\tif(i < val){\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}else{\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}\n\t\t});\n\t}\n\n\t//build stars\n\tfunction buildStar(i){\n\n\t\tvar starHolder =  document.createElement(\"span\");\n\t\tvar nextStar = star.cloneNode(true);\n\n\t\tstars.push(nextStar);\n\n\t\tstarHolder.addEventListener(\"mouseenter\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tstarChange(i);\n\t\t});\n\n\t\tstarHolder.addEventListener(\"mousemove\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\n\t\tstarHolder.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tsuccess(i);\n\t\t\telement.blur();\n\t\t});\n\n\t\tstarHolder.appendChild(nextStar);\n\t\tstarsHolder.appendChild(starHolder);\n\n\t}\n\n\t//handle keyboard navigation value change\n\tfunction changeValue(val){\n\t\tvalue = val;\n\t\tstarChange(val);\n\t}\n\n\t//style cell\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\t//style holding element\n\tstarsHolder.style.verticalAlign = \"middle\";\n\tstarsHolder.style.display = \"inline-block\";\n\tstarsHolder.style.padding = \"4px\";\n\n\t//style star\n\tstar.setAttribute(\"width\", size);\n\tstar.setAttribute(\"height\", size);\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//create correct number of stars\n\tfor(var i=1;i<= maxStars;i++){\n\t\tbuildStar(i);\n\t}\n\n\t//ensure value does not exceed number of stars\n\tvalue = Math.min(parseInt(value), maxStars);\n\n\t// set initial styling of stars\n\tstarChange(value);\n\n\tstarsHolder.addEventListener(\"mousemove\", function(e){\n\t\tstarChange(0);\n\t});\n\n\tstarsHolder.addEventListener(\"click\", function(e){\n\t\tsuccess(0);\n\t});\n\n\telement.addEventListener(\"blur\", function(e){\n\t\tcancel();\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\tchangeValue(value + 1);\n\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\tchangeValue(value - 1);\n\t\t\tbreak;\n\n\t\t\tcase 13: //enter\n\t\t\tsuccess(value);\n\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\tcancel();\n\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn starsHolder;\n};", "//draggable progress bar\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar element = cell.getElement(),\n\tmax = typeof editorParams.max === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")) || 100) : editorParams.max,\n\tmin = typeof editorParams.min === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")) || 0) : editorParams.min,\n\tpercent = (max - min) / 100,\n\tvalue = cell.getValue() || 0,\n\thandle = document.createElement(\"div\"),\n\tbar = document.createElement(\"div\"),\n\tmouseDrag, mouseDragWidth;\n\n\t//set new value\n\tfunction updateValue(){\n\t\tvar style = window.getComputedStyle(element, null);\n\n\t\tvar calcVal = (percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\")))/100))) + min;\n\t\tsuccess(calcVal);\n\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\telement.setAttribute(\"aria-label\", value);\n\t}\n\n\t//style handle\n\thandle.style.position = \"absolute\";\n\thandle.style.right = \"0\";\n\thandle.style.top = \"0\";\n\thandle.style.bottom = \"0\";\n\thandle.style.width = \"5px\";\n\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t//style bar\n\tbar.style.display = \"inline-block\";\n\tbar.style.position = \"relative\";\n\t// bar.style.top = \"8px\";\n\t// bar.style.bottom = \"8px\";\n\t// bar.style.left = \"4px\";\n\t// bar.style.marginRight = \"4px\";\n\tbar.style.height = \"100%\";\n\tbar.style.backgroundColor = \"#488CE9\";\n\tbar.style.maxWidth = \"100%\";\n\tbar.style.minWidth = \"0%\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//style cell\n\telement.style.padding = \"4px 4px\";\n\n\t//make sure value is in range\n\tvalue = Math.min(parseFloat(value), max);\n\tvalue = Math.max(parseFloat(value), min);\n\n\t//workout percentage\n\tvalue = Math.round((value - min) / percent);\n\t// bar.style.right = value + \"%\";\n\tbar.style.width = value + \"%\";\n\n\telement.setAttribute(\"aria-valuemin\", min);\n\telement.setAttribute(\"aria-valuemax\", max);\n\n\tbar.appendChild(handle);\n\n\thandle.addEventListener(\"mousedown\", function(e){\n\t\tmouseDrag = e.screenX;\n\t\tmouseDragWidth = bar.offsetWidth;\n\t});\n\n\thandle.addEventListener(\"mouseover\", function(){\n\t\thandle.style.cursor = \"ew-resize\";\n\t});\n\n\telement.addEventListener(\"mousemove\", function(e){\n\t\tif(mouseDrag){\n\t\t\tbar.style.width = (mouseDragWidth + e.screenX - mouseDrag) + \"px\";\n\t\t}\n\t});\n\n\telement.addEventListener(\"mouseup\", function(e){\n\t\tif(mouseDrag){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\n\t\t\tmouseDrag = false;\n\t\t\tmouseDragWidth = false;\n\n\t\t\tupdateValue();\n\t\t}\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\te.preventDefault();\n\t\t\tbar.style.width = (bar.clientWidth + element.clientWidth/100) + \"px\";\n\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\te.preventDefault();\n\t\t\tbar.style.width = (bar.clientWidth - element.clientWidth/100) + \"px\";\n\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\tcase 13: //enter\n\t\t\tupdateValue();\n\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\tcancel();\n\t\t\tbreak;\n\n\t\t}\n\t});\n\n\telement.addEventListener(\"blur\", function(){\n\t\tcancel();\n\t});\n\n\treturn bar;\n};", "//checkbox\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar value = cell.getValue(),\n\tinput = document.createElement(\"input\"),\n\ttristate = editorParams.tristate,\n\tindetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\tindetermState = false,\n\ttrueValueSet = Object.keys(editorParams).includes(\"trueValue\"),\n\tfalseValueSet = Object.keys(editorParams).includes(\"falseValue\");\n\n\tinput.setAttribute(\"type\", \"checkbox\");\n\tinput.style.marginTop = \"5px\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = value;\n\n\tif(tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")){\n\t\tindetermState = true;\n\t\tinput.indeterminate = true;\n\t}\n\n\tif(this.table.browser != \"firefox\"){ //prevent blur issue on mac firefox\n\t\tonRendered(function(){\n\t\t\tinput.focus({preventScroll: true});\n\t\t});\n\t}\n\n\tinput.checked = trueValueSet ? value === editorParams.trueValue : (value === true || value === \"true\" || value === \"True\" || value === 1);\n\n\tonRendered(function(){\n\t\tinput.focus();\n\t});\n\n\tfunction setValue(blur){\n\t\tvar checkedValue = input.checked;\n\n\t\tif(trueValueSet && checkedValue){\n\t\t\tcheckedValue = editorParams.trueValue;\n\t\t}else if(falseValueSet && !checkedValue){\n\t\t\tcheckedValue = editorParams.falseValue;\n\t\t}else{\n\t\t\tcheckedValue = checkedValue;\n\t\t}\n\n\t\tif(tristate){\n\t\t\tif(!blur){\n\t\t\t\tif(input.checked && !indetermState){\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\tindetermState = true;\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\tindetermState = false;\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(indetermState){\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\treturn checkedValue;\n\t\t}\n\t}\n\n\t//submit new value on blur\n\tinput.addEventListener(\"change\", function(e){\n\t\tsuccess(setValue());\n\t});\n\n\tinput.addEventListener(\"blur\", function(e){\n\t\tsuccess(setValue(true));\n\t});\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tif(e.keyCode == 13){\n\t\t\tsuccess(setValue());\n\t\t}\n\t\tif(e.keyCode == 27){\n\t\t\tcancel();\n\t\t}\n\t});\n\n\treturn input;\n};", "import input from './editors/input.js';\nimport textarea from './editors/textarea.js';\nimport number from './editors/number.js';\nimport range from './editors/range.js';\nimport select from './editors/select.js';\nimport list from './editors/list.js';\nimport autocomplete from './editors/autocomplete.js';\nimport star from './editors/star.js';\nimport progress from './editors/progress.js';\nimport tickCross from './editors/tickCross.js';\n\nexport default {\n\tinput:input,\n\ttextarea:textarea,\n    number:number,\n    range:range,\n\tselect:select,\n\tlist:list,\n\tautocomplete:autocomplete,\n\tstar:star,\n\tprogress:progress,\n\ttickCross:tickCross,\n};", "import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultEditors from './defaults/editors.js';\n\nclass Edit extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.currentCell = false; //hold currently editing cell\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overriden by editor opening\n\t\tthis.recursionBlock = false; //prevent focus recursion\n\t\tthis.invalidEdit = false;\n\t\tthis.editedCells = [];\n\n\t\tthis.editors = Edit.editors;\n\n\t\tthis.registerColumnOption(\"editable\");\n\t\tthis.registerColumnOption(\"editor\");\n\t\tthis.registerColumnOption(\"editorParams\");\n\n\t\tthis.registerColumnOption(\"cellEditing\");\n\t\tthis.registerColumnOption(\"cellEdited\");\n\t\tthis.registerColumnOption(\"cellEditCancelled\");\n\n\t\tthis.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this));\n\t\tthis.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this));\n\n\t\tthis.registerComponentFunction(\"cell\", \"isEdited\", this.cellisEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this));\n\n\t\tthis.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-init\", this.bindEditor.bind(this));\n\t\tthis.subscribe(\"cell-delete\", this.clearEdited.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this));\n\t\tthis.subscribe(\"data-refreshing\", this.cancelEdit.bind(this));\n\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this));\n\t\tthis.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, undefined));\n\t}\n\n\n\t///////////////////////////////////\n\t////// Keybinding Functions ///////\n\t///////////////////////////////////\n\n\tkeybindingNavigateNext(e){\n\t\tvar cell = this.currentCell,\n\t\tnewRow = this.options(\"tabEndNewRow\");\n\n\t\tif(cell){\n\t\t\tif(!this.navigateNext(cell, e)){\n\t\t\t\tif(newRow){\n\t\t\t\t\tcell.getElement().firstChild.blur();\n\n\t\t\t\t\tif(newRow === true){\n\t\t\t\t\t\tnewRow = this.table.addRow({})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(typeof newRow == \"function\"){\n\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()))\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tnewRow.then(() => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tcell.getComponent().navigateNext();\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Cell Functions //////////\n\t///////////////////////////////////\n\n\tcellisEdited(cell){\n\t\treturn !! cell.modules.edit && cell.modules.edit.edited;\n\t}\n\n\tcellCancelEdit(cell){\n\t\tif(cell === this.currentCell){\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}else{\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tclearCellEdited(cells){\n\t\tif(!cells){\n\t\t\tcells = this.table.modules.edit.getEditedCells();\n\t\t}\n\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\n\t\tcells.forEach((cell) => {\n\t\t\tthis.table.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n\n\tnavigatePrev(cell = this.currentCell, e){\n\t\tvar nextCell, prevRow;\n\n\t\tif(cell){\n\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tnextCell = this.navigateLeft();\n\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tprevRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\n\t\t\t\tif(prevRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(prevRow, prevRow.cells.length);\n\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tnavigateNext(cell = this.currentCell, e){\n\t\tvar nextCell, nextRow;\n\n\t\tif(cell){\n\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tnextCell = this.navigateRight();\n\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\n\t\t\t\tif(nextRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(nextRow, -1);\n\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tnavigateLeft(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\n\t\tif(cell){\n\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findPrevEditableCell(cell.row, index);\n\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tnavigateRight(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\n\t\tif(cell){\n\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findNextEditableCell(cell.row, index);\n\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tnavigateUp(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\n\t\tif(cell){\n\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tnavigateDown(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\n\t\tif(cell){\n\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfindNextEditableCell(row, index){\n\t\tvar nextCell = false;\n\n\t\tif(index < row.cells.length-1){\n\t\t\tfor(var i = index+1; i < row.cells.length; i++){\n\t\t\t\tlet cell = row.cells[i];\n\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = true;\n\n\t\t\t\t\tif(typeof cell.column.modules.edit.check == \"function\"){\n\t\t\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tnextCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn nextCell;\n\t}\n\n\tfindPrevEditableCell(row, index){\n\t\tvar prevCell = false;\n\n\t\tif(index > 0){\n\t\t\tfor(var i = index-1; i >= 0; i--){\n\t\t\t\tlet cell = row.cells[i],\n\t\t\t\tallowEdit = true;\n\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tif(typeof cell.column.modules.edit.check == \"function\"){\n\t\t\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tprevCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn prevCell;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.editor !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\tcolumnDeleteCheck(column){\n\t\tif(this.currentCell && this.currentCell.column === column){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\n\trowDeleteCheck(row){\n\t\tif(this.currentCell && this.currentCell.row === row){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\n\t//initialize column editor\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {\n\t\t\teditor:false,\n\t\t\tblocked:false,\n\t\t\tcheck:column.definition.editable,\n\t\t\tparams:column.definition.editorParams || {}\n\t\t};\n\n\t\t//set column editor\n\t\tswitch(typeof column.definition.editor){\n\t\t\tcase \"string\":\n\t\t\tif(this.editors[column.definition.editor]){\n\t\t\t\tconfig.editor = this.editors[column.definition.editor];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", column.definition.editor);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tconfig.editor = column.definition.editor;\n\t\t\tbreak;\n\n\t\t\tcase \"boolean\":\n\t\t\tif(column.definition.editor === true){\n\t\t\t\tif(typeof column.definition.formatter !== \"function\"){\n\t\t\t\t\tif(this.editors[column.definition.formatter]){\n\t\t\t\t\t\tconfig.editor = this.editors[column.definition.formatter];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconfig.editor = this.editors[\"input\"];\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\tif(config.editor){\n\t\t\tcolumn.modules.edit = config;\n\t\t}\n\t}\n\n\tgetCurrentCell(){\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\n\t}\n\n\tclearEditor(cancel){\n\t\tvar cell = this.currentCell,\n\t\tcellEl;\n\n\t\tthis.invalidEdit = false;\n\n\t\tif(cell){\n\t\t\tthis.currentCell = false;\n\n\t\t\tcellEl = cell.getElement();\n\n\t\t\tthis.dispatch(\"edit-editor-clear\", cell, cancel);\n\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\n\n\t\t\twhile(cellEl.firstChild) cellEl.removeChild(cellEl.firstChild);\n\n\t\t\tcell.row.getElement().classList.remove(\"tabulator-row-editing\");\n\t\t}\n\t}\n\n\tcancelEdit(){\n\t\tif(this.currentCell){\n\t\t\tvar cell = this.currentCell;\n\t\t\tvar component = this.currentCell.getComponent();\n\n\t\t\tthis.clearEditor(true);\n\t\t\tcell.setValueActual(cell.getValue());\n\t\t\tcell.cellRendered();\n\n\t\t\tif(cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight){\n\t\t\t\tcell.row.normalizeHeight(true);\n\t\t\t}\n\n\t\t\tif(cell.column.definition.cellEditCancelled){\n\t\t\t\tcell.column.definition.cellEditCancelled.call(this.table, component);\n\t\t\t}\n\n\t\t\tthis.dispatch(\"edit-cancelled\", cell);\n\t\t\tthis.dispatchExternal(\"cellEditCancelled\", component);\n\t\t}\n\t}\n\n\t//return a formatted value for a cell\n\tbindEditor(cell){\n\t\tif(cell.column.modules.edit){\n\t\t\tvar self = this,\n\t\t\telement = cell.getElement(true);\n\n            element.classList.add(\"tabulator-cell-editable\");\n\t\t\telement.setAttribute(\"tabindex\", 0);\n\n\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}else{\n\t\t\t\t\tself.mouseClick = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\telement.addEventListener(\"focus\", function(e){\n\t\t\t\tif(!self.recursionBlock){\n\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfocusCellNoEvent(cell, block){\n\t\tthis.recursionBlock = true;\n\n\t\tif(!(block && this.table.browser === \"ie\")){\n\t\t\tcell.getElement().focus({preventScroll: true});\n\t\t}\n\n\t\tthis.recursionBlock = false;\n\t}\n\n\teditCell(cell, forceEdit){\n\t\tthis.focusCellNoEvent(cell);\n\t\tthis.edit(cell, false, forceEdit);\n\t}\n\n\tfocusScrollAdjust(cell){\n\t\tif(this.table.rowManager.getRenderMode() == \"virtual\"){\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t\tbottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t\trowEl = cell.row.getElement(),\n\t\t\toffset = rowEl.offsetTop;\n\n\t\t\tif(rowEl.offsetTop < topEdge){\n\t\t\t\tthis.table.rowManager.element.scrollTop -= (topEdge - rowEl.offsetTop);\n\t\t\t}else{\n\t\t\t\tif(rowEl.offsetTop + rowEl.offsetHeight  > bottomEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += (rowEl.offsetTop + rowEl.offsetHeight - bottomEdge);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t\trightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t\tcellEl = cell.getElement(),\n\t\t\toffset = cellEl.offsetLeft;\n\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin);\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin);\n\t\t\t}\n\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleftEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t\trightEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t}\n\n\t\t\tif(cellEl.offsetLeft < leftEdge){\n\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= (leftEdge - cellEl.offsetLeft);\n\t\t\t}else{\n\t\t\t\tif(cellEl.offsetLeft + cellEl.offsetWidth  > rightEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += (cellEl.offsetLeft + cellEl.offsetWidth - rightEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tedit(cell, e, forceEdit){\n\t\tvar self = this,\n\t\tallowEdit = true,\n\t\trendered = function(){},\n\t\telement = cell.getElement(),\n\t\tcellEditor, component, params;\n\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\t\tif(this.currentCell){\n\t\t\tif(!this.invalidEdit){\n\t\t\t\tthis.cancelEdit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t//handle successful value change\n\t\tfunction success(value){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tvar valid = self.chain(\"edit-success\", [cell, value], true, true);\n\n\t\t\t\tif(valid === true || self.table.options.validationMode === \"highlight\"){\n\t\t\t\t\tself.clearEditor();\n\n\n\t\t\t\t\tif(!cell.modules.edit){\n\t\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tcell.modules.edit.edited = true;\n\n\t\t\t\t\tif(self.editedCells.indexOf(cell) == -1){\n\t\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t\t}\n\n\t\t\t\t\tcell.setValue(value, true);\n\n\t\t\t\t\treturn valid === true;\n\t\t\t\t}else{\n\t\t\t\t\tself.invalidEdit = true;\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\t\trendered();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call success on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tself.cancelEdit();\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call cancel on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\n\t\tfunction onRendered(callback){\n\t\t\trendered = callback;\n\t\t}\n\n\t\tif(!cell.column.modules.edit.blocked){\n\t\t\tif(e){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\n\t\t\tswitch(typeof cell.column.modules.edit.check){\n\t\t\t\tcase \"function\":\n\t\t\t\tallowEdit = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\tallowEdit = cell.column.modules.edit.check;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(allowEdit || forceEdit){\n\n\t\t\t\tself.cancelEdit();\n\n\t\t\t\tself.currentCell = cell;\n\n\t\t\t\tthis.focusScrollAdjust(cell);\n\n\t\t\t\tcomponent = cell.getComponent();\n\n\t\t\t\tif(this.mouseClick){\n\t\t\t\t\tthis.mouseClick = false;\n\n\t\t\t\t\tif(cell.column.definition.cellClick){\n\t\t\t\t\t\tcell.column.definition.cellClick.call(this.table, e, component);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(cell.column.definition.cellEditing){\n\t\t\t\t\tcell.column.definition.cellEditing.call(this.table, component);\n\t\t\t\t}\n\n\t\t\t\tthis.dispatch(\"cell-editing\", cell);\n\t\t\t\tthis.dispatchExternal(\"cellEditing\", component);\n\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\t\tif(cellEditor !== false){\n\n\t\t\t\t\tif(cellEditor instanceof Node){\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-row-editing\");\n\t\t\t\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\t\t\t\telement.appendChild(cellEditor);\n\n\t\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\t\trendered();\n\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\t\tvar children = element.children;\n\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function(e){\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\t\telement.blur();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\telement.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tthis.mouseClick = false;\n\t\t\t\telement.blur();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.mouseClick = false;\n\t\t\telement.blur();\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgetEditedCells(){\n\t\tvar output = [];\n\n\t\tthis.editedCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tclearEdited(cell){\n\t\tvar editIndex;\n\n\t\tif(cell.modules.edit && cell.modules.edit.edited){\n\t\t\tcell.modules.edit.edited = false;\n\n\t\t\tthis.dispatch(\"edit-edited-clear\", cell);\n\t\t}\n\n\t\teditIndex = this.editedCells.indexOf(cell);\n\n\t\tif(editIndex > -1){\n\t\t\tthis.editedCells.splice(editIndex, 1);\n\t\t}\n\t}\n}\n\nEdit.moduleName = \"edit\";\n\n//load defaults\nEdit.editors = defaultEditors;\n\n\nexport default Edit;\n", "class ExportRow{\n\tconstructor(type, columns, component, indent){\n\t\tthis.type = type;\n\t\tthis.columns = columns;\n\t\tthis.component = component || false;\n\t\tthis.indent = indent || 0;\n\t}\n}\n\nexport default ExportRow;", "class ExportColumn{\n\tconstructor(value, component, width, height, depth){\n\t\tthis.value = value;\n\t\tthis.component = component || false;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n}\n\nexport default ExportColumn;", "import Module from '../../core/Module.js';\n\nimport ExportRow from './ExportRow.js';\nimport ExportColumn from './ExportColumn.js';\n\nclass Export extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.config = {};\n\t\tthis.cloneTableStyle = true;\n\t\tthis.colVisProp = \"\";\n\n\t\tthis.registerTableOption(\"htmlOutputConfig\", false); //html outypu config\n\n\t\tthis.registerColumnOption(\"htmlOutput\");\n\t\tthis.registerColumnOption(\"titleHtmlOutput\");\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tgenerateExportList(config, style, range, colVisProp){\n\t\tthis.cloneTableStyle = style;\n\t\tthis.config = config || {};\n\t\tthis.colVisProp = colVisProp;\n\n\t\tvar headers = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [];\n\t\tvar body = this.bodyToExportRows(this.rowLookup(range));\n\n\t\treturn headers.concat(body);\n\t}\n\n\tgenereateTable(config, style, range, colVisProp){\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\n\n\t\treturn this.genereateTableElement(list);\n\t}\n\n\trowLookup(range){\n\t\tvar rows = [];\n\n\t\tif(typeof range == \"function\"){\n\t\t\trange.call(this.table).forEach((row) =>{\n\t\t\t\trow = this.table.rowManager.findRow(row);\n\n\t\t\t\tif(row){\n\t\t\t\t\trows.push(row);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tswitch(range){\n\t\t\t\tcase true:\n\t\t\t\tcase \"visible\":\n\t\t\t\trows = this.table.rowManager.getVisibleRows(false, true);\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"all\":\n\t\t\t\trows = this.table.rowManager.rows;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"selected\":\n\t\t\t\trows = this.table.modules.selectRow.selectedRows;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"active\":\n\t\t\t\tdefault:\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\trows = this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2);\n\t\t\t\t}else{\n\t\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Object.assign([], rows);\n\t}\n\n\tgenerateColumnGroupHeaders(){\n\t\tvar output = [];\n\n\t\tvar columns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar colData = this.processColumnGroup(column);\n\n\t\t\tif(colData){\n\t\t\t\toutput.push(colData);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tprocessColumnGroup(column){\n\t\tvar subGroups = column.columns,\n\t\tmaxDepth = 0,\n\t\ttitle = column.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || column.definition.title;\n\n\t\tvar groupData = {\n\t\t\ttitle:title,\n\t\t\tcolumn:column,\n\t\t\tdepth:1,\n\t\t};\n\n\t\tif(subGroups.length){\n\t\t\tgroupData.subGroups = [];\n\t\t\tgroupData.width = 0;\n\n\t\t\tsubGroups.forEach((subGroup) => {\n\t\t\t\tvar subGroupData = this.processColumnGroup(subGroup);\n\n\t\t\t\tif(subGroupData){\n\t\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\n\n\t\t\t\t\tif(subGroupData.depth > maxDepth){\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgroupData.depth += maxDepth;\n\n\t\t\tif(!groupData.width){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.columnVisCheck(column)){\n\t\t\t\tgroupData.width = 1;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn groupData;\n\t}\n\n\tcolumnVisCheck(column){\n\t\treturn column.definition[this.colVisProp] !== false && (column.visible || (!column.visible && column.definition[this.colVisProp]));\n\t}\n\n\theadersToExportRows(columns){\n\t\tvar headers = [],\n\t\theaderDepth = 0,\n\t\texportRows = [];\n\n\t\tfunction parseColumnGroup(column, level){\n\n\t\t\tvar depth = headerDepth - level;\n\n\t\t\tif(typeof headers[level] === \"undefined\"){\n\t\t\t\theaders[level] = [];\n\t\t\t}\n\n\t\t\tcolumn.height = column.subGroups ? 1 : (depth - column.depth) + 1;\n\n\t\t\theaders[level].push(column);\n\n\t\t\tif(column.height > 1){\n\t\t\t\tfor(let i = 1; i < column.height; i ++){\n\n\t\t\t\t\tif(typeof headers[level + i] === \"undefined\"){\n\t\t\t\t\t\theaders[level + i] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\theaders[level + i].push(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(column.width > 1){\n\t\t\t\tfor(let i = 1; i < column.width; i ++){\n\t\t\t\t\theaders[level].push(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(column.subGroups){\n\t\t\t\tcolumn.subGroups.forEach(function(subGroup){\n\t\t\t\t\tparseColumnGroup(subGroup, level+1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//calculate maximum header debth\n\t\tcolumns.forEach(function(column){\n\t\t\tif(column.depth > headerDepth){\n\t\t\t\theaderDepth = column.depth;\n\t\t\t}\n\t\t});\n\n\t\tcolumns.forEach(function(column){\n\t\t\tparseColumnGroup(column,0);\n\t\t});\n\n\t\theaders.forEach((header) => {\n\t\t\tvar columns = [];\n\n\t\t\theader.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\tlet title = typeof col.title === \"undefined\" ? \"\" : col.title;\n\t\t\t\t\tcolumns.push(new ExportColumn(title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t\t}else{\n\t\t\t\t\tcolumns.push(null);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\n\t\t});\n\n\t\treturn exportRows;\n\t}\n\n\tbodyToExportRows(rows){\n\n\t\tvar columns = [];\n\t\tvar exportRows = [];\n\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif (this.columnVisCheck(column)) {\n\t\t\t\tcolumns.push(column.getComponent());\n\t\t\t}\n\t\t});\n\n\t\tif(this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized){\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\n\t\t\tif(this.table.modules.columnCalcs.botInitialized){\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t}\n\n\t\trows = rows.filter((row) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\treturn this.config.rowGroups !== false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"calc\":\n\t\t\t\treturn this.config.columnCalcs !== false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"row\":\n\t\t\t\treturn !(this.table.options.dataTree && this.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar rowData = row.getData(this.colVisProp);\n\t\t\tvar exportCols = [];\n\t\t\tvar indent = 0;\n\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\tindent = row.level;\n\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"calc\" :\n\t\t\t\tcase \"row\" :\n\t\t\t\tcolumns.forEach((col) => {\n\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t\t});\n\n\t\treturn exportRows;\n\t}\n\n\tgenereateTableElement(list){\n\t\tvar table = document.createElement(\"table\"),\n\t\theaderEl = document.createElement(\"thead\"),\n\t\tbodyEl = document.createElement(\"tbody\"),\n\t\tstyles = this.lookupTableStyles(),\n\t\trowFormatter = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\n\t\tsetup = {};\n\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\n\t\tif(this.table.options.dataTree &&this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t\t}\n\n\t\t//assign group header formatter\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))];\n\n\t\tif(setup.groupHeader && !Array.isArray(setup.groupHeader)){\n\t\t\tsetup.groupHeader = [setup.groupHeader];\n\t\t}\n\n\t\ttable.classList.add(\"tabulator-print-table\");\n\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\n\n\t\tif(list.length > 1000){\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t\t}\n\n\t\tlist.forEach((row, i) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"header\":\n\t\t\t\theaderEl.appendChild(this.genereateHeaderElement(row, setup, styles));\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"group\":\n\t\t\t\tbodyEl.appendChild(this.genereateGroupElement(row, setup, styles));\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"calc\":\n\t\t\t\tbodyEl.appendChild(this.genereateCalcElement(row, setup, styles));\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"row\":\n\t\t\t\tlet rowEl = this.genereateRowElement(row, setup, styles);\n\t\t\t\tthis.mapElementStyles(((i % 2) && styles.evenRow) ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tif(headerEl.innerHTML){\n\t\t\ttable.appendChild(headerEl);\n\t\t}\n\n\t\ttable.appendChild(bodyEl);\n\n\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\t\treturn table;\n\t}\n\n\tlookupTableStyles(){\n\t\tvar styles = {};\n\n\t\t//lookup row styles\n\t\tif(this.cloneTableStyle && window.getComputedStyle){\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\n\t\t\tif(styles.firstRow){\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t\t}\n\t\t}\n\n\t\treturn styles;\n\t}\n\n\tgenereateHeaderElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\n\t\trow.columns.forEach((column) => {\n\t\t\tif(column){\n\t\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\n\t\t\t\tcellEl.colSpan = column.width;\n\t\t\t\tcellEl.rowSpan = column.height;\n\n\t\t\t\tcellEl.innerHTML = column.value;\n\n\t\t\t\tif(this.cloneTableStyle){\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t\t}\n\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\n\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t\tthis.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\n\t\t\t\tif(column.component._column.visible){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t\t}else{\n\t\t\t\t\tif(column.component._column.definition.width){\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(column.component._column.parent){\n\t\t\t\t\tthis.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t\t}\n\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t});\n\n\t\treturn rowEl;\n\t}\n\n\tgenereateGroupElement(row, setup, styles){\n\n\t\tvar rowEl = document.createElement(\"tr\"),\n\t\tcellEl = document.createElement(\"td\"),\n\t\tgroup = row.columns[0];\n\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\n\t\tif(setup.groupHeader && setup.groupHeader[row.indent]){\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}else{\n\t\t\tif(setup.groupHeader === false){\n\t\t\t\tgroup.value = group.value;\n\t\t\t}else{\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\n\t\tcellEl.colSpan = group.width;\n\t\tcellEl.innerHTML = group.value;\n\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\n\t\tif(group.component.isVisible()){\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t\t}\n\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\n\t\trowEl.appendChild(cellEl);\n\n\t\treturn rowEl;\n\t}\n\n\tgenereateCalcElement(row, setup, styles){\n\t\tvar rowEl = this.genereateRowElement(row, setup, styles);\n\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\n\t\treturn rowEl;\n\t}\n\n\tgenereateRowElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\n\t\trow.columns.forEach((col) => {\n\t\t\tif(col){\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t\tcolumn = col.component._column,\n\t\t\t\tindex = this.table.columnManager.findColumnIndex(column),\n\t\t\t\tvalue = col.value;\n\n\t\t\t\tvar cellWrapper = {\n\t\t\t\t\tmodules:{},\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn cellEl;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\treturn row.component.getData();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn row.component;\n\t\t\t\t\t},\n\t\t\t\t\tgetComponent:function(){\n\t\t\t\t\t\treturn cellWrapper;\n\t\t\t\t\t},\n\t\t\t\t\tcolumn:column,\n\t\t\t\t};\n\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\n\t\t\t\tif(this.table.modExists(\"format\") && this.config.formatCells !== false){\n\t\t\t\t\tvalue = this.table.modules.format.formatExportValue(cellWrapper, this.colVisProp);\n\t\t\t\t}else{\n\t\t\t\t\tswitch(typeof value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tvalue = JSON.stringify(value);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcase \"null\":\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(value instanceof Node){\n\t\t\t\t\tcellEl.appendChild(value);\n\t\t\t\t}else{\n\t\t\t\t\tcellEl.innerHTML = value;\n\t\t\t\t}\n\n\t\t\t\tif(styles.styleCells[index] || styles.firstCell){\n\t\t\t\t\tthis.mapElementStyles(styles.styleCells[index] || styles.firstCell, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"]);\n\n\t\t\t\t\tif(column.definition.align){\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tif((setup.treeElementField && setup.treeElementField == column.field) || (!setup.treeElementField && i == 0)){\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.controlEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.branchEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowEl.appendChild(cellEl);\n\n\t\t\t\tif(cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback){\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t\t}\n\n\t\t\t\tif(setup.rowFormatter && this.config.formatCells !== false){\n\t\t\t\t\tsetup.rowFormatter(row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn rowEl;\n\t}\n\n\tgenereateHTMLTable(list){\n\t\tvar holder = document.createElement(\"div\");\n\n\t\tholder.appendChild(this.genereateTableElement(list));\n\n\t\treturn holder.innerHTML;\n\t}\n\n\tgetHtml(visible, style, config, colVisProp){\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\n\t\treturn this.genereateHTMLTable(list);\n\t}\n\n\tmapElementStyles(from, to, props){\n\t\tif(this.cloneTableStyle && from && to){\n\n\t\t\tvar lookup = {\n\t\t\t\t\"background-color\" : \"backgroundColor\",\n\t\t\t\t\"color\" : \"fontColor\",\n\t\t\t\t\"width\" : \"width\",\n\t\t\t\t\"font-weight\" : \"fontWeight\",\n\t\t\t\t\"font-family\" : \"fontFamily\",\n\t\t\t\t\"font-size\" : \"fontSize\",\n\t\t\t\t\"text-align\" : \"textAlign\",\n\t\t\t\t\"border-top\" : \"borderTop\",\n\t\t\t\t\"border-left\" : \"borderLeft\",\n\t\t\t\t\"border-right\" : \"borderRight\",\n\t\t\t\t\"border-bottom\" : \"borderBottom\",\n\t\t\t\t\"padding-top\" : \"paddingTop\",\n\t\t\t\t\"padding-left\" : \"paddingLeft\",\n\t\t\t\t\"padding-right\" : \"paddingRight\",\n\t\t\t\t\"padding-bottom\" : \"paddingBottom\",\n\t\t\t};\n\n\t\t\tif(window.getComputedStyle){\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\n\n\t\t\t\tprops.forEach(function(prop){\n\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nExport.moduleName = \"export\";\n\nexport default Export;\n", "export default {\n\n\t//equal to\n\t\"=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\":function(filterVal, rowVal, rowData, filterParams){\n\n\t\tif(typeof filterVal == \"string\"){\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\":function(filterVal, rowVal, rowData, filterParams){\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\tvalue = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\tmatches = [];\n\n\t\tkeywords.forEach((keyword) =>{\n\t\t\tif(value.includes(keyword)){\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(Array.isArray(filterVal)){\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t},\n};", "import Module from '../../core/Module.js';\n\nimport defaultFilters from './defaults/filters.js';\n\nclass Filter extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.filterList = []; //hold filter list\n\t\tthis.headerFilters = {}; //hold column filters\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.changed = false; //has filtering changed since last render\n\t\tthis.tableInitialized = false;\n\n\t\tthis.registerTableOption(\"filterMode\", \"local\"); //local or remote filtering\n\n\t\tthis.registerTableOption(\"initialFilter\", false); //initial filtering criteria\n\t\tthis.registerTableOption(\"initialHeaderFilter\", false); //initial header filtering criteria\n\t\tthis.registerTableOption(\"headerFilterLiveFilterDelay\", 300); //delay before updating column after user types in header filter\n\n\t\tthis.registerColumnOption(\"headerFilter\");\n\t\tthis.registerColumnOption(\"headerFilterPlaceholder\");\n\t\tthis.registerColumnOption(\"headerFilterParams\");\n\t\tthis.registerColumnOption(\"headerFilterEmptyCheck\");\n\t\tthis.registerColumnOption(\"headerFilterFunc\");\n\t\tthis.registerColumnOption(\"headerFilterFuncParams\");\n\t\tthis.registerColumnOption(\"headerFilterLiveFilter\");\n\n\t\tthis.registerTableFunction(\"searchRows\", this.searchRows.bind(this));\n\t\tthis.registerTableFunction(\"searchData\", this.searchData.bind(this));\n\n\t\tthis.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this));\n\t\tthis.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this));\n\t\tthis.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this));\n\t\tthis.registerTableFunction(\"getFilters\", this.getFilters.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this));\n\t\tthis.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this));\n\n\t\tthis.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this));\n\t\tthis.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\n\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteFilterParams.bind(this));\n\t\t}\n\n\t\tthis.registerDataHandler(this.filter.bind(this), 10);\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialFilter){\n\t\t\tthis.setFilter(this.table.options.initialFilter);\n\t\t}\n\n\t\tif(this.table.options.initialHeaderFilter){\n\t\t\tthis.table.options.initialHeaderFilter.forEach((item) => {\n\n\t\t\t\tvar column = this.table.columnManager.findColumn(item.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.setHeaderFilterValue(column, item.value);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.tableInitialized = true;\n\t}\n\n\tremoteFilterParams(data, config, silent, params){\n\t\tparams.filter = this.getFilters(true, true);\n\t\treturn params;\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t//set standard filters\n\tuserSetFilter(field, type, value, params){\n\t\tthis.setFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\t//set standard filters\n\tuserRefreshFilter(){\n\t\tthis.refreshFilter();\n\t}\n\n\t//add filter to array\n\tuserAddFilter(field, type, value, params){\n\t\tthis.addFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\tuserSetHeaderFilterFocus(field){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterFocus(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tuserGetHeaderFilterValue(field) {\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn this.getHeaderFilterValue(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n\n\tuserSetHeaderFilterValue(field, value){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterValue(column, value);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//remove filter from array\n\tuserRemoveFilter(field, type, value){\n\t\tthis.removeFilter(field, type, value);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear filters\n\tuserClearFilter(all){\n\t\tthis.clearFilter(all);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear header filters\n\tuserClearHeaderFilter(){\n\t\tthis.clearHeaderFilter();\n\t\tthis.refreshFilter();\n\t}\n\n\n\t//search for specific row components\n\tsearchRows(field, type, value){\n\t\treturn this.search(\"rows\", field, type, value);\n\t}\n\n\t//search for specific data\n\tsearchData(field, type, value){\n\t\treturn this.search(\"data\", field, type, value);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnHeaderFilter(column){\n\t\tvar def = column.definition;\n\n\t\tif(def.headerFilter){\n\n\t\t\tif(typeof def.headerFilterPlaceholder !== \"undefined\" && def.field){\n\t\t\t\tthis.module(\"localize\").setHeaderFilterColumnPlaceholder(def.field, def.headerFilterPlaceholder);\n\t\t\t}\n\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column header filter\n\tinitializeColumn(column, value){\n\t\tvar self = this,\n\t\tfield = column.getField(),\n\t\tparams;\n\n\t\t//handle successfull value change\n\t\tfunction success(value){\n\t\t\tvar filterType = (column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\") || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t\ttype = \"\",\n\t\t\tfilterChangeCheck = \"\",\n\t\t\tfilterFunc;\n\n\t\t\tif(typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value){\n\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\t\tif(!column.modules.filter.emptyFunc(value)){\n\t\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\t\tswitch(typeof column.definition.headerFilterFunc){\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\tif(Filter.filters[column.definition.headerFilterFunc]){\n\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn Filter.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!filterFunc){\n\t\t\t\t\t\tswitch(filterType){\n\t\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tif(typeof colVal !== 'undefined' && colVal !== null){\n\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.headerFilters[field] = {value:value, func:filterFunc, type:type, params:params || {}};\n\t\t\t\t}else{\n\t\t\t\t\tdelete self.headerFilters[field];\n\t\t\t\t}\n\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\t\tif(self.prevHeaderFilterChangeCheck !== filterChangeCheck){\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\t\tself.trackChanges();\n\t\t\t\t\tself.refreshFilter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcolumn.modules.filter = {\n\t\t\tsuccess:success,\n\t\t\tattrType:false,\n\t\t\ttagType:false,\n\t\t\temptyFunc:false,\n\t\t};\n\n\t\tthis.generateHeaderFilterElement(column);\n\t}\n\n\tgenerateHeaderFilterElement(column, initialValue, reinitialize){\n\t\tvar self = this,\n\t\tsuccess = column.modules.filter.success,\n\t\tfield = column.getField(),\n\t\tfilterElement, editor, editorElement, cellWrapper, typingTimer, searchTrigger, params;\n\n\t\tcolumn.modules.filter.value = initialValue;\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){}\n\n\t\tif(column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode){\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t\t}\n\n\t\tif(field){\n\n\t\t\t//set empty value function\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function(value){\n\t\t\t\treturn !value && value !== \"0\" && value !== 0;\n\t\t\t};\n\n\t\t\tfilterElement = document.createElement(\"div\");\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t\t//set column editor\n\t\t\tswitch(typeof column.definition.headerFilter){\n\t\t\t\tcase \"string\":\n\t\t\t\tif(self.table.modules.edit.editors[column.definition.headerFilter]){\n\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\tif((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\tif(column.modules.edit && column.modules.edit.editor){\n\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t}else{\n\t\t\t\t\tif(column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]){\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\tif((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(editor){\n\n\t\t\t\tcellWrapper = {\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn filterElement;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnormalizeHeight:function(){\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table, cellWrapper) : params;\n\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, function(){}, success, cancel, params);\n\n\t\t\t\tif(!editorElement){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(editorElement instanceof Node)){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//set Placeholder Text\n\t\t\t\tif(field){\n\t\t\t\t\tself.langBind(\"headerFilters|columns|\" + column.definition.field, function(value){\n\t\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : self.langText(\"headerFilters|default\"));\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tself.langBind(\"headerFilters|default\", function(value){\n\t\t\t\t\t\teditorElement.setAttribute(\"placeholder\", value);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t//focus on element on click\n\t\t\t\teditorElement.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\teditorElement.focus();\n\t\t\t\t});\n\n\t\t\t\teditorElement.addEventListener(\"focus\", (e) => {\n\t\t\t\t\tvar left = this.table.columnManager.element.scrollLeft;\n\n\t\t\t\t\tvar headerPos = this.table.rowManager.element.scrollLeft + parseInt(this.table.columnManager.element.style.marginLeft);\n\n\t\t\t\t\tif(left !== headerPos){\n\t\t\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//live update filters as user types\n\t\t\t\ttypingTimer = false;\n\n\t\t\t\tsearchTrigger = function(e){\n\t\t\t\t\tif(typingTimer){\n\t\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t\t}\n\n\t\t\t\t\ttypingTimer = setTimeout(function(){\n\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t},self.table.options.headerFilterLiveFilterDelay);\n\t\t\t\t};\n\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\" ;\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\t\tif(column.definition.headerFilterLiveFilter !== false){\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'autocomplete' ||\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'tickCross' ||\n\t\t\t\t\t\t\t((column.definition.editor === 'autocomplete' ||\n\t\t\t\t\t\t\t\tcolumn.definition.editor === 'tickCross') &&\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === true)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\n\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\tif(column.modules.filter.attrType == \"number\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"change\", function(e){\n\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\tif(column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\"){\n\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t\t//prevent input and select elements from propegating click to column sorters etc\n\t\t\t\t\tif(column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\",function(e){\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\t\tif(!reinitialize){\n\t\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t\t}\n\t}\n\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\thideHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\tshowHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t\t}\n\t\t});\n\t}\n\n\t//programatically set focus of header filter\n\tsetHeaderFilterFocus(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\tcolumn.modules.filter.headerElement.focus();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically get value of header filter\n\tgetHeaderFilterValue(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\treturn column.modules.filter.value;\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programatically set value of header filter\n\tsetHeaderFilterValue(column, value){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\t\tcolumn.modules.filter.success(value);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\treloadHeaderFilter(column){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshFilter(){\n\t\tif(this.tableInitialized){\n\t\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\t\tthis.reloadData(null, false, false);\n\t\t\t}else{\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the filters has changed since last use\n\ttrackChanges(){\n\t\tthis.changed = true;\n\t\tthis.dispatch(\"filter-changed\");\n\t}\n\n\t//check if the filters has changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//set standard filters\n\tsetFilter(field, type, value, params){\n\t\tthis.filterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tthis.addFilter(field);\n\t}\n\n\t//add filter to array\n\taddFilter(field, type, value, params){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tthis.filterList.push(filter);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\n\t\tif(changed){\n\t\t\tthis.trackChanges();\n\t\t}\n\t}\n\n\tfindFilter(filter){\n\t\tvar column;\n\n\t\tif(Array.isArray(filter)){\n\t\t\treturn this.findSubFilters(filter);\n\t\t}\n\n\t\tvar filterFunc = false;\n\n\t\tif(typeof filter.field == \"function\"){\n\t\t\tfilterFunc = function(data){\n\t\t\t\treturn filter.field(data, filter.type || {})// pass params to custom filter function\n\t\t\t};\n\t\t}else{\n\n\t\t\tif(Filter.filters[filter.type]){\n\n\t\t\t\tcolumn = this.table.columnManager.getColumnByField(filter.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t}\n\n\t\tfilter.func = filterFunc;\n\n\t\treturn filter.func ? filter : false;\n\t}\n\n\tfindSubFilters(filters){\n\t\tvar output = [];\n\n\t\tfilters.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\toutput.push(filter);\n\t\t\t}\n\t\t});\n\n\t\treturn output.length ? output : false;\n\t}\n\n\t//get all filters\n\tgetFilters(all, ajax){\n\t\tvar output = [];\n\n\t\tif(all){\n\t\t\toutput = this.getHeaderFilters();\n\t\t}\n\n\t\tif(ajax){\n\t\t\toutput.forEach(function(item){\n\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\t\treturn output;\n\t}\n\n\t//filter to Object\n\tfiltersToArray(filterList, ajax){\n\t\tvar output = [];\n\n\t\tfilterList.forEach((filter) => {\n\t\t\tvar item;\n\n\t\t\tif(Array.isArray(filter)){\n\t\t\t\toutput.push(this.filtersToArray(filter, ajax));\n\t\t\t}else{\n\t\t\t\titem = {field:filter.field, type:filter.type, value:filter.value}\n\n\t\t\t\tif(ajax){\n\t\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\t\titem.type = \"function\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toutput.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get all filters\n\tgetHeaderFilters(){\n\t\tvar output = [];\n\n\t\tfor(var key in this.headerFilters){\n\t\t\toutput.push({field:key, type:this.headerFilters[key].type, value:this.headerFilters[key].value});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//remove filter from array\n\tremoveFilter(field, type, value){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tvar index = -1;\n\n\t\t\tif(typeof filter.field == \"object\"){\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter === element;\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type  && filter.value === element.value;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.filterList.splice(index, 1);\n\t\t\t\tchanged = true;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear filters\n\tclearFilter(all){\n\t\tthis.filterList = [];\n\n\t\tif(all){\n\t\t\tthis.clearHeaderFilter();\n\t\t}\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear header filters\n\tclearHeaderFilter(){\n\t\tthis.headerFilters = {};\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.headerFilterColumns.forEach((column) => {\n\t\t\tif(typeof column.modules.filter.value !== \"undefined\"){\n\t\t\t\tdelete column.modules.filter.value;\n\t\t\t}\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\t\tthis.reloadHeaderFilter(column);\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//search data and return matching rows\n\tsearch (searchType, field, type, value){\n\t\tvar activeRows = [],\n\t\tfilterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tfilterList.push(filter);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\tvar match = true;\n\n\t\t\tfilterList.forEach((filter) => {\n\t\t\t\tif(!this.filterRecurse(filter, row.getData())){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t\t}\n\n\t\t});\n\n\t\treturn activeRows;\n\t}\n\n\t//filter row array\n\tfilter(rowList, filters){\n\t\tvar activeRows = [],\n\t\tactiveRowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataFiltering\")){\n\t\t\tthis.dispatchExternal(\"dataFiltering\", this.getFilters(true));\n\t\t}\n\n\t\tif(this.table.options.filterMode !== \"remote\" && (this.filterList.length || Object.keys(this.headerFilters).length)){\n\n\t\t\trowList.forEach((row) => {\n\t\t\t\tif(this.filterRow(row)){\n\t\t\t\t\tactiveRows.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}else{\n\t\t\tactiveRows = rowList.slice(0);\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataFiltered\")){\n\n\t\t\tactiveRows.forEach((row) => {\n\t\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataFiltered\", this.getFilters(true), activeRowComponents);\n\t\t}\n\n\t\treturn activeRows;\n\t}\n\n\t//filter individual row\n\tfilterRow(row, filters){\n\t\tvar match = true,\n\t\tdata = row.getData();\n\n\t\tthis.filterList.forEach((filter) => {\n\t\t\tif(!this.filterRecurse(filter, data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\n\t\tfor(var field in this.headerFilters){\n\t\t\tif(!this.headerFilters[field].func(data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfilterRecurse(filter, data){\n\t\tvar match = false;\n\n\t\tif(Array.isArray(filter)){\n\t\t\tfilter.forEach((subFilter) => {\n\t\t\t\tif(this.filterRecurse(subFilter, data)){\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tmatch = filter.func(data);\n\t\t}\n\n\t\treturn match;\n\t}\n}\n\nFilter.moduleName = \"filter\";\n\n//load defaults\nFilter.filters = defaultFilters;\n\nexport default Filter;", "export default function(cell, formatterParams, onRendered){\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n};", "export default function(cell, formatterParams, onRendered){\n\treturn cell.getValue();\n};", "export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n};", "export default function(cell, formatterParams, onRendered){\n\tvar floatVal = parseFloat(cell.getValue()),\n\tsign = \"\",\n\tnumber, integer, decimal, rgx;\n\n\tvar decimalSym = formatterParams.decimal || \".\";\n\tvar thousandSym = formatterParams.thousand || \",\";\n\tvar negativeSign = formatterParams.negativeSign || \"-\";\n\tvar symbol = formatterParams.symbol || \"\";\n\tvar after = !!formatterParams.symbolAfter;\n\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\tif(isNaN(floatVal)){\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t}\n\n\tif(floatVal < 0){\n\t\tfloatVal = Math.abs(floatVal);\n\t\tsign = negativeSign;\n\t}\n\n\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\tnumber = String(number).split(\".\");\n\n\tinteger = number[0];\n\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\tif (formatterParams.thousand !== false) {\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)){\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\t}\n\n\treturn after ? sign + integer + decimal + symbol : sign + symbol + integer + decimal;\n};", "export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\turlPrefix = formatterParams.urlPrefix || \"\",\n\tdownload = formatterParams.download,\n\tlabel = value,\n\tel = document.createElement(\"a\"),\n\tdata;\n\n\tfunction labelTraverse(path, data){\n\t\tvar item = path.shift(),\n\t\tvalue = data[item];\n\t\t\n\t\tif(path.length && typeof value === \"object\"){\n\t\t\treturn labelTraverse(path, value);\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tif(formatterParams.labelField){\n\t\tdata = cell.getData();\n\t\tlabel = labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator), data);\n\t}\n\n\tif(formatterParams.label){\n\t\tswitch(typeof formatterParams.label){\n\t\t\tcase \"string\":\n\t\t\tlabel = formatterParams.label;\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tlabel = formatterParams.label(cell);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(label){\n\t\tif(formatterParams.urlField){\n\t\t\tdata = cell.getData();\n\t\t\tvalue = data[formatterParams.urlField];\n\t\t}\n\n\t\tif(formatterParams.url){\n\t\t\tswitch(typeof formatterParams.url){\n\t\t\t\tcase \"string\":\n\t\t\t\tvalue = formatterParams.url;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\tif(formatterParams.target){\n\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t}\n\n\t\tif(formatterParams.download){\n\n\t\t\tif(typeof download == \"function\"){\n\t\t\t\tdownload = download(cell);\n\t\t\t}else{\n\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t}\n\n\t\t\tel.setAttribute(\"download\", download);\n\t\t}\n\n\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\treturn el;\n\t}else{\n\t\treturn \"&nbsp;\";\n\t}\n};", "export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"img\"),\n\tsrc = cell.getValue();\n\n\tif(formatterParams.urlPrefix){\n\t\tsrc = formatterParams.urlPrefix + cell.getValue();\n\t}\n\n\tif(formatterParams.urlSuffix){\n\t\tsrc = src + formatterParams.urlSuffix;\n\t}\n\n\tel.setAttribute(\"src\", src);\n\n\tswitch(typeof formatterParams.height){\n\t\tcase \"number\":\n\t\tel.style.height = formatterParams.height + \"px\";\n\t\tbreak;\n\n\t\tcase \"string\":\n\t\tel.style.height = formatterParams.height;\n\t\tbreak;\n\t}\n\n\tswitch(typeof formatterParams.width){\n\t\tcase \"number\":\n\t\tel.style.width = formatterParams.width + \"px\";\n\t\tbreak;\n\n\t\tcase \"string\":\n\t\tel.style.width = formatterParams.width;\n\t\tbreak;\n\t}\n\n\tel.addEventListener(\"load\", function(){\n\t\tcell.getRow().normalizeHeight();\n\t});\n\n\treturn el;\n};", "export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tempty = formatterParams.allowEmpty,\n\ttruthy = formatterParams.allowTruthy,\n\ttrueValueSet = Object.keys(formatterParams).includes(\"trueValue\"),\n\ttick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\tcross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\tif((trueValueSet && value === formatterParams.trueValue) || (!trueValueSet && ((truthy && value) || (value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\")))){\n\t\telement.setAttribute(\"aria-checked\", true);\n\t\treturn tick || \"\";\n\t}else{\n\t\tif(empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")){\n\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\treturn \"\";\n\t\t}else{\n\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\treturn cross || \"\";\n\t\t}\n\t}\n};", "export default function(cell, formatterParams, onRendered){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar\toutputFormat = formatterParams.outputFormat || \"dd/MM/yyyy HH:mm:ss\";\n\tvar\tinvalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\t newDatetime = value;\n\t\t }else if(inputFormat === \"iso\"){\n\t\t\t newDatetime = DT.fromISO(String(value));\n\t\t }else{\n\t\t\t newDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t }\n\n\t\tif(newDatetime.isValid){\n\t\t\tif(formatterParams.timezone){\n\t\t\t\tnewDatetime = newDatetime.setZone(formatterParams.timezone);\n\t\t\t}\n\n\t\t\treturn newDatetime.toFormat(outputFormat);\n\t\t}else{\n\t\t\tif(invalid === true || !value){\n\t\t\t\treturn value;\n\t\t\t}else if(typeof invalid === \"function\"){\n\t\t\t\treturn invalid(value);\n\t\t\t}else{\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n\t}\n};", "export default function (cell, formatterParams, onRendered) {\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : \"days\";\n\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : DT.now();\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\t newDatetime = value;\n\t\t }else if(inputFormat === \"iso\"){\n\t\t\t newDatetime = DT.fromISO(String(value));\n\t\t }else{\n\t\t\t newDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t }\n\n\t\tif (newDatetime.isValid){\n\t\t\tif(humanize){\n\t\t\t\treturn newDatetime.diff(date, unit).toHuman()  + (suffix ? \" \" + suffix : \"\");\n\t\t\t}else{\n\t\t\t\treturn parseInt(newDatetime.diff(date, unit)[unit]) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n\t}\n};", "export default function (cell, formatterParams, onRendered) {\n\tvar value = cell.getValue();\n\n\tif (typeof formatterParams[value] === \"undefined\") {\n\t\tconsole.warn('Missing display value for ' + value);\n\t\treturn value;\n\t}\n\n\treturn formatterParams[value];\n};", "export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tmaxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\tstars = document.createElement(\"span\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\tstarActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\tstarInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t//style stars holder\n\tstars.style.verticalAlign = \"middle\";\n\n\t//style star\n\tstar.setAttribute(\"width\", \"14\");\n\tstar.setAttribute(\"height\", \"14\");\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\tfor(var i=1;i<= maxStars;i++){\n\t\tvar nextStar = star.cloneNode(true);\n\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\tstars.appendChild(nextStar);\n\t}\n\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\telement.setAttribute(\"aria-label\", value);\n\n\treturn stars;\n};", "export default function(cell, formatterParams, onRendered){\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\tel = document.createElement(\"span\"),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tcolors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\tcolor = \"#666666\",\n\tpercent, percentValue;\n\n\tif(isNaN(value) || typeof cell.getValue() === \"undefined\"){\n\t\treturn;\n\t}\n\n\tel.classList.add(\"tabulator-traffic-light\");\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set color\n\tswitch(typeof colors){\n\t\tcase \"string\":\n\t\tcolor = colors;\n\t\tbreak;\n\t\tcase \"function\":\n\t\tcolor = colors(value);\n\t\tbreak;\n\t\tcase \"object\":\n\t\tif(Array.isArray(colors)){\n\t\t\tvar unit = 100 / colors.length;\n\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\tindex = Math.max(index, 0);\n\t\t\tcolor = colors[index];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tel.style.backgroundColor = color;\n\n\treturn el;\n};", "import CellComponent from '../../../../core/cell/CellComponent.js';\n\nexport default function(cell, formatterParams, onRendered){ //progress bar\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\telement = cell.getElement(),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tlegendAlign = formatterParams && formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\tpercent, percentValue, color, legend, legendColor, top, left, right, bottom;\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set bar color\n\tswitch(typeof formatterParams.color){\n\t\tcase \"string\":\n\t\tcolor = formatterParams.color;\n\t\tbreak;\n\t\tcase \"function\":\n\t\tcolor = formatterParams.color(value);\n\t\tbreak;\n\t\tcase \"object\":\n\t\tif(Array.isArray(formatterParams.color)){\n\t\t\tvar unit = 100 / formatterParams.color.length;\n\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\tindex = Math.max(index, 0);\n\t\t\tcolor = formatterParams.color[index];\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\tcolor = \"#2DC214\";\n\t}\n\n\t//generate legend\n\tswitch(typeof formatterParams.legend){\n\t\tcase \"string\":\n\t\tlegend = formatterParams.legend;\n\t\tbreak;\n\t\tcase \"function\":\n\t\tlegend = formatterParams.legend(value);\n\t\tbreak;\n\t\tcase \"boolean\":\n\t\tlegend = value;\n\t\tbreak;\n\t\tdefault:\n\t\tlegend = false;\n\t}\n\n\t//set legend color\n\tswitch(typeof formatterParams.legendColor){\n\t\tcase \"string\":\n\t\tlegendColor = formatterParams.legendColor;\n\t\tbreak;\n\t\tcase \"function\":\n\t\tlegendColor = formatterParams.legendColor(value);\n\t\tbreak;\n\t\tcase \"object\":\n\t\tif(Array.isArray(formatterParams.legendColor)){\n\t\t\tvar unit = 100 / formatterParams.legendColor.length;\n\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\tindex = Math.max(index, 0);\n\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t}\n\t\tbreak;\n\t\tdefault:\n\t\tlegendColor = \"#000\";\n\t}\n\n\telement.style.minWidth = \"30px\";\n\telement.style.position = \"relative\";\n\n\telement.setAttribute(\"aria-label\", percentValue);\n\n\tvar barEl = document.createElement(\"div\");\n\tbarEl.style.display = \"inline-block\";\n\tbarEl.style.position = \"absolute\";\n\tbarEl.style.width = percentValue + \"%\";\n\tbarEl.style.backgroundColor = color;\n\tbarEl.style.height = \"100%\";\n\n\tbarEl.setAttribute('data-max', max);\n\tbarEl.setAttribute('data-min', min);\n\n\tvar barContainer = document.createElement(\"div\");\n\tbarContainer.style.position = \"relative\";\n\tbarContainer.style.width = \"100%\";\n\tbarContainer.style.height = \"100%\";\n\n\tif(legend){\n\t\tvar legendEl = document.createElement(\"div\");\n\t\tlegendEl.style.position = \"absolute\";\n\t\tlegendEl.style.top = 0;\n\t\tlegendEl.style.left = 0;\n\t\tlegendEl.style.textAlign = legendAlign;\n\t\tlegendEl.style.width = \"100%\";\n\t\tlegendEl.style.color = legendColor;\n\t\tlegendEl.innerHTML = legend;\n\t}\n\n\tonRendered(function(){\n\n\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\tif(!(cell instanceof CellComponent)){\n\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\tholderEl.style.position = \"absolute\";\n\t\t\tholderEl.style.top = \"4px\";\n\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\tholderEl.style.left = \"4px\";\n\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\telement.appendChild(holderEl);\n\n\t\t\telement = holderEl;\n\t\t}\n\n\t\telement.appendChild(barContainer);\n\t\tbarContainer.appendChild(barEl);\n\n\t\tif(legend){\n\t\t\tbarContainer.appendChild(legendEl);\n\t\t}\n\t});\n\n\treturn \"\";\n};", "export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\treturn \"\";\n};", "export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n};", "export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n};", "export default function(cell, formatterParams, onRendered){\n\treturn this.table.rowManager.activeRows.indexOf(cell.getRow()._getSelf()) + 1 || \"\";\n};", "export default function(cell, formatterParams, onRendered){\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n};", "export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"div\"),\n\tconfig = cell.getRow()._row.modules.responsiveLayout;\n\n\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\tel.innerHTML = \"<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>\";\n\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\tfunction toggleList(isOpen){\n\t\tvar collapseEl = config.element;\n\n\t\tconfig.open = isOpen;\n\n        if(config.open){\n            el.classList.add(\"open\");\n        }else{\n            el.classList.remove(\"open\");\n        }\n\n        if(collapseEl){\n            collapseEl.style.display = isOpen ? \"\" : \"none\";\n        }\n\t}\n\n\tel.addEventListener(\"click\", function(e){\n\t\te.stopImmediatePropagation();\n\t\ttoggleList(!config.open);\n        cell.getRow()._row.dispatch(\"row-responsive-toggled\", cell.getRow(), isOpen);\n        cell.getTable().rowManager.adjustTableSize();\n\t});\n\n\ttoggleList(config.open);\n\n\treturn el;\n};\n", "import RowComponent from '../../../../core/row/RowComponent.js';\n\nexport default function(cell, formatterParams, onRendered){\n\tvar checkbox = document.createElement(\"input\");\n\tvar blocked = false;\n\n\tcheckbox.type = 'checkbox';\n\n\tcheckbox.setAttribute(\"aria-label\", \"Select Row\");\n\t\n\tif(this.table.modExists(\"selectRow\", true)){\n\n\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(typeof cell.getRow == 'function'){\n\t\t\tvar row = cell.getRow();\n\n\t\t\tif(row instanceof RowComponent){\n\n\t\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\t\tif(!blocked){\n\t\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t\tthis.table.modules.selectRow.handleComplexRowClick(row._row, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t}else{\n\t\t\t\tcheckbox = \"\";\n\t\t\t}\n\t\t}else {\n\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\tif(this.table.modules.selectRow.selectedRows.length){\n\t\t\t\t\tthis.table.deselectRow();\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.selectRow(formatterParams.rowRange);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t}\n\t}\n\n\treturn checkbox;\n};", "import plaintext from './formatters/plaintext.js';\nimport html from './formatters/html.js';\nimport textarea from './formatters/textarea.js';\nimport money from './formatters/money.js';\nimport link from './formatters/link.js';\nimport image from './formatters/image.js';\nimport tickCross from './formatters/tickCross.js';\nimport datetime from './formatters/datetime.js';\nimport datetimediff from './formatters/datetimediff.js';\nimport lookup from './formatters/lookup.js';\nimport star from './formatters/star.js';\nimport traffic from './formatters/traffic.js';\nimport progress from './formatters/progress.js';\nimport color from './formatters/color.js';\nimport buttonTick from './formatters/buttonTick.js';\nimport buttonCross from './formatters/buttonCross.js';\nimport rownum from './formatters/rownum.js';\nimport handle from './formatters/handle.js';\nimport responsiveCollapse from './formatters/responsiveCollapse.js';\nimport rowSelection from './formatters/rowSelection.js';\n\nexport default {\n\tplaintext:plaintext,\n\thtml:html,\n\ttextarea:textarea,\n\tmoney:money,\n\tlink:link,\n\timage:image,\n\ttickCross:tickCross,\n\tdatetime:datetime,\n\tdatetimediff:datetimediff,\n\tlookup:lookup,\n\tstar:star,\n\ttraffic:traffic,\n\tprogress:progress,\n\tcolor:color,\n\tbuttonTick:buttonTick,\n\tbuttonCross:buttonCross,\n\trownum:rownum,\n\thandle:handle,\n\tresponsiveCollapse:responsiveCollapse,\n\trowSelection:rowSelection,\n};", "import Module from '../../core/Module.js';\n\nimport defaultFormatters from './defaults/formatters.js';\n\nclass Format extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerColumnOption(\"formatter\");\n\t\tthis.registerColumnOption(\"formatterParams\");\n\n\t\tthis.registerColumnOption(\"formatterPrint\");\n\t\tthis.registerColumnOption(\"formatterPrintParams\");\n\t\tthis.registerColumnOption(\"formatterClipboard\");\n\t\tthis.registerColumnOption(\"formatterClipboardParams\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutput\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutputParams\");\n\t\tthis.registerColumnOption(\"titleFormatter\");\n\t\tthis.registerColumnOption(\"titleFormatterParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-format\", this.formatValue.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.cellRendered.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-format\", this.formatHeader.bind(this));\n\t}\n\n\t//initialize column formatter\n\tinitializeColumn(column){\n\t\tcolumn.modules.format = this.lookupFormatter(column, \"\");\n\n\t\tif(typeof column.definition.formatterPrint !== \"undefined\"){\n\t\t\tcolumn.modules.format.print = this.lookupFormatter(column, \"Print\");\n\t\t}\n\n\t\tif(typeof column.definition.formatterClipboard !== \"undefined\"){\n\t\t\tcolumn.modules.format.clipboard = this.lookupFormatter(column, \"Clipboard\");\n\t\t}\n\n\t\tif(typeof column.definition.formatterHtmlOutput !== \"undefined\"){\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupFormatter(column, \"HtmlOutput\");\n\t\t}\n\t}\n\n\tlookupFormatter(column, type){\n\t\tvar config = {params:column.definition[\"formatter\" + type + \"Params\"] || {}},\n\t\tformatter = column.definition[\"formatter\" + type];\n\n\t\t//set column formatter\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\tif(Format.formatters[formatter]){\n\t\t\t\tconfig.formatter = Format.formatters[formatter];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tconfig.formatter = formatter;\n\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn config;\n\t}\n\n\tcellRendered(cell){\n\t\tif(cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered){\n\t\t\tcell.modules.format.renderedCallback();\n\t\t\tcell.modules.format.rendered = true;\n\t\t}\n\t}\n\n\t//return a formatted value for a column header\n\tformatHeader(column, title, el){\n\t\tvar formatter, params, onRendered, mockCell;\n\n\t\tif(column.definition.titleFormatter){\n\t\t\tformatter = this.getFormatter(column.definition.titleFormatter);\n\n\t\t\tonRendered = (callback) => {\n\t\t\t\tcolumn.titleFormatterRendered = callback;\n\t\t\t};\n\n\t\t\tmockCell = {\n\t\t\t\tgetValue:function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tgetElement:function(){\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tparams = column.definition.titleFormatterParams || {};\n\n\t\t\tparams = typeof params === \"function\" ? params() : params;\n\n\t\t\treturn formatter.call(this, mockCell, params, onRendered);\n\t\t}else{\n\t\t\treturn title;\n\t\t}\n\t}\n\n\n\t//return a formatted value for a cell\n\tformatValue(cell){\n\t\tvar component = cell.getComponent(),\n\t\tparams = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\n\t\tfunction onRendered(callback){\n\t\t\tif(!cell.modules.format){\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t}\n\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n\t}\n\n\tformatExportValue(cell, type){\n\t\tvar formatter = cell.column.modules.format[type],\n\t\tparams;\n\n\t\tif(formatter){\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(component) : formatter.params;\n\n\t\t\tfunction onRendered(callback){\n\t\t\t\tif(!cell.modules.format){\n\t\t\t\t\tcell.modules.format = {};\n\t\t\t\t}\n\n\t\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\t\tcell.modules.format.rendered = false;\n\t\t\t}\n\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\n\t\t}else{\n\t\t\treturn this.formatValue(cell);\n\t\t}\n\t}\n\n\tsanitizeHTML(value){\n\t\tif(value){\n\t\t\tvar entityMap = {\n\t\t\t\t'&': '&amp;',\n\t\t\t\t'<': '&lt;',\n\t\t\t\t'>': '&gt;',\n\t\t\t\t'\"': '&quot;',\n\t\t\t\t\"'\": '&#39;',\n\t\t\t\t'/': '&#x2F;',\n\t\t\t\t'`': '&#x60;',\n\t\t\t\t'=': '&#x3D;'\n\t\t\t};\n\n\t\t\treturn String(value).replace(/[&<>\"'`=\\/]/g, function (s) {\n\t\t\t\treturn entityMap[s];\n\t\t\t});\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t}\n\n\temptyToSpace(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n\t}\n\n\t//get formatter for cell\n\tgetFormatter(formatter){\n\t\tvar formatter;\n\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\tif(Format.formatters[formatter]){\n\t\t\t\tformatter = Format.formatters[formatter]\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tformatter = formatter;\n\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\tformatter = Format.formatters.plaintext;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn formatter;\n\t}\n}\n\nFormat.moduleName = \"format\";\n\n//load defaults\nFormat.formatters = defaultFormatters;\n\nexport default Format;", "import Module from '../../core/Module.js';\n\nclass FrozenColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.leftMargin = 0;\n\t\tthis.rightMargin = 0;\n\t\tthis.rightPadding = 0;\n\t\tthis.initializationMode = \"left\";\n\t\tthis.active = false;\n\t\tthis.blocked = true;\n\t\t\n\t\tthis.registerColumnOption(\"frozen\");\n\t}\n\t\n\t//reset initial state\n\treset(){\n\t\tthis.initializationMode = \"left\";\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.leftMargin = 0;\n\t\tthis.rightMargin = 0;\n\t\tthis.rightMargin = 0;\n\t\tthis.active = false;\n\t\t\n\t\tthis.table.columnManager.headersElement.style.marginLeft = 0;\n\t\tthis.table.columnManager.element.style.paddingRight = 0;\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-layout\", this.layoutCell.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layout.bind(this));\n\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\tthis.subscribe(\"table-layout\", this.layout.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"columns-loading\", this.reset.bind(this));\n\t\t\n\t\tthis.subscribe(\"column-add\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.reinitializeColumns.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-redraw\", this.layout.bind(this));\n\t\tthis.subscribe(\"layout-refreshing\", this.blockLayout.bind(this));\n\t\tthis.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this));\n\t}\n\t\n\tblockLayout(){\n\t\tthis.blocked = true;\n\t}\n\t\n\tunblockLayout(){\n\t\tthis.blocked = false;\n\t}\n\t\n\tlayoutCell(cell){\n\t\tthis.layoutElement(cell.element, cell.column)\n\t}\n\t\n\treinitializeColumns(){\n\t\tthis.reset();\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tthis.initializeColumn(column);\n\t\t});\n\t}\n\t\n\t//initialize specific column\n\tinitializeColumn(column){\n\t\tvar config = {margin:0, edge:false};\n\t\t\n\t\tif(!column.isGroup){\n\t\t\t\n\t\t\tif(this.frozenCheck(column)){\n\t\t\t\t\n\t\t\t\tconfig.position = this.initializationMode;\n\t\t\t\t\n\t\t\t\tif(this.initializationMode == \"left\"){\n\t\t\t\t\tthis.leftColumns.push(column);\n\t\t\t\t}else{\n\t\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.active = true;\n\t\t\t\t\n\t\t\t\tcolumn.modules.frozen = config;\n\t\t\t}else{\n\t\t\t\tthis.initializationMode = \"right\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfrozenCheck(column){\n\t\tif(column.parent.isGroup && column.definition.frozen){\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t\t}\n\t\t\n\t\tif(column.parent.isGroup){\n\t\t\treturn this.frozenCheck(column.parent);\n\t\t}else{\n\t\t\treturn column.definition.frozen;\n\t\t}\n\t}\n\t\n\t//quick layout to smooth horizontal scrolling\n\tscrollHorizontal(){\n\t\tvar rows;\n\t\t\n\t\tif(this.active){\t\t\n\t\t\tthis.calcMargins(true);\n\t\t\t\n\t\t\tthis.layoutColumnPosition();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t\t\n\t\t\tthis.reinitializeRows();\n\t\t}\n\t}\n\t\n\t//calculate margins for rows\n\tcalcMargins(scroll){\n\t\t\n\t\tif(!scroll){\n\t\t\tthis.leftMargin = this._calcSpace(this.leftColumns, this.leftColumns.length) + \"px\";\t\t\t\n\t\t\tthis.rightMargin = this._calcSpace(this.rightColumns, this.rightColumns.length) + \"px\";\t\n\t\t\tthis.table.rowManager.tableElement.style.marginRight = this.rightMargin;\n\t\t}\n\t\t\n\t\t//calculate right frozen columns\n\t\tthis.rightPadding = this.table.rowManager.element.clientWidth + this.table.columnManager.scrollLeft;\n\t}\n\t\n\t//layout calculation rows\n\tlayoutCalcRows(){\n\t\tif(this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modExists(\"groupRows\")){\n\t\t\t\tthis.layoutGroupCalcs(this.table.modules.groupRows.getGroups())\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlayoutGroupCalcs(groups){\n\t\tgroups.forEach((group) => {\n\t\t\tif(group.calcs.top){\n\t\t\t\tthis.layoutRow(group.calcs.top);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.calcs.bottom){\n\t\t\t\tthis.layoutRow(group.calcs.bottom);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.groupList && group.groupList.length){\n\t\t\t\tthis.layoutGroupCalcs(group.groupList && group.groupList);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//calculate column positions and layout headers\n\tlayoutColumnPosition(allCells){\n\t\tvar leftParents = [];\n\t\t\n\t\tvar leftMargin = 0;\n\t\tvar rightMargin = 0;\n\t\t\n\t\tthis.table.columnManager.headersElement.style.marginLeft = this.leftMargin;\n\t\tthis.table.columnManager.element.style.paddingRight = this.rightMargin;\n\t\t\n\t\tthis.leftColumns.forEach((column, i) => {\t\n\t\t\tcolumn.modules.frozen.marginValue = leftMargin + this.table.columnManager.scrollLeft;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tleftMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.leftColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tvar parentEl = this.getColGroupParentElement(column);\n\t\t\t\tif(!leftParents.includes(parentEl)){\n\t\t\t\t\tthis.layoutElement(parentEl, column);\n\t\t\t\t\tleftParents.push(parentEl);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.modules.frozen.edge){\n\t\t\t\t\tparentEl.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column, i) => {\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\trightMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.frozen.marginValue = this.rightPadding - rightMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(i == this.rightColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tthis.layoutElement(this.getColGroupParentElement(column), column);\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tgetColGroupParentElement(column){\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n\t}\n\t\n\t//layout columns appropriately\n\tlayout(){\t\n\t\tif(this.active && !this.blocked){\n\t\t\t//calculate row padding\n\t\t\tthis.calcMargins();\n\t\t\t\n\t\t\t//calculate left columns\n\t\t\tthis.layoutColumnPosition();\n\n\t\t\tthis.reinitializeRows();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t}\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.table.rowManager.getVisibleRows();\n\t\tvar otherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t\t\n\t\tvisibleRows.forEach((row) =>{\n\t\t\tif(row.type === \"row\"){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutRow(row){\n\t\t// console.trace(\"row\")\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\trowEl.style.paddingLeft = this.leftMargin;\n\t\t\n\t\tif(this.table.options.layout === \"fitDataFill\" && this.rightColumns.length){\n\t\t\tthis.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\";\n\t\t}\n\t\t\n\t\tthis.leftColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutElement(element, column){\n\t\t\n\t\tif(column.modules.frozen){\n\t\t\telement.style.position = \"absolute\";\n\t\t\telement.style.left = column.modules.frozen.margin;\n\t\t\t\n\t\t\telement.classList.add(\"tabulator-frozen\");\n\t\t\t\n\t\t\tif(column.modules.frozen.edge){\n\t\t\t\telement.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_calcSpace(columns, index){\n\t\tvar width = 0;\n\t\t\n\t\tfor (let i = 0; i < index; i++){\n\t\t\tif(columns[i].visible){\n\t\t\t\twidth += columns[i].getWidth();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n}\n\nFrozenColumns.moduleName = \"frozenColumns\";\n\nexport default FrozenColumns;", "import Module from '../../core/Module.js';\n\nclass FrozenRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topElement = document.createElement(\"div\");\n\t\tthis.rows = [];\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.rows = [];\n\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\n\t\t// this.table.columnManager.element.append(this.topElement);\n\t\tthis.table.columnManager.getElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\n\t\tthis.subscribe(\"row-deleting\", this.detachRow.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerDisplayHandler(this.getRows.bind(this), 10);\n\t}\n\n\tisRowFrozen(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\treturn index > -1;\n\t}\n\n\tisFrozen(){\n\t\treturn !!this.rows.length;\n\t}\n\n\tvisibleRows(viewable, rows){\n\t\tthis.rows.forEach((row) => {\n\t\t\trows.push(row);\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\t//filter frozen rows out of display data\n\tgetRows(rows){\n\t\tvar self = this,\n\t\tfrozen = [],\n\t\toutput = rows.slice(0);\n\n\t\tthis.rows.forEach(function(row){\n\t\t\tvar index = output.indexOf(row);\n\n\t\t\tif(index > -1){\n\t\t\t\toutput.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tfreezeRow(row){\n\t\tif(!row.modules.frozen){\n\t\t\trow.modules.frozen = true;\n\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\trow.initialize();\n\t\t\trow.normalizeHeight();\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.rows.push(row);\n\n\t\t\tthis.refreshData(false, \"display\")\n\n\t\t\tthis.styleRows();\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t\t}\n\t}\n\n\tunfreezeRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(row.modules.frozen){\n\n\t\t\trow.modules.frozen = false;\n\n\t\t\tthis.detachRow(row);\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.refreshData(false, \"display\")\n\n\t\t\tif(this.rows.length){\n\t\t\t\tthis.styleRows();\n\t\t\t}\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t\t}\n\t}\n\n\tdetachRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t}\n\n\tstyleRows(row){\n\t\tthis.rows.forEach((row, i) => {\n\t\t\tthis.table.rowManager.styleRow(row, i);\n\t\t});\n\t}\n}\n\nFrozenRows.moduleName = \"frozenRows\";\n\nexport default FrozenRows;", "//public group object\nclass GroupComponent {\n\tconstructor (group){\n\t\tthis._group = group;\n\t\tthis.type = \"GroupComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._group.groupManager.table.componentFunctionBinder.handle(\"row\", target._group, name)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tgetKey(){\n\t\treturn this._group.key;\n\t}\n\n\tgetField(){\n\t\treturn this._group.field;\n\t}\n\n\tgetElement(){\n\t\treturn this._group.element;\n\t}\n\n\tgetRows(){\n\t\treturn this._group.getRows(true);\n\t}\n\n\tgetSubGroups(){\n\t\treturn this._group.getSubGroups(true);\n\t}\n\n\tgetParentGroup(){\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\n\t}\n\n\tisVisible(){\n\t\treturn this._group.visible;\n\t}\n\n\tshow(){\n\t\tthis._group.show();\n\t}\n\n\thide(){\n\t\tthis._group.hide();\n\t}\n\n\ttoggle(){\n\t\tthis._group.toggleVisibility();\n\t}\n\n\t_getSelf(){\n\t\treturn this._group;\n\t}\n\n\tgetTable(){\n\t\treturn this._group.groupManager.table;\n\t}\n}\n\nexport default GroupComponent;", "import Helpers from '../../core/tools/Helpers.js';\nimport GroupComponent from './GroupComponent.js';\n\n//Group functions\nclass Group{\n\t\n\tconstructor(groupManager, parent, level, key, field, generator, oldGroup){\n\t\tthis.groupManager = groupManager;\n\t\tthis.parent = parent;\n\t\tthis.key = key;\n\t\tthis.level = level;\n\t\tthis.field = field;\n\t\tthis.hasSubGroups = level < (groupManager.groupIDLookups.length - 1);\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\t\tthis.type = \"group\"; //type of element\n\t\tthis.old = oldGroup;\n\t\tthis.rows = [];\n\t\tthis.groups = [];\n\t\tthis.groupList = [];\n\t\tthis.generator = generator;\n\t\tthis.element = false;\n\t\tthis.elementContents = false;\n\t\tthis.height = 0;\n\t\tthis.outerHeight = 0;\n\t\tthis.initialized = false;\n\t\tthis.calcs = {};\n\t\tthis.initialized = false;\n\t\tthis.modules = {};\n\t\tthis.arrowElement = false;\n\t\t\n\t\tthis.visible = oldGroup ? oldGroup.visible : (typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0]);\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.createElements();\n\t\tthis.addBindings();\n\t\t\n\t\tthis.createValueGroups();\n\t}\n\t\n\twipe(){\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tgroup.wipe();\n\t\t\t});\n\t\t}else{\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\tif(row.modules){\n\t\t\t\t\tdelete row.modules.group;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n\t\n\tcreateElements(){\n\t\tvar arrow = document.createElement(\"div\");\n\t\tarrow.classList.add(\"tabulator-arrow\");\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-row\");\n\t\tthis.element.classList.add(\"tabulator-group\");\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tthis.arrowElement = document.createElement(\"div\");\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\t\tthis.arrowElement.appendChild(arrow);\n\t\t\n\t\t//setup movable rows\n\t\tif(this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")){\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t\t}\n\t}\n\t\n\tcreateValueGroups(){\n\t\tvar level = this.level + 1;\n\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\tthis.groupManager.allowedValues[level].forEach((value) => {\n\t\t\t\tthis._createGroup(value, level);\n\t\t\t});\n\t\t}\n\t}\n\t\n\taddBindings(){\n\t\tvar toggleElement;\n\t\t\n\t\tif(this.groupManager.table.options.groupToggleElement){\n\t\t\ttoggleElement = this.groupManager.table.options.groupToggleElement == \"arrow\" ? this.arrowElement : this.element;\n\t\t\t\n\t\t\ttoggleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tthis.toggleVisibility();\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_createGroup(groupID, level){\n\t\tvar groupKey = level + \"_\" + groupID;\n\t\tvar group = new Group(this.groupManager, this, level, groupID,  this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\t_addRowToGroup(row){\n\t\t\n\t\tvar level = this.level + 1;\n\t\t\n\t\tif(this.hasSubGroups){\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t\tgroupKey = level + \"_\" + groupID;\n\t\t\t\n\t\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\t\tif(this.groups[groupKey]){\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(!this.groups[groupKey]){\n\t\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_addRow(row){\n\t\tthis.rows.push(row);\n\t\trow.modules.group = this;\n\t}\n\t\n\tinsertRow(row, to, after){\n\t\tvar data = this.conformRowData({});\n\t\t\n\t\trow.updateData(data);\n\t\t\n\t\tvar toIndex = this.rows.indexOf(to);\n\t\t\n\t\tif(toIndex > -1){\n\t\t\tif(after){\n\t\t\t\tthis.rows.splice(toIndex+1, 0, row);\n\t\t\t}else{\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t\t}\n\t\t}else{\n\t\t\tif(after){\n\t\t\t\tthis.rows.push(row);\n\t\t\t}else{\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\trow.modules.group = this;\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t\t\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\t\n\tscrollHeader(left){\n\t\tif(this.arrowElement){\n\t\t\tthis.arrowElement.style.marginLeft = left;\n\t\t\t\n\t\t\tthis.groupList.forEach(function(child){\n\t\t\t\tchild.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tgetRowIndex(row){}\n\t\n\t//update row data to match grouping contraints\n\tconformRowData(data){\n\t\tif(this.field){\n\t\t\tdata[this.field] = this.key;\n\t\t}else{\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t\t}\n\t\t\n\t\tif(this.parent){\n\t\t\tdata = this.parent.conformRowData(data);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\tremoveRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\tvar el = row.getElement();\n\t\t\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.groupManager.table.options.groupValues && !this.rows.length){\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t}else{\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}else{\n\t\t\t\n\t\t\tif(el.parentNode){\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\t\t\t\n\t\t\tthis.generateGroupHeaderContents();\n\t\t\t\n\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupList.length){\n\t\t\t\tif(this.parent){\n\t\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t\t}else{\n\t\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetHeadersAndRows(noCalc){\n\t\tvar output = [];\n\t\t\n\t\toutput.push(this);\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows(noCalc));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(!noCalc && this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\tif(this.calcs.top){\n\t\t\t\t\t\tthis.calcs.top.detachElement();\n\t\t\t\t\t\tthis.calcs.top.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput = output.concat(this.rows);\n\t\t\t\t\n\t\t\t\tif(!noCalc && this.groupManager.table.options.columnCalcs != \"table\" &&  this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\tif(this.calcs.bottom){\n\t\t\t\t\t\tthis.calcs.bottom.detachElement();\n\t\t\t\t\t\tthis.calcs.bottom.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\")){\n\t\t\t\t\t\n\t\t\t\t\tif(!noCalc && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\t\tif(this.calcs.top){\n\t\t\t\t\t\t\tthis.calcs.top.detachElement();\n\t\t\t\t\t\t\tthis.calcs.top.deleteCells();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(!noCalc && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\t\tif(this.calcs.bottom){\n\t\t\t\t\t\t\tthis.calcs.bottom.detachElement();\n\t\t\t\t\t\t\tthis.calcs.bottom.deleteCells();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetData(visible, transform){\n\t\tvar output = [];\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(!visible || (visible && this.visible)){\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRowCount(){\n\t\tvar count = 0;\n\t\t\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tcount += group.getRowCount();\n\t\t\t});\n\t\t}else{\n\t\t\tcount = this.rows.length;\n\t\t}\n\t\treturn count;\n\t}\n\t\n\ttoggleVisibility(){\n\t\tif(this.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\t\n\thide(){\n\t\tthis.visible = false;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"classic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\t\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\trow.detachElement();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(), this.groupManager.getDisplayIndex());\n\t\t\t\n\t\t\tthis.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth();\n\t\t\t\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), false);\n\t}\n\t\n\tshow(){\n\t\tthis.visible = true;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"classic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tvar prev = this.generateElement();\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\t\trow.initialize();\n\t\t\t\t\t\tprev = rowEl;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(), this.groupManager.getDisplayIndex());\n\t\t\t\n\t\t\tthis.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth();\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), true);\n\t}\n\t\n\t_visSet(){\n\t\tvar data = [];\n\t\t\n\t\tif(typeof this.visible == \"function\"){\n\t\t\t\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\tdata.push(row.getData());\n\t\t\t});\n\t\t\t\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t\t}\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\t\n\t\t\t\tif(result){\n\t\t\t\t\tmatch = result;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tif(this.rows.find(function(item){\n\t\t\t\treturn item === row;\n\t\t\t})){\n\t\t\t\tmatch = this;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetSubGroups(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.groupList.forEach(function(child){\n\t\t\toutput.push(component ? child.getComponent() : child);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRows(compoment){\n\t\tvar output = [];\n\t\t\n\t\tthis.rows.forEach(function(row){\n\t\t\toutput.push(compoment ? row.getComponent() : row);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgenerateGroupHeaderContents(){\n\t\tvar data = [];\n\t\t\n\t\tthis.rows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(typeof this.elementContents === \"string\"){\n\t\t\tthis.element.innerHTML = this.elementContents;\n\t\t}else{\n\t\t\tthis.element.appendChild(this.elementContents);\n\t\t}\n\t\t\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n\t}\n\t\n\tgetPath(path = []) {\n\t\tpath.unshift(this.key);\n\t\tif(this.parent) {\n\t\t\tthis.parent.getPath(path);\n\t\t}\n\t\treturn path;\n\t}\n\t\n\t////////////// Standard Row Functions //////////////\n\t\n\tgetElement(){\n\t\treturn this.elementContents ? this.element : this.generateElement();\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.addBindings = false;\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t}else{\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tfor(var i = 0; i < this.element.childNodes.length; ++i){\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t\t}\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\t// this.addBindings();\n\t\t\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(){\n\t\tthis.setHeight(this.element.clientHeight);\n\t}\n\t\n\tinitialize(force){\n\t\tif(!this.initialized || force){\n\t\t\tthis.normalizeHeight();\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\treinitialize(){\n\t\tthis.initialized = false;\n\t\tthis.height = 0;\n\t\t\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.initialize(true);\n\t\t}\n\t}\n\t\n\tsetHeight(height){\n\t\tif(this.height != height){\n\t\t\tthis.height = height;\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\tgetGroup(){\n\t\treturn this;\n\t}\n\t\n\treinitializeHeight(){}\n\t\n\tcalcHeight(){}\n\t\n\tsetCellHeight(){}\n\t\n\tclearCellHeight(){}\n\t\n\tdeinitializeHeight(){}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new GroupComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nexport default Group;", "import Module from '../../core/Module.js';\n\nimport GroupComponent from './GroupComponent.js';\nimport Group from './Group.js';\n\nclass GroupRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\tthis.groupList = []; //ordered list of groups\n\t\tthis.allowedValues = false;\n\t\tthis.groups = {}; //hold row groups\n\t\tthis.displayIndex = 0; //index in display pipeline\n\n\t\tthis.displayHandler = this.getRows.bind(this);\n\n\t\t//register table options\n\t\tthis.registerTableOption(\"groupBy\", false); //enable table grouping and set field to group by\n\t\tthis.registerTableOption(\"groupStartOpen\", true); //starting state of group\n\t\tthis.registerTableOption(\"groupValues\", false);\n\t\tthis.registerTableOption(\"groupUpdateOnCellEdit\", false);\n\t\tthis.registerTableOption(\"groupHeader\", false); //header generation function\n\t\tthis.registerTableOption(\"groupHeaderPrint\", null);\n\t\tthis.registerTableOption(\"groupHeaderClipboard\", null);\n\t\tthis.registerTableOption(\"groupHeaderHtmlOutput\", null);\n\t\tthis.registerTableOption(\"groupHeaderDownload\", null);\n\t\tthis.registerTableOption(\"groupToggleElement\", \"arrow\");\n\t\tthis.registerTableOption(\"groupClosedShowCalcs\", false);\n\n\t\t//register table functions\n\t\tthis.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this));\n\t\tthis.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this));\n\t\tthis.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this));\n\t\tthis.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this));\n\t\tthis.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this));\n\t\tthis.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this));\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n\t}\n\n\t//initialize group configuration\n\tinitialize(){\n\t\tif(this.table.options.groupBy){\n\n\t\t\tif(this.table.options.groupUpdateOnCellEdit){\n\t\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0);\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.configureGroupSetup.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleting.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.wipe.bind(this));\n\t\t\tthis.subscribe(\"rows-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-moving\", this.rowMoving.bind(this));\n\t\t\tthis.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this));\n\n\t\t\tthis.subscribe(\"rows-sample\", this.rowSample.bind(this));\n\n\t\t\tthis.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.displayHandler, 20);\n\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\n\tconfigureGroupSetup(){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar groupBy = this.table.options.groupBy,\n\t\t\tstartOpen = this.table.options.groupStartOpen,\n\t\t\tgroupHeader = this.table.options.groupHeader;\n\n\t\t\tthis.allowedValues = this.table.options.groupValues;\n\n\t\t\tif(Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length){\n\t\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t\t\t}\n\n\t\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\n\t\t\tthis.langBind(\"groups|item\", (langValue, lang) => {\n\t\t\t\tthis.headerGenerator[0] = (value, count, data) => { //header layout function\n\t\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + ((count === 1) ? langValue : lang.groups.items) + \")</span>\";\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tthis.groupIDLookups = [];\n\n\t\t\tif(Array.isArray(groupBy) || groupBy){\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\"){\n\t\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\"){\n\n\t\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\n\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\tif(col.definition.topCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(col.definition.bottomCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!Array.isArray(groupBy)){\n\t\t\t\tgroupBy = [groupBy];\n\t\t\t}\n\n\t\t\tgroupBy.forEach((group, i) => {\n\t\t\t\tvar lookupFunc, column;\n\n\t\t\t\tif(typeof group == \"function\"){\n\t\t\t\t\tlookupFunc = group;\n\t\t\t\t}else{\n\t\t\t\t\tcolumn = this.table.columnManager.getColumnByField(group);\n\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t\t\t};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn data[group];\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.groupIDLookups.push({\n\t\t\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\t\t\tfunc:lookupFunc,\n\t\t\t\t\tvalues:this.allowedValues ? this.allowedValues[i] : false,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tif(startOpen){\n\t\t\t\tif(!Array.isArray(startOpen)){\n\t\t\t\t\tstartOpen = [startOpen];\n\t\t\t\t}\n\n\t\t\t\tstartOpen.forEach((level) => {\n\t\t\t\t\tlevel = typeof level == \"function\" ? level : function(){return true;};\n\t\t\t\t});\n\n\t\t\t\tthis.startOpen = startOpen;\n\t\t\t}\n\n\t\t\tif(groupHeader){\n\t\t\t\tthis.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t\t\t}\n\t\t}\n\t}\n\n\trowSample(rows, prevValue){\n\t\tvar group = this.getGroups(false)[0];\n\n\t\tprevValue.push(group.getRows(false)[0]);\n\n\t\treturn prevValue;\n\t}\n\n\tvirtualRenderFill(){\n\t\tvar el = this.table.rowManager.tableElement;\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\n\t\trows = rows.filter((row) => {\n\t\t\treturn row.type !== \"group\";\n\t\t});\n\n\t\tel.style.minWidth = !rows.length ? this.table.columnManager.getWidth() + \"px\" : \"\";\n\n\t\t// if(this.table.options.groupBy){\n\t\t// \tif(this.layoutMode() != \"fitDataFill\" && rowsCount == this.table.modules.groupRows.countGroups()){\n\t\t// \t\tel.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t// \t}\n\t\t// }\n\t}\n\n\trowAddingIndex(row, index, top){\n\t\tthis.assignRowToGroup(row);\n\n\t\tvar groupRows = row.modules.group.rows;\n\n\t\tif(groupRows.length > 1){\n\t\t\tif(!index || (index && groupRows.indexOf(index) == -1)){\n\t\t\t\tif(top){\n\t\t\t\t\tif(groupRows[0] !== row){\n\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(groupRows[groupRows.length -1] !== row){\n\t\t\t\t\t\tindex = groupRows[groupRows.length -1];\n\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\ttrackChanges(){\n\t\tthis.dispatch(\"group-changed\");\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tsetGroupBy(groups){\n\t\tthis.table.options.groupBy = groups;\n\t\tif(!this.initialized){\n\t\t\tthis.initialize();\n\t\t}else{\n\t\t\tthis.configureGroupSetup();\n\t\t}\n\n\t\tthis.refreshData();\n\n\t\tthis.trackChanges();\n\t}\n\n\tsetGroupValues(groupValues){\n\t\tthis.table.options.groupValues = groupValues;\n\t\tthis.configureGroupSetup();\n\t\tthis.refreshData();\n\n\t\tthis.trackChanges();\n\t}\n\n\tsetGroupStartOpen(values){\n\t\tthis.table.options.groupStartOpen = values;\n\t\tthis.configureGroupSetup();\n\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\n\tsetGroupHeader(values){\n\t\tthis.table.options.groupHeader = values;\n\t\tthis.configureGroupSetup();\n\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\n\tuserGetGroups(values){\n\t\treturn this.getGroups(true);\n\t}\n\n\t// get grouped table data in the same format as getData()\n\tuserGetGroupedData(){\n\t\treturn this.table.options.groupBy ?\n\t\tthis.getGroupedData() : this.getData()\n\t}\n\n\n\t///////////////////////////////////////\n\t///////// Component Functions /////////\n\t///////////////////////////////////////\n\n\trowGetGroup(row){\n\t\treturn row.modules.group ? row.modules.group.getComponent() : false;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\trowMoving(from, to, after){\n\t\tif(!after && to instanceof Group){\n\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t}\n\n\t\tvar toGroup = to instanceof Group ? to : to.modules.group;\n\t\tvar fromGroup = from instanceof Group ? from : from.modules.group;\n\n\t\tif(toGroup === fromGroup){\n\t\t\tthis.table.rowManager.moveRowInArray(toGroup.rows, from, to, after);\n\t\t}else{\n\t\t\tif(fromGroup){\n\t\t\t\tfromGroup.removeRow(from);\n\t\t\t}\n\n\t\t\ttoGroup.insertRow(from, to, after);\n\t\t}\n\t}\n\n\n\trowDeleting(row){\n\t\t//remove from group\n\t\tif(row.modules.group){\n\t\t\trow.modules.group.removeRow(row);\n\t\t}\n\t}\n\n\n\trowsUpdated(row){\n\t\tthis.updateGroupRows(true);\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.reassignRowToGroup(cell.row);\n\t}\n\n\n\tsetDisplayIndex(index){\n\t\tthis.displayIndex = index;\n\t}\n\n\tgetDisplayIndex(){\n\t\treturn this.displayIndex;\n\t}\n\n\t//return appropriate rows with group headers\n\tgetRows(rows){\n\t\tif(this.table.options.groupBy && this.groupIDLookups.length){\n\n\t\t\tthis.dispatchExternal(\"dataGrouping\");\n\n\t\t\tthis.generateGroups(rows);\n\n\t\t\tif(this.subscribedExternal(\"dataGrouped\")){\n\t\t\t\tthis.dispatchExternal(\"dataGrouped\", this.getGroups(true));\n\t\t\t}\n\n\t\t\treturn this.updateGroupRows();\n\n\t\t}else{\n\t\t\treturn rows.slice(0);\n\t\t}\n\t}\n\n\tgetGroups(component){\n\t\tvar groupComponents = [];\n\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroupComponents.push(component ? group.getComponent() : group);\n\t\t});\n\n\t\treturn groupComponents;\n\t}\n\n\tgetChildGroups(group){\n\t\tvar groupComponents = [];\n\n\t\tif(!group){\n\t\t\tgroup = this;\n\t\t}\n\n\t\tgroup.groupList.forEach((child) => {\n\t\t\tif(child.groupList.length){\n\t\t\t\tgroupComponents = groupComponents.concat(this.getChildGroups(child));\n\t\t\t}else{\n\t\t\t\tgroupComponents.push(child);\n\t\t\t}\n\t\t});\n\n\t\treturn groupComponents;\n\t}\n\n\twipe(){\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroup.wipe();\n\t\t});\n\t}\n\n\tpullGroupListData(groupList) {\n\t\tvar groupListData = [];\n\n\t\tgroupList.forEach((group) => {\n\t\t\tvar groupHeader = {};\n\t\t\tgroupHeader.level = 0;\n\t\t\tgroupHeader.rowCount = 0;\n\t\t\tgroupHeader.headerContent = \"\";\n\t\t\tvar childData = [];\n\n\t\t\tif (group.hasSubGroups) {\n\t\t\t\tchildData = this.pullGroupListData(group.groupList);\n\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\tgroupListData = groupListData.concat(childData);\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\n\n\t\t\t\tgroupListData.push(groupHeader);\n\n\t\t\t\tgroup.getRows().forEach((row) => {\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn groupListData\n\t}\n\n\tgetGroupedData(){\n\n\t\treturn this.pullGroupListData(this.groupList);\n\t}\n\n\tgetRowGroup(row){\n\t\tvar match = false;\n\n\t\tif(this.options(\"dataTree\")){\n\t\t\trow = this.table.modules.dataTree.getTreeParentRoot(row);\n\t\t}\n\n\t\tthis.groupList.forEach((group) => {\n\t\t\tvar result = group.getRowGroup(row);\n\n\t\t\tif(result){\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\n\t\treturn match;\n\t}\n\n\tcountGroups(){\n\t\treturn this.groupList.length;\n\t}\n\n\tgenerateGroups(rows){\n\t\tvar oldGroups = this.groups;\n\n\t\tthis.groups = {};\n\t\tthis.groupList = [];\n\n\t\tif(this.allowedValues && this.allowedValues[0]){\n\t\t\tthis.allowedValues[0].forEach((value) => {\n\t\t\t\tthis.createGroup(value, 0, oldGroups);\n\t\t\t});\n\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToExistingGroup(row, oldGroups);\n\t\t\t});\n\t\t}else{\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToGroup(row, oldGroups);\n\t\t\t});\n\t\t}\n\t}\n\n\tcreateGroup(groupID, level, oldGroups){\n\t\tvar groupKey = level + \"_\" + groupID,\n\t\tgroup;\n\n\t\toldGroups = oldGroups || [];\n\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\n\tassignRowToExistingGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tgroupKey = \"0_\" + groupID;\n\n\t\tif(this.groups[groupKey]){\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n\n\tassignRowToGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tnewGroupNeeded = !this.groups[\"0_\" + groupID];\n\n\t\tif(newGroupNeeded){\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\n\t\t}\n\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\n\n\t\treturn !newGroupNeeded;\n\t}\n\n\treassignRowToGroup(row){\n\t\tif(row.type === \"row\"){\n\t\t\tvar oldRowGroup = row.modules.group,\n\t\t\toldGroupPath = oldRowGroup.getPath(),\n\t\t\tnewGroupPath = this.getExpectedPath(row),\n\t\t\tsamePath = true;\n\n\t\t\t// figure out if new group path is the same as old group path\n\t\t\tvar samePath = (oldGroupPath.length == newGroupPath.length) && oldGroupPath.every((element, index) => {\n\t\t\t\treturn element === newGroupPath[index];\n\t\t\t});\n\n\t\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\t\t\tif(!samePath) {\n\t\t\t\toldRowGroup.removeRow(row);\n\t\t\t\tthis.assignRowToGroup(row, this.groups);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetExpectedPath(row) {\n\t\tvar groupPath = [], rowData = row.getData();\n\n\t\tthis.groupIDLookups.forEach((groupId) => {\n\t\t\tgroupPath.push(groupId.func(rowData));\n\t\t});\n\n\t\treturn groupPath;\n\t}\n\n\tupdateGroupRows(force){\n\t\tvar output = [],\n\t\toldRowCount;\n\n\t\tthis.groupList.forEach((group) => {\n\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t});\n\n\t\tif(force){\n\t\t\tthis.refreshData(true, this.displayHandler);\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tscrollHeaders(left){\n\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\tleft -= this.table.columnManager.renderer.vDomPadLeft;\n\t\t}\n\n\t\tleft = left + \"px\";\n\n\t\tthis.groupList.forEach((group) => {\n\t\t\tgroup.scrollHeader(left);\n\t\t});\n\t}\n\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\n\t\t\tindex = this.groupList.indexOf(group);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nGroupRows.moduleName = \"groupRows\";\n\nexport default GroupRows;", "export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowDelete: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posFrom], !action.data.after);\n\t\tthis.table.rowManager.redraw();\n\t},\n};", "export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowDelete:function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posTo], action.data.after);\n\t\tthis.table.rowManager.redraw();\n\t},\n};", "import Module from '../../core/Module.js';\nimport Row from '../../core/row/Row.js';\nimport Cell from '../../core/cell/Cell.js';\n\nimport defaultUndoers from './defaults/undoers.js';\nimport defaultRedoers from './defaults/redoers.js';\n\nclass History extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\n\t\tthis.registerTableOption(\"history\", false); //enable edit history\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.history){\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this));\n\t\t\tthis.subscribe(\"row-delete\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clear.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowAdded.bind(this));\n\t\t\tthis.subscribe(\"row-move\", this.rowMoved.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"undo\", this.undo.bind(this));\n\t\tthis.registerTableFunction(\"redo\", this.redo.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this));\n\t\tthis.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n\t}\n\n\trowMoved(from, to, after){\n\t\tthis.action(\"rowMove\", from, {posFrom:this.table.rowManager.getRowPosition(from), posTo:this.table.rowManager.getRowPosition(to), to:to, after:after});\n\t}\n\n\trowAdded(row, data, pos, index){\n\t\tthis.action(\"rowAdd\", row, {data:data, pos:pos, index:index});\n\t}\n\n\trowDeleted(row){\n\t\tvar index, rows;\n\n\t\tif(this.table.options.groupBy){\n\n\t\t\trows = row.getComponent().getGroup().rows\n\t\t\tindex = rows.indexOf(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = rows[index-1];\n\t\t\t}\n\t\t}else{\n\t\t\tindex = row.table.rowManager.getRowIndex(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = row.table.rowManager.rows[index-1];\n\t\t\t}\n\t\t}\n\n\t\tthis.action(\"rowDelete\", row, {data:row.getData(), pos:!index, index:index});\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.action(\"cellEdit\", cell, {oldValue:cell.oldValue, newValue:cell.value});\n\t}\n\n\tclear(){\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\t}\n\n\taction(type, component, data){\n\t\tthis.history = this.history.slice(0, this.index + 1);\n\n\t\tthis.history.push({\n\t\t\ttype:type,\n\t\t\tcomponent:component,\n\t\t\tdata:data,\n\t\t});\n\n\t\tthis.index ++;\n\t}\n\n\tgetHistoryUndoSize(){\n\t\treturn this.index + 1;\n\t}\n\n\tgetHistoryRedoSize(){\n\t\treturn this.history.length - (this.index + 1);\n\t}\n\n\tclearComponentHistory(component){\n\t\tvar index = this.history.findIndex(function(item){\n\t\t\treturn item.component === component;\n\t\t});\n\n\t\tif(index > -1){\n\t\t\tthis.history.splice(index, 1);\n\t\t\tif(index <= this.index){\n\t\t\t\tthis.index--;\n\t\t\t}\n\n\t\t\tthis.clearComponentHistory(component);\n\t\t}\n\t}\n\n\tundo(){\n\t\tif(this.index > -1){\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.undoers[action.type].call(this, action);\n\n\t\t\tthis.index--;\n\n\t\t\tthis.dispatchExternal(\"historyUndo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"History Undo Error - No more history to undo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tredo(){\n\t\tif(this.history.length-1 > this.index){\n\n\t\t\tthis.index++;\n\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.redoers[action.type].call(this, action);\n\n\t\t\tthis.dispatchExternal(\"historyRedo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"History Redo Error - No more history to redo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//rebind rows to new element after deletion\n\t_rebindRow(oldRow, newRow){\n\t\tthis.history.forEach(function(action){\n\t\t\tif(action.component instanceof Row){\n\t\t\t\tif(action.component === oldRow){\n\t\t\t\t\taction.component = newRow;\n\t\t\t\t}\n\t\t\t}else if(action.component instanceof Cell){\n\t\t\t\tif(action.component.row === oldRow){\n\t\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\t\tif(field){\n\t\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nHistory.moduleName = \"history\";\n\n//load defaults\nHistory.undoers = defaultUndoers;\nHistory.redoers = defaultRedoers;\n\nexport default History;", "import Module from '../../core/Module.js';\nimport Column from '../../core/column/Column.js';\n\nclass HtmlTableImport extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.fieldIndex = [];\n\t\tthis.hasIndex = false;\n\t}\n\n\tinitialize(){\n\t\tthis.tableElementCheck();\n\t}\n\n\ttableElementCheck(){\n\t\tif(this.table.originalElement && this.table.originalElement.tagName === \"TABLE\"){\n\t\t\tif(this.table.originalElement.childNodes.length){\n\t\t\t\tthis.parseTable();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tparseTable(){\n\t\tvar element = this.table.originalElement,\n\t\toptions = this.table.options,\n\t\tcolumns = options.columns,\n\t\theaders = element.getElementsByTagName(\"th\"),\n\t\trows = element.getElementsByTagName(\"tbody\")[0],\n\t\tdata = [],\n\t\tnewTable;\n\n\t\tthis.hasIndex = false;\n\n\t\tthis.dispatchExternal(\"htmlImporting\");\n\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t\t//check for Tabulator inline options\n\t\tthis._extractOptions(element, options);\n\n\t\tif(headers.length){\n\t\t\tthis._extractHeaders(headers, rows);\n\t\t}else{\n\t\t\tthis._generateBlankHeaders(headers, rows);\n\t\t}\n\n\t\t//iterate through table rows and build data set\n\t\tfor(var index = 0; index < rows.length; index++){\n\t\t\tvar row = rows[index],\n\t\t\tcells = row.getElementsByTagName(\"td\"),\n\t\t\titem = {};\n\n\t\t\t//create index if the dont exist in table\n\t\t\tif(!this.hasIndex){\n\t\t\t\titem[options.index] = index;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\tvar cell = cells[i];\n\t\t\t\tif(typeof this.fieldIndex[i] !== \"undefined\"){\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//add row data to item\n\t\t\tdata.push(item);\n\t\t}\n\n\t\toptions.data = data;\n\n\t\tthis.dispatchExternal(\"htmlImported\");\n\t}\n\n\t//extract tabulator attribute options\n\t_extractOptions(element, options, defaultOptions){\n\t\tvar attributes = element.attributes;\n\t\tvar optionsArr = defaultOptions ? Object.keys(defaultOptions) : Object.keys(options);\n\t\tvar optionsList = {};\n\n\t\toptionsArr.forEach((item) => {\n\t\t\toptionsList[item.toLowerCase()] = item;\n\t\t});\n\n\t\tfor(var index in attributes){\n\t\t\tvar attrib = attributes[index];\n\t\t\tvar name;\n\n\t\t\tif(attrib && typeof attrib == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0){\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\t\tif(typeof optionsList[name] !== \"undefined\"){\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//get value of attribute\n\t_attribValue(value){\n\t\tif(value === \"true\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(value === \"false\"){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t//find column if it has already been defined\n\t_findCol(title){\n\t\tvar match = this.table.options.columns.find((column) => {\n\t\t\treturn column.title === title;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\t//extract column from headers\n\t_extractHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\texists = false,\n\t\t\tcol = this._findCol(header.textContent),\n\t\t\twidth, attributes;\n\n\t\t\tif(col){\n\t\t\t\texists = true;\n\t\t\t}else{\n\t\t\t\tcol = {title:header.textContent.trim()};\n\t\t\t}\n\n\t\t\tif(!col.field) {\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replace(\" \", \"_\");\n\t\t\t}\n\n\t\t\twidth = header.getAttribute(\"width\");\n\n\t\t\tif(width && !col.width)\t{\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\t//check for Tabulator inline options\n\t\t\tthis._extractOptions(header, col, this.table.columnManager.optionsList.registeredDefaults);\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tif(col.field == this.table.options.index){\n\t\t\t\tthis.hasIndex = true;\n\t\t\t}\n\n\t\t\tif(!exists){\n\t\t\t\tthis.table.options.columns.push(col);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//generate blank headers\n\t_generateBlankHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\tcol = {title:\"\", field:\"col\" + index};\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tvar width = header.getAttribute(\"width\");\n\n\t\t\tif(width){\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n}\n\nHtmlTableImport.moduleName = \"htmlTableImport\";\n\nexport default HtmlTableImport;", "function csvImporter(input){\n    var data = [],\n    row = 0, \n    col = 0,\n    inQuote = false;\n    \n    //Iterate over each character\n    for (let index = 0; index < input.length; index++) {\n        let char = input[index], \n        nextChar = input[index+1];      \n        \n        //Initialize empty row\n        if(!data[row]){\n            data[row] = [];\n        }\n\n        //Initialize empty column\n        if(!data[row][col]){\n            data[row][col] = \"\";\n        }\n        \n        //Handle quotation mark inside string\n        if (char == '\"' && inQuote && nextChar == '\"') { \n            data[row][col] += char; \n            index++;\n            continue; \n        }\n        \n        //Begin / End Quote\n        if (char == '\"') { \n            inQuote = !inQuote;\n            continue;\n        }\n        \n        //Next column (if not in quote)\n        if (char == ',' && !inQuote) { \n            col++;\n            continue; \n        }\n        \n        //New row if new line and not in quote (CRLF) \n        if (char == '\\r' && nextChar == '\\n' && !inQuote) { \n            col = 0; \n            row++; \n            index++; \n            continue; \n        }\n        \n        //New row if new line and not in quote (CR or LF) \n        if ((char == '\\r' || char == '\\n') && !inQuote) { \n            col = 0;\n            row++;\n            continue; \n        }\n\n        //Normal Character, append to column\n        data[row][col] += char;\n    }\n\n    return data;\n}\n\nexport default csvImporter;", "export default function(input){\n    try {\n        return JSON.parse(input);\n    } catch(e) {\n        console.warn(\"JSON Import Error - File contents is invalid JSON\", e);\n        return Promise.reject();\n    }\n}", "import csv from './importers/csv.js';\nimport json from './importers/json.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n};", "import Module from '../../core/Module.js';\n\nimport defaultImporters from './defaults/importers.js';\n\nclass Import extends Module{\n    \n    constructor(table){\n        super(table);\n        \n        this.registerTableOption(\"importFormat\");\n        this.registerTableOption(\"importReader\", \"text\");\n    }\n    \n    initialize(){\n        this.registerTableFunction(\"import\", this.importFromFile.bind(this));\n\n        if(this.table.options.importFormat){\n            this.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10);\n            this.subscribe(\"data-load\", this.loadData.bind(this), 10);\n        }\n    }\n\n    loadDataCheck(data){\n        return typeof data === \"string\";\n    }\n\n    loadData(data, params, config, silent, previousData){\n        return this.importData(this.lookupImporter(), data)\n        .then(this.structureData.bind(this))\n        .catch((err) => {\n            console.error(\"Import Error:\", err || \"Unable to import data\")\n            return Promise.reject(err);\n        })\n    }\n\n    lookupImporter(importFormat){\n        var importer;\n        \n        if(!importFormat){\n            importFormat = this.table.options.importFormat;\n        }\n        \n        if(typeof importFormat === \"string\"){\n            importer = Import.importers[importFormat];\n        }else{\n            importer = importFormat;\n        }\n\n        if(!importer){\n            console.error(\"Import Error - Importer not found:\", importFormat);\n        }\n        \n        return importer;\n    }\n    \n    importFromFile(importFormat, extension){\n        var importer = this.lookupImporter(importFormat);\n        \n        if(importer){\n            return this.pickFile(extension)\n            .then(this.importData.bind(this, importer))\n            .then(this.structureData.bind(this))\n            .then(this.setData.bind(this))\n            .catch((err) => {\n                console.error(\"Import Error:\", err || \"Unable to import file\")\n                return Promise.reject(err);\n            })\n        }\n    }\n    \n    pickFile(extensions){\n        return new Promise((resolve, reject) => {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            input.accept = extensions;\n            \n            input.addEventListener(\"change\", (e) => {\n                var file = input.files[0],\n                reader = new FileReader(),\n                data;\n                \n                switch(this.table.options.importReader){\n                    case \"buffer\":\n                        reader.readAsArrayBuffer(file);\n                    break;\n\n                    case \"binary\":\n                        reader.readAsBinaryString(file);\n                    break;\n\n                    case \"url\":\n                        reader.readAsDataURL(file);\n                    break;\n\n                    case \"text\":\n                    default:\n                        reader.readAsText(file);\n                }\n                  \n                reader.onload = (e) => {\n                    resolve(reader.result)\n                };\n                \n                reader.onerror = (e) => {\n                    console.warn(\"File Load Error - Unable to read file\");\n                    reject();\n                };\n            });\n            \n            input.click();\n        });\n    }\n    \n    importData(importer, fileContents){\n        var data = importer.call(this.table, fileContents);\n        \n        if(data instanceof Promise){\n            return data;\n        }else{\n            return data ? Promise.resolve(data) : Promise.reject();\n        }\n    }\n\n    structureData(parsedData){\n        var data = [];\n        \n        if(Array.isArray(parsedData) && parsedData.length && Array.isArray(parsedData[0])){\n            if(this.table.options.autoColumns){\n                data = this.structureArrayToObject(parsedData);\n            }else{\n                data = this.structureArrayToColumns(parsedData);\n            }\n\n            return data;\n        }else{\n            return parsedData;\n        }\n    }\n\n    structureArrayToObject(parsedData){\n        var columns = parsedData.shift();\n\n        var data = parsedData.map((values) => {\n            var row = {};\n\n            columns.forEach((key, i) => {\n                row[key] = values[i];\n            })\n\n            return row;\n        })\n\n        return data;\n    }\n\n    structureArrayToColumns(parsedData){\n        var data = [],\n        columns = this.table.getColumns();\n\n        //remove first row if it is the column names\n        if(columns[0] && parsedData[0][0]){\n            if(columns[0].getDefinition().title === parsedData[0][0]){\n                parsedData.shift();\n            }\n        }\n        \n        //convert row arrays to objects\n        parsedData.forEach((rowData) => {\n            var row = {};\n\n            rowData.forEach((value, index) => {\n                var column = columns[index];\n\n                if(column){\n                    row[column.getField()] = value;\n                }\n            })\n\n            data.push(row);\n        });\n\n        return data;\n    }\n    \n    setData(data){\n        return this.table.setData(data);\n    }\n}\n\nImport.moduleName = \"import\";\n\n//load defaults\nImport.importers = defaultImporters;\n\nexport default Import;", "import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\n\nclass Interaction extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.eventMap = {\n\t\t\t//row events\n\t\t\trowClick:\"row-click\",\n\t\t\trowDblClick:\"row-dblclick\",\n\t\t\trowContext:\"row-contextmenu\",\n\t\t\trowMouseEnter:\"row-mouseenter\",\n\t\t\trowMouseLeave:\"row-mouseleave\",\n\t\t\trowMouseOver:\"row-mouseover\",\n\t\t\trowMouseOut:\"row-mouseout\",\n\t\t\trowMouseMove:\"row-mousemove\",\n\t\t\trowTap:\"row\",\n\t\t\trowDblTap:\"row\",\n\t\t\trowTapHold:\"row\",\n\n\t\t\t//cell events\n\t\t\tcellClick:\"cell-click\",\n\t\t\tcellDblClick:\"cell-dblclick\",\n\t\t\tcellContext:\"cell-contextmenu\",\n\t\t\tcellMouseEnter:\"cell-mouseenter\",\n\t\t\tcellMouseLeave:\"cell-mouseleave\",\n\t\t\tcellMouseOver:\"cell-mouseover\",\n\t\t\tcellMouseOut:\"cell-mouseout\",\n\t\t\tcellMouseMove:\"cell-mousemove\",\n\t\t\tcellTap:\"cell\",\n\t\t\tcellDblTap:\"cell\",\n\t\t\tcellTapHold:\"cell\",\n\n\t\t\t//column header events\n\t\t\theaderClick:\"column-click\",\n\t\t\theaderDblClick:\"column-dblclick\",\n\t\t\theaderContext:\"column-contextmenu\",\n\t\t\theaderMouseEnter:\"column-mouseenter\",\n\t\t\theaderMouseLeave:\"column-mouseleave\",\n\t\t\theaderMouseOver:\"column-mouseover\",\n\t\t\theaderMouseOut:\"column-mouseout\",\n\t\t\theaderMouseMove:\"column-mousemove\",\n\t\t\theaderTap:\"column\",\n\t\t\theaderDblTap:\"column\",\n\t\t\theaderTapHold:\"column\",\n\n\t\t\t//group header\n\t\t\tgroupClick:\"group-click\",\n\t\t\tgroupDblClick:\"group-dblclick\",\n\t\t\tgroupContext:\"group-contextmenu\",\n\t\t\tgroupMouseEnter:\"group-mouseenter\",\n\t\t\tgroupMouseLeave:\"group-mouseleave\",\n\t\t\tgroupMouseOver:\"group-mouseover\",\n\t\t\tgroupMouseOut:\"group-mouseout\",\n\t\t\tgroupMouseMove:\"group-mousemove\",\n\t\t\tgroupTap:\"group\",\n\t\t\tgroupDblTap:\"group\",\n\t\t\tgroupTapHold:\"group\",\n\t\t}\n\n\t\tthis.subscribers = {};\n\n\t\tthis.touchSubscribers = {};\n\n\t\tthis.columnSubscribers = {};\n\n\t\tthis.touchWatchers = {\n\t\t\trow:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcell:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcolumn:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tgroup:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t}\n\t\t}\n\n\t\tthis.registerColumnOption(\"headerClick\");\n\t\tthis.registerColumnOption(\"headerDblClick\");\n\t\tthis.registerColumnOption(\"headerContext\");\n\t\tthis.registerColumnOption(\"headerMouseEnter\");\n\t\tthis.registerColumnOption(\"headerMouseLeave\");\n\t\tthis.registerColumnOption(\"headerMouseOver\");\n\t\tthis.registerColumnOption(\"headerMouseOut\");\n\t\tthis.registerColumnOption(\"headerMouseMove\");\n\t\tthis.registerColumnOption(\"headerTap\");\n\t\tthis.registerColumnOption(\"headerDblTap\");\n\t\tthis.registerColumnOption(\"headerTapHold\");\n\n\t\tthis.registerColumnOption(\"cellClick\");\n\t\tthis.registerColumnOption(\"cellDblClick\");\n\t\tthis.registerColumnOption(\"cellContext\");\n\t\tthis.registerColumnOption(\"cellMouseEnter\");\n\t\tthis.registerColumnOption(\"cellMouseLeave\");\n\t\tthis.registerColumnOption(\"cellMouseOver\");\n\t\tthis.registerColumnOption(\"cellMouseOut\");\n\t\tthis.registerColumnOption(\"cellMouseMove\");\n\t\tthis.registerColumnOption(\"cellTap\");\n\t\tthis.registerColumnOption(\"cellDblTap\");\n\t\tthis.registerColumnOption(\"cellTapHold\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.initializeExternalEvents();\n\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this))\n\t\tthis.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this))\n\t}\n\n\tcellContentsSelectionFixer(e, cell){\n\t\tif(this.table.modExists(\"edit\")){\n\t\t\tif (this.table.modules.edit.currentCell === this){\n\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t}\n\t\t}\n\n\t\te.preventDefault();\n\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\tvar range = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(this.element);\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\tvar range = document.createRange();\n\t\t\t\trange.selectNode(this.element);\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\n\tinitializeExternalEvents(){\n\t\tfor(let key in this.eventMap){\n\t\t\tthis.subscriptionChangeExternal(key, this.subscriptionChanged.bind(this, key))\n\t\t}\n\t}\n\n\tsubscriptionChanged(key, added){\n\t\tvar index;\n\n\t\tif(added){\n\t\t\tif(!this.subscribers[key]){\n\t\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\t\tthis.subscribers[key] = this.handle.bind(this, key);\n\t\t\t\t\tthis.subscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t}else{\n\t\t\t\t\tthis.subscribeTouchEvents(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\tif(this.subscribers[key] && !this.columnSubscribers[key]  && !this.subscribedExternal(key)){\n\t\t\t\t\tthis.unsubscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t\tdelete this.subscribers[key];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.unsubscribeTouchEvents(key);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubscribeTouchEvents(key){\n\t\tvar type = this.eventMap[key];\n\n\t\tif(!this.touchSubscribers[type + \"-touchstart\"]){\n\t\t\tthis.touchSubscribers[type + \"-touchstart\"] = this.handleTouch.bind(this, type, \"start\");\n\t\t\tthis.touchSubscribers[type + \"-touchend\"] = this.handleTouch.bind(this, type, \"end\");\n\n\t\t\tthis.subscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\tthis.subscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\t\t}\n\n\t\tthis.subscribers[key] = true;\n\t}\n\n\tunsubscribeTouchEvents(key){\n\t\tvar notouch = true,\n\t\ttype = this.eventMap[key];\n\n\t\tif(this.subscribers[key] && !this.subscribedExternal(key)){\n\t\t\tdelete this.subscribers[key];\n\n\t\t\tfor(let i in this.eventMap){\n\t\t\t\tif(this.eventMap[i] === type){\n\t\t\t\t\tif(this.subscribers[i]){\n\t\t\t\t\t\tnotouch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(notouch){\n\t\t\t\tthis.unsubscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\t\tthis.unsubscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchstart\"];\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchend\"];\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\n\t\tfor(let key in this.eventMap){\n\t\t\tif(def[key]){\n\t\t\t\tthis.subscriptionChanged(key, true);\n\n\t\t\t\tif(!this.columnSubscribers[key]){\n\t\t\t\t\tthis.columnSubscribers[key] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.columnSubscribers[key].push(column);\n\t\t\t}\n\t\t}\n\t}\n\n\thandle(action, e, component){\n\t\tthis.dispatchEvent(action, e, component);\n\t}\n\n\thandleTouch(type, action, e, component){\n\t\tvar watchers = this.touchWatchers[type];\n\n\t\tif(type === \"column\"){\n\t\t\ttype = \"header\";\n\t\t}\n\n\t\tswitch(action){\n\t\t\tcase \"start\":\n\t\t\twatchers.tap = true;\n\n\t\t\tclearTimeout(watchers.tapHold);\n\n\t\t\twatchers.tapHold = setTimeout(() => {\n\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\twatchers.tapHold = null;\n\n\t\t\t\twatchers.tap = null;\n\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\tthis.dispatchEvent(type + \"TapHold\", e,  component);\n\t\t\t}, 1000);\n\t\t\tbreak;\n\n\t\t\tcase \"end\":\n\t\t\tif(watchers.tap){\n\n\t\t\t\twatchers.tap = null;\n\t\t\t\tthis.dispatchEvent(type + \"Tap\", e,  component);\n\t\t\t}\n\n\t\t\tif(watchers.tapDbl){\n\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\tthis.dispatchEvent(type + \"DblTap\", e,  component);\n\t\t\t}else{\n\t\t\t\twatchers.tapDbl = setTimeout(() => {\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\n\t\t\tclearTimeout(watchers.tapHold);\n\t\t\twatchers.tapHold = null;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tdispatchEvent(action, e, component){\n\t\tvar componentObj = component.getComponent(),\n\t\tcallback;\n\n\t\tif(this.columnSubscribers[action]){\n\n\t\t\tif(component instanceof Cell){\n\t\t\t\tcallback = component.column.definition[action];\n\t\t\t}else if(component instanceof Column){\n\t\t\t\tcallback = component.definition[action];\n\t\t\t}\n\n\t\t\tif(callback){\n\t\t\t\tcallback(e, componentObj);\n\t\t\t}\n\t\t}\n\n\t\tthis.dispatchExternal(action, e, componentObj);\n\t}\n}\n\nInteraction.moduleName = \"interaction\";\n\nexport default Interaction;\n", "export default {\n\tnavPrev:\"shift + 9\",\n\tnavNext:9,\n\tnavUp:38,\n\tnavDown:40,\n\tscrollPageUp:33,\n\tscrollPageDown:34,\n\tscrollToStart:36,\n\tscrollToEnd:35,\n\tundo:[\"ctrl + 90\", \"meta + 90\"],\n\tredo:[\"ctrl + 89\", \"meta + 89\"],\n\tcopyToClipboard:[\"ctrl + 67\", \"meta + 89\"],\n};", "export default {\n\tkeyBlock:function(e){\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\tscrollPageUp:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop - rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos >= 0){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollPageDown:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop + rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos <= scrollMax){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\n\t},\n\tscrollToStart:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollToEnd:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tnavPrev:function(e){\n\t\tthis.dispatch(\"keybinding-nav-prev\", e);\n\t},\n\n\tnavNext:function(e){\n\t\tthis.dispatch(\"keybinding-nav-next\", e);\n\t},\n\n\tnavLeft:function(e){\n\t\tthis.dispatch(\"keybinding-nav-left\", e);\n\t},\n\n\tnavRight:function(e){\n\t\tthis.dispatch(\"keybinding-nav-right\", e);\n\t},\n\n\tnavUp:function(e){\n\t\tthis.dispatch(\"keybinding-nav-up\", e);\n\t},\n\n\tnavDown:function(e){\n\t\tthis.dispatch(\"keybinding-nav-down\", e);\n\t},\n\n\tundo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.undo();\n\t\t\t}\n\t\t}\n\t},\n\n\tredo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.redo();\n\t\t\t}\n\t\t}\n\t},\n\n\tcopyToClipboard:function(e){\n\t\tif(!this.table.modules.edit.currentCell){\n\t\t\tif(this.table.modExists(\"clipboard\", true)){\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\n\t\t\t}\n\t\t}\n\t},\n};", "import Module from '../../core/Module.js';\n\nimport defaultBindings from './defaults/bindings.js';\nimport defaultActions from './defaults/actions.js';\n\nclass Keybindings extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.watchKeys = null;\n\t\tthis.pressedKeys = null;\n\t\tthis.keyupBinding = false;\n\t\tthis.keydownBinding = false;\n\n\t\tthis.registerTableOption(\"keybindings\", {}); //array for keybindings\n\t\tthis.registerTableOption(\"tabEndNewRow\", false); //create new row when tab to end of table\n\t}\n\n\tinitialize(){\n\t\tvar bindings = this.table.options.keybindings,\n\t\tmergedBindings = {};\n\n\t\tthis.watchKeys = {};\n\t\tthis.pressedKeys = [];\n\n\t\tif(bindings !== false){\n\t\t\tObject.assign(mergedBindings, Keybindings.bindings)\n\t\t\tObject.assign(mergedBindings, bindings)\n\n\t\t\tthis.mapBindings(mergedBindings);\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t}\n\n\tmapBindings(bindings){\n\t\tfor(let key in bindings){\n\t\t\tif(Keybindings.actions[key]){\n\t\t\t\tif(bindings[key]){\n\t\t\t\t\tif(typeof bindings[key] !== \"object\"){\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbindings[key].forEach((binding) => {\n\t\t\t\t\t\tvar bindingList = Array.isArray(binding) ?  binding : [binding];\n\t\t\t\t\t\t\n\t\t\t\t\t\tbindingList.forEach((item) => {\n\t\t\t\t\t\t\tthis.mapBinding(key, item);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\tmapBinding(action, symbolsList){\n\t\tvar binding = {\n\t\t\taction: Keybindings.actions[action],\n\t\t\tkeys: [],\n\t\t\tctrl: false,\n\t\t\tshift: false,\n\t\t\tmeta: false,\n\t\t};\n\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\t\tsymbols.forEach((symbol) => {\n\t\t\tswitch(symbol){\n\t\t\t\tcase \"ctrl\":\n\t\t\t\tbinding.ctrl = true;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"shift\":\n\t\t\t\tbinding.shift = true;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"meta\":\n\t\t\t\tbinding.meta = true;\n\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\tsymbol = isNaN(symbol) ? symbol.toUpperCase().charCodeAt(0) : parseInt(symbol);\n\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\tif(!this.watchKeys[symbol]){\n\t\t\t\t\tthis.watchKeys[symbol] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.watchKeys[symbol].push(binding);\n\t\t\t}\n\t\t});\n\t}\n\n\tbindEvents(){\n\t\tvar self = this;\n\n\t\tthis.keyupBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tself.pressedKeys.push(code);\n\n\t\t\t\tbindings.forEach(function(binding){\n\t\t\t\t\tself.checkBinding(e, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.keydownBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n\t}\n\n\tclearBindings(){\n\t\tif(this.keyupBinding){\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t\t}\n\n\t\tif(this.keydownBinding){\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t\t}\n\t}\n\n\tcheckBinding(e, binding){\n\t\tvar match = true;\n\n\t\tif(e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta){\n\t\t\tbinding.keys.forEach((key) => {\n\t\t\t\tvar index = this.pressedKeys.indexOf(key);\n\n\t\t\t\tif(index == -1){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tbinding.action.call(this, e);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nKeybindings.moduleName = \"keybindings\";\n\n//load defaults\nKeybindings.bindings = defaultBindings;\nKeybindings.actions = defaultActions;\n\nexport default Keybindings;", "import Module from '../../core/Module.js';\n\nclass Menu extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.menuContainer = null;\n\t\tthis.nestedMenuBlock = false;\n\t\t\n\t\tthis.currentComponent = null;\n\t\tthis.rootPopup = null;\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"menuContainer\", undefined); //deprecated\n\n\t\tthis.registerTableOption(\"rowContextMenu\", false);\n\t\tthis.registerTableOption(\"rowClickMenu\", false);\n\t\tthis.registerTableOption(\"groupContextMenu\", false);\n\t\tthis.registerTableOption(\"groupClickMenu\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextMenu\");\n\t\tthis.registerColumnOption(\"headerClickMenu\");\n\t\tthis.registerColumnOption(\"headerMenu\");\n\t\tthis.registerColumnOption(\"headerMenuIcon\");\n\t\tthis.registerColumnOption(\"contextMenu\");\n\t\tthis.registerColumnOption(\"clickMenu\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecationCheck();\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\tdeprecationCheck(){\n\t\tif(typeof this.table.options.menuContainer !== \"undefined\"){\n\t\t\tconsole.warn(\"Use of the menuContainer option is now deprecated. Please use the popupContainer option instead\");\n\n\t\t\tthis.table.options.popupContainer = this.table.options.menuContainer;\n\t\t}\n\t}\t\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextMenu){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickMenu){\n\t\t\tthis.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextMenu){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickMenu){\n\t\t\tthis.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar options = [\"headerContextMenu\", \"headerClickMenu\"],\n\t\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextMenu && !this.columnSubscribers.headerContextMenu){\n\t\t\tthis.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"))\n\t\t}\n\t\t\n\t\tif(def.headerClickMenu && !this.columnSubscribers.headerClickMenu){\n\t\t\tthis.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerMenu){\n\t\t\tthis.initializeColumnHeaderMenu(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextMenu && !this.columnSubscribers.contextMenu){\n\t\t\tthis.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"))\n\t\t}\n\t\t\n\t\tif(def.clickMenu && !this.columnSubscribers.clickMenu){\n\t\t\tthis.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickMenu);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderMenu(column){\n\t\tvar icon = column.definition.headerMenuIcon,\n\t\theaderMenuEl;\n\t\t\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderMenuEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderMenuEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderMenuEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadMenuEvent(column.definition.headerMenu, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadMenuTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadMenuEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadMenuTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadMenuEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadMenuEvent(menu, e, component){\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, e, component.getComponent()) : menu;\n\t\t\n\t\tthis.loadMenu(e, component, menu);\n\t}\n\t\n\tloadMenu(e, component, menu, parentEl, parentPopup){\n\t\tvar touch = !(e instanceof MouseEvent),\t\t\n\t\tmenuEl = document.createElement(\"div\"),\n\t\tpopup;\n\t\t\n\t\tmenuEl.classList.add(\"tabulator-menu\");\n\t\t\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t//abort if no menu set\n\t\tif(!menu || !menu.length){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!parentEl){\n\t\t\tif(this.nestedMenuBlock){\n\t\t\t\t//abort if child menu already open\n\t\t\t\tif(this.rootPopup){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.nestedMenuBlock = setTimeout(() => {\n\t\t\t\t\tthis.nestedMenuBlock = false;\n\t\t\t\t}, 100)\n\t\t\t}\n\t\t\t\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.rootPopup = popup = this.popup(menuEl);\n\t\t\t\n\t\t}else{\n\t\t\tpopup = parentPopup.child(menuEl);\n\t\t}\n\t\t\n\t\tmenu.forEach((item) => {\n\t\t\tvar itemEl = document.createElement(\"div\"),\n\t\t\tlabel = item.label,\n\t\t\tdisabled = item.disabled;\n\t\t\t\n\t\t\tif(item.separator){\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t\t}else{\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\t\t\t\t\n\t\t\t\tif(typeof label == \"function\"){\n\t\t\t\t\tlabel = label.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(label instanceof Node){\n\t\t\t\t\titemEl.appendChild(label);\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = label;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(typeof disabled == \"function\"){\n\t\t\t\t\tdisabled = disabled.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(disabled){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tthis.loadMenu(e, component, item.menu, itemEl, popup);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(item.action){\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tmenuEl.appendChild(itemEl);\n\t\t});\n\t\t\n\t\tmenuEl.addEventListener(\"click\", (e) => {\n\t\t\tthis.rootPopup.hide();\n\t\t});\n\t\t\n\t\tpopup.show(parentEl || e);\n\t\t\n\t\tif(popup === this.rootPopup){\n\t\t\tthis.rootPopup.hideOnBlur(() => {\n\t\t\t\tthis.rootPopup = null;\n\t\t\t\t\n\t\t\t\tif(this.currentComponent){\n\t\t\t\t\tthis.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent());\n\t\t\t\t\tthis.currentComponent = null;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.currentComponent = component;\n\n\t\t\tthis.dispatchExternal(\"menuOpened\", component.getComponent())\n\t\t}\n\t}\n}\n\nMenu.moduleName = \"menu\";\n\nexport default Menu;\n", "import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nclass MoveColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating column header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving column\n\t\tthis.toCol = false; //destination column\n\t\tthis.toColAfter = false; //position of moving column relative to the desitnation column\n\t\tthis.startX = 0; //starting position within header element\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\n\t\tthis.touchMove = false;\n\t\t\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"movableColumns\", false); //enable movable columns\n\t}\n\t\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.classList.add(\"tabulator-col-placeholder\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.movableColumns){\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\tcolEl;\n\t\t\n\t\tif(!column.modules.frozen && !column.isGroup){\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tconfig.mousemove = function(e){\n\t\t\t\tif(column.parent === self.moving.parent){\n\t\t\t\t\tif((((self.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(colEl).left) + self.table.columnManager.element.scrollLeft) > (column.getWidth() / 2)){\n\t\t\t\t\t\tif(self.toCol !== column || !self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(self.toCol !== column || self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(self);\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tself.touchMove = false;\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tself.bindTouchEvents(column);\n\t\t}\n\t\t\n\t\tcolumn.modules.moveColumn = config;\n\t}\n\t\n\tbindTouchEvents(column){\n\t\tvar colEl = column.getElement(),\n\t\tstartXMove = false, //shifting center position of the cell\n\t\tdir = false,\n\t\tcurrentCol, nextCol, prevCol, nextColWidth, prevColWidth, nextColWidthLast, prevColWidthLast;\n\t\t\n\t\tcolEl.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tcurrentCol = column;\n\t\t\t\tnextCol = column.nextColumn();\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth()/2 : 0;\n\t\t\t\tprevCol = column.prevColumn();\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth()/2 : 0;\n\t\t\t\tnextColWidthLast = 0;\n\t\t\t\tprevColWidthLast = 0;\n\t\t\t\tstartXMove = false;\n\t\t\t\t\n\t\t\t\tthis.startMove(e, column);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchmove\", (e) => {\n\t\t\tvar halfCol, diff, moveToCol;\n\t\t\t\n\t\t\tif(this.moving){\n\t\t\t\tthis.moveHover(e);\n\t\t\t\t\n\t\t\t\tif(!startXMove){\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\n\t\t\t\t\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextCol && diff - nextColWidthLast > nextColWidth){\n\t\t\t\t\t\tmoveToCol = nextCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevCol && -diff - prevColWidthLast >  prevColWidth){\n\t\t\t\t\t\tmoveToCol = prevCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(moveToCol){\n\t\t\t\t\tcurrentCol = moveToCol;\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tstartMove(e, column){\n\t\tvar element = column.getElement(),\n\t\theaderElement = this.table.columnManager.getElement(),\n\t\theadersElement = this.table.columnManager.getHeadersElement();\n\t\t\n\t\tthis.moving = column;\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(element).left;\n\t\t\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\t\t\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\t\t\n\t\tthis.table.columnManager.getElement().appendChild(this.hoverElement);\n\t\t\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.bottom = (headerElement.clientHeight - headersElement.offsetHeight) + \"px\";\n\t\t\n\t\tif(!this.touchMove){\n\t\t\tthis._bindMouseMove();\n\t\t\t\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t\t\n\t\tthis.moveHover(e);\n\t}\n\t\n\t_bindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_unbindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmoveColumn(column, after){\n\t\tvar movingCells = this.moving.getCells();\n\t\t\n\t\tthis.toCol = column;\n\t\tthis.toColAfter = after;\n\t\t\n\t\tif(after){\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tendMove(e){\n\t\tif(e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\t\t\t\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\t\t\t\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(this.toCol){\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t\t}\n\t\t\t\n\t\t\tthis.moving = false;\n\t\t\tthis.toCol = false;\n\t\t\tthis.toColAfter = false;\n\t\t\t\n\t\t\tif(!this.touchMove){\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmoveHover(e){\n\t\tvar columnHolder = this.table.columnManager.getElement(),\n\t\tscrollLeft = columnHolder.scrollLeft,\n\t\txPos = ((this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(columnHolder).left) + scrollLeft,\n\t\tscrollPos;\n\t\t\n\t\tthis.hoverElement.style.left = (xPos - this.startX) + \"px\";\n\t\t\n\t\tif(xPos - scrollLeft < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.max(0,scrollLeft-5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(scrollLeft + columnHolder.clientWidth - xPos < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft+5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nMoveColumns.moduleName = \"moveColumn\";\n\nexport default MoveColumns;\n", "import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nclass MoveRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating row header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving row\n\t\tthis.toRow = false; //destination row\n\t\tthis.toRowAfter = false; //position of moving row relative to the desitnation row\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\n\t\tthis.startY = 0; //starting Y position within header element\n\t\tthis.startX = 0; //starting X position within header element\n\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\tthis.tableRowDropEvent = false;\n\n\t\tthis.touchMove = false;\n\n\t\tthis.connection = false;\n\t\tthis.connectionSelectorsTables = false;\n\t\tthis.connectionSelectorsElements = false;\n\t\tthis.connectionElements = [];\n\t\tthis.connections = [];\n\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.registerTableOption(\"movableRows\", false); //enable movable rows\n\t\tthis.registerTableOption(\"movableRowsConnectedTables\", false); //tables for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsConnectedElements\", false); //other elements for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsSender\", false);\n\t\tthis.registerTableOption(\"movableRowsReceiver\", \"insert\");\n\n\t\tthis.registerColumnOption(\"rowHandle\");\n\t}\n\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.classList.add(\"tabulator-row-placeholder\");\n\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.movableRows){\n\t\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\t\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\t\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n\n\t\t\tthis.subscribe(\"cell-init\", this.initializeCell.bind(this));\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeGroupHeader(group){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tif(((e.pageY - Helpers.elOffset(group.element).top) + self.table.rowManager.element.scrollTop) > (group.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== group || !self.toRowAfter){\n\t\t\t\t\tvar rowEl = group.getElement();\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(group, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== group || self.toRowAfter){\n\t\t\t\t\tvar rowEl = group.getElement();\n\t\t\t\t\tif(rowEl.previousSibling){\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tgroup.modules.moveRow = config;\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(((e.pageY - Helpers.elOffset(rowEl).top) + self.table.rowManager.element.scrollTop) > (row.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== row || !self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(row, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== row || self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(row, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\n\t\tif(!this.hasHandle){\n\n\t\t\trowEl = row.getElement();\n\n\t\t\trowEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trowEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(row, row.getElement());\n\t\t}\n\n\t\trow.modules.moveRow = config;\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tthis.hasHandle = true;\n\t\t}\n\t}\n\n\tinitializeCell(cell){\n\t\tif(cell.column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tvar self = this,\n\t\t\tcellEl = cell.getElement(true);\n\n\t\t\tcellEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, cell.row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcellEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(cell.row, cellEl);\n\t\t}\n\t}\n\n\tbindTouchEvents(row, element){\n\t\tvar startYMove = false, //shifting center position of the cell\n\t\tdir = false,\n\t\tcurrentRow, nextRow, prevRow, nextRowHeight, prevRowHeight, nextRowHeightLast, prevRowHeightLast;\n\n\t\telement.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tcurrentRow = row;\n\t\t\t\tnextRow = row.nextRow();\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight()/2 : 0;\n\t\t\t\tprevRow = row.prevRow();\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight()/2 : 0;\n\t\t\t\tnextRowHeightLast = 0;\n\t\t\t\tprevRowHeightLast = 0;\n\t\t\t\tstartYMove = false;\n\n\t\t\t\tthis.startMove(e, row);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\tthis.moving, this.toRow, this.toRowAfter\n\t\telement.addEventListener(\"touchmove\", (e) => {\n\n\t\t\tvar halfCol, diff, moveToRow;\n\n\t\t\tif(this.moving){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.moveHover(e);\n\n\t\t\t\tif(!startYMove){\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t}\n\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextRow && diff - nextRowHeightLast > nextRowHeight){\n\t\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevRow && -diff - prevRowHeightLast >  prevRowHeight){\n\t\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(moveToRow){\n\t\t\t\t\tcurrentRow = moveToRow;\n\t\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t\tthis.touchMove = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t_bindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\t_unbindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\tstartMove(e, row){\n\t\tvar element = row.getElement();\n\n\t\tthis.setStartPosition(e, row);\n\n\t\tthis.moving = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\t\tif(!this.connection){\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\t\telement.parentNode.removeChild(element);\n\t\t}else{\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\t\tthis.connectToTables(row);\n\t\t}\n\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\t\tif(this.connection){\n\t\t\tdocument.body.appendChild(this.hoverElement);\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t\t}else{\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\n\t\t\tthis._bindMouseMove();\n\t\t}\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\t\tthis.dispatchExternal(\"rowMoving\", row.getComponent());\n\n\t\tthis.moveHover(e);\n\t}\n\n\tsetStartPosition(e, row){\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t\tpageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t\telement, position;\n\n\t\telement = row.getElement();\n\t\tif(this.connection){\n\t\t\tposition = element.getBoundingClientRect();\n\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t\t}else{\n\t\t\tthis.startY = (pageY - element.getBoundingClientRect().top);\n\t\t}\n\t}\n\n\tendMove(e){\n\t\tif(!e || e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\n\t\t\tif(!this.connection){\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\t}\n\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tif(this.toRow){\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent());\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toRow = false;\n\t\t\tthis.toRowAfter = false;\n\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\t\tif(this.connection){\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\t\tthis.disconnectFromTables();\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveRow(row, after){\n\t\tthis.toRow = row;\n\t\tthis.toRowAfter = after;\n\t}\n\n\tmoveHover(e){\n\t\tif(this.connection){\n\t\t\tthis.moveHoverConnections.call(this, e);\n\t\t}else{\n\t\t\tthis.moveHoverTable.call(this, e);\n\t\t}\n\t}\n\n\tmoveHoverTable(e){\n\t\tvar rowHolder = this.table.rowManager.getElement(),\n\t\tscrollTop = rowHolder.scrollTop,\n\t\tyPos = ((this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top) + scrollTop,\n\t\tscrollPos;\n\n\t\tthis.hoverElement.style.top = (yPos - this.startY) + \"px\";\n\t}\n\n\tmoveHoverConnections(e){\n\t\tthis.hoverElement.style.left = (this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX)) + \"px\";\n\t\tthis.hoverElement.style.top = (this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY)) + \"px\";\n\t}\n\n\telementRowDrop(e, element, row){\n\t\tthis.dispatchExternal(\"movableRowsElementDrop\", e, element, row ? row.getComponent() : false);\n\t}\n\n\t//establish connection with other tables\n\tconnectToTables(row){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStart\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\t\trow:row,\n\t\t\t});\n\t\t}\n\n\t\tif(this.connectionSelectorsElements){\n\n\t\t\tthis.connectionElements = [];\n\n\t\t\tif(!Array.isArray(this.connectionSelectorsElements)){\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t\t}\n\n\t\t\tthis.connectionSelectorsElements.forEach((query) => {\n\t\t\t\tif(typeof query === \"string\"){\n\t\t\t\t\tthis.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t\t}else{\n\t\t\t\t\tthis.connectionElements.push(query);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.connectionElements.forEach((element) => {\n\t\t\t\tvar dropEvent = (e) => {\n\t\t\t\t\tthis.elementRowDrop(e, element, this.moving);\n\t\t\t\t};\n\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t\t});\n\t\t}\n\t}\n\n\t//disconnect from other tables\n\tdisconnectFromTables(){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStop\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t\t}\n\n\t\tthis.connectionElements.forEach((element) => {\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\t\tdelete element.tabulatorElementDropEvent;\n\t\t});\n\t}\n\n\t//accept incomming connection\n\tconnect(table, row){\n\t\tif(!this.connectedTable){\n\t\t\tthis.connectedTable = table;\n\t\t\tthis.connectedRow = row;\n\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.tableRowDropEvent = this.tableRowDrop.bind(this);\n\n\t\t\tthis.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStart\", row, table);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//close incomming connection\n\tdisconnect(table){\n\t\tif(table === this.connectedTable){\n\t\t\tthis.connectedTable = false;\n\t\t\tthis.connectedRow = false;\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) =>{\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStop\", table);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\")\n\t\t}\n\t}\n\n\tdropComplete(table, row, success){\n\t\tvar sender = false;\n\n\t\tif(success){\n\n\t\t\tswitch(typeof this.table.options.movableRowsSender){\n\t\t\t\tcase \"string\":\n\t\t\t\tsender = this.senders[this.table.options.movableRowsSender];\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(sender){\n\t\t\t\tsender.call(this, this.moving.getComponent(), row ? row.getComponent() : undefined, table)\n\t\t\t}else{\n\t\t\t\tif(this.table.options.movableRowsSender){\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}\n\n\t\tthis.endMove();\n\t}\n\n\ttableRowDrop(e, row){\n\t\tvar receiver = false,\n\t\tsuccess = false;\n\n\t\te.stopImmediatePropagation();\n\n\t\tswitch(typeof this.table.options.movableRowsReceiver){\n\t\t\tcase \"string\":\n\t\t\treceiver = this.receivers[this.table.options.movableRowsReceiver];\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\tbreak;\n\t\t}\n\n\t\tif(receiver){\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable)\n\t\t}else{\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver)\n\t\t}\n\n\t\tif(success){\n\t\t\tthis.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}\n\n\t\tthis.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\t\trow:row,\n\t\t\tsuccess:success,\n\t\t});\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"connect\":\n\t\t\treturn this.connect(table, data.row);\n\t\t\tbreak;\n\n\t\t\tcase \"disconnect\":\n\t\t\treturn this.disconnect(table);\n\t\t\tbreak;\n\n\t\t\tcase \"dropcomplete\":\n\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nMoveRows.prototype.receivers = {\n\tinsert:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\treturn true;\n\t},\n\n\tadd:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData());\n\t\treturn true;\n\t},\n\n\tupdate:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\ttoRow.update(fromRow.getData());\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\treplace:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\t\ttoRow.delete();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n};\n\nMoveRows.prototype.senders = {\n\tdelete:function(fromRow, toRow, toTable){\n\t\tfromRow.delete();\n\t}\n};\n\nMoveRows.moduleName = \"moveRow\";\n\nexport default MoveRows;", "export default {};", "import Module from '../../core/Module.js';\n\nimport defaultMutators from './defaults/mutators.js';\n\nclass Mutator extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"]; //list of muatation types\n\t\tthis.enabled = true;\n\n\t\tthis.registerColumnOption(\"mutator\");\n\t\tthis.registerColumnOption(\"mutatorParams\");\n\t\tthis.registerColumnOption(\"mutatorData\");\n\t\tthis.registerColumnOption(\"mutatorDataParams\");\n\t\tthis.registerColumnOption(\"mutatorEdit\");\n\t\tthis.registerColumnOption(\"mutatorEditParams\");\n\t\tthis.registerColumnOption(\"mutatorClipboard\");\n\t\tthis.registerColumnOption(\"mutatorClipboardParams\");\n\t\tthis.registerColumnOption(\"mutateLink\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-value-changing\", this.transformCell.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.mutateLink.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this));\n\t\tthis.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n\t}\n\n\trowDataChanged(row, tempData, updatedData){\n\t\treturn this.transformRow(tempData, \"data\", updatedData);\n\t}\n\n\t//initialize column mutator\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\tmutator;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\tmutator = this.lookupMutator(column.definition[key]);\n\n\t\t\t\tif(mutator){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\tmutator:mutator,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.mutate = config;\n\t\t}\n\t}\n\n\tlookupMutator(value){\n\t\tvar mutator = false;\n\n\t\t//set column mutator\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\tif(Mutator.mutators[value]){\n\t\t\t\tmutator = Mutator.mutators[value];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tmutator = value;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn mutator;\n\t}\n\n\t//apply mutator to row\n\ttransformRow(data, type, updatedData){\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\tvalue;\n\n\t\tif(this.enabled){\n\n\t\t\tthis.table.columnManager.traverse((column) => {\n\t\t\t\tvar mutator, params, component;\n\n\t\t\t\tif(column.modules.mutate){\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\t\tif(mutator){\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\t\tif(type == \"data\" || typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//apply mutator to new cell value\n\ttransformCell(cell, value){\n\t\tif(cell.column.modules.mutate){\n\t\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t\t\ttempData = {};\n\n\t\t\tif(mutator){\n\t\t\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\t\t\tcell.column.setFieldValue(tempData, value);\n\t\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tmutateLink(cell){\n\t\tvar links = cell.column.definition.mutateLink;\n\n\t\tif(links){\n\t\t\tif(!Array.isArray(links)){\n\t\t\t\tlinks = [links];\n\t\t\t}\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tvar linkCell = cell.row.getCell(link);\n\n\t\t\t\tif(linkCell){\n\t\t\t\t\tlinkCell.setValue(linkCell.getValue(), true, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenable(){\n\t\tthis.enabled = true;\n\t}\n\n\tdisable(){\n\t\tthis.enabled = false;\n\t}\n}\n\nMutator.moduleName = \"mutator\";\n\n//load defaults\nMutator.mutators = defaultMutators;\n\nexport default Mutator;", "export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|rows\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\n\tif(totalRows){\n\t\tvalueEl.innerHTML = \" \" + currentRow + \"-\" + Math.min((currentRow + pageSize - 1), totalRows) + \" \";\n\t\t\n\t\ttotalEl.innerHTML = \" \" + totalRows + \" \";\n\t\t\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(ofEl);\n\t\tel.appendChild(totalEl);\n\t\tel.appendChild(rowsEl);\n\t}else{\n\t\tvalueEl.innerHTML = \" 0 \";\n\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(rowsEl);\n\t}\n\t\n\treturn el;\n};", "export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\n    var el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\t\n\tvalueEl.innerHTML = \" \" + currentPage + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\t\n\ttotalEl.innerHTML = \" \" + totalPages + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|pages\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\t\n\tel.appendChild(showingEl);\n\tel.appendChild(valueEl);\n\tel.appendChild(ofEl);\n\tel.appendChild(totalEl);\n\tel.appendChild(rowsEl);\n\t\n\treturn el;\n};", "import rows from './pageCounters/rows.js';\nimport pages from './pageCounters/pages.js';\n\n\nexport default {\n\trows:rows,\n\tpages:pages,\n};", "import Module from '../../core/Module.js';\n\nimport defaultPageCounters from './defaults/pageCounters.js';\n\nclass Page extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.mode = \"local\";\n\t\tthis.progressiveLoad = false;\n\t\t\n\t\tthis.element = null;\n\t\tthis.pageCounterElement = null;\n\t\tthis.pageCounter = null;\n\t\t\n\t\tthis.size = 0;\n\t\tthis.page = 1;\n\t\tthis.count = 5;\n\t\tthis.max = 1;\n\n\t\tthis.remoteRowCountEstimate = null;\n\t\t\n\t\tthis.displayIndex = 0; //index in display pipeline\n\t\t\n\t\tthis.initialLoad = true;\n\t\tthis.dataChanging = false; //flag to check if data is being changed by this module\n\t\t\n\t\tthis.pageSizes = [];\n\t\t\n\t\tthis.registerTableOption(\"pagination\", false); //set pagination type\n\t\tthis.registerTableOption(\"paginationMode\", \"local\"); //local or remote pagination\n\t\tthis.registerTableOption(\"paginationSize\", false); //set number of rows to a page\n\t\tthis.registerTableOption(\"paginationInitialPage\", 1); //initial page to show on load\n\t\tthis.registerTableOption(\"paginationCounter\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationCounterElement\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationButtonCount\", 5);  // set count of page button\n\t\tthis.registerTableOption(\"paginationSizeSelector\", false); //add pagination size selector element\n\t\tthis.registerTableOption(\"paginationElement\", false); //element to hold pagination numbers\n\t\t// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n\t\t// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\n\t\tthis.registerTableOption(\"paginationAddRow\", \"page\"); //add rows on table or page\n\t\t\n\t\tthis.registerTableOption(\"progressiveLoad\", false); //progressive loading\n\t\tthis.registerTableOption(\"progressiveLoadDelay\", 0); //delay between requests\n\t\tthis.registerTableOption(\"progressiveLoadScrollMargin\", 0); //margin before scroll begins\n\t\t\n\t\tthis.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this));\n\t\tthis.registerTableFunction(\"setPage\", this.setPage.bind(this));\n\t\tthis.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this));\n\t\tthis.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this));\n\t\tthis.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this));\n\t\tthis.registerTableFunction(\"previousPage\", this.previousPage.bind(this));\n\t\tthis.registerTableFunction(\"nextPage\", this.nextPage.bind(this));\n\t\tthis.registerTableFunction(\"getPage\", this.getPage.bind(this));\n\t\tthis.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"footer-redraw\", this.footerRedraw.bind(this));\n\n\t\t\tif(this.table.options.paginationAddRow == \"page\"){\n\t\t\t\tthis.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.paginationMode === \"remote\"){\n\t\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad){\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40);\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 50);\n\t\t\t\n\t\t\tthis.createElements();\n\t\t\tthis.initializePageCounter();\n\t\t\tthis.initializePaginator();\n\t\t}else if(this.table.options.progressiveLoad){\n\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\t\n\t\t\tthis.initializeProgressive(this.table.options.progressiveLoad)\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad === \"scroll\"){\n\t\t\t\tthis.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowAddingPosition(row, top){\n\t\tvar rowManager = this.table.rowManager,\n\t\tdispRows = rowManager.getDisplayRows(),\n\t\tindex;\n\t\t\n\t\tif(top){\n\t\t\tif(dispRows.length){\n\t\t\t\tindex = dispRows[0];\n\t\t\t}else{\n\t\t\t\tif(rowManager.activeRows.length){\n\t\t\t\t\tindex = rowManager.activeRows[rowManager.activeRows.length-1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(dispRows.length){\n\t\t\t\tindex = dispRows[dispRows.length - 1];\n\t\t\t\ttop = dispRows.length < this.size ? false : true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {index, top}\n\t}\n\t\n\tcalculatePageSizes(){\n\t\tvar testElRow, testElCell;\n\t\t\n\t\tif(this.table.options.paginationSize){\n\t\t\tthis.size = this.table.options.paginationSize;\n\t\t}else{\n\t\t\ttestElRow = document.createElement(\"div\");\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\t\ttestElRow.style.visibility = \"hidden\";\n\t\t\t\n\t\t\ttestElCell = document.createElement(\"div\");\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\n\t\t\t\n\t\t\ttestElRow.appendChild(testElCell);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().appendChild(testElRow);\n\t\t\t\n\t\t\tthis.size = Math.floor(this.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().removeChild(testElRow);\n\t\t}\n\n\t\tthis.dispatchExternal(\"pageSizeChanged\", this.size);\n\t\t\n\t\tthis.generatePageSizeSelectList();\n\t}\n\t\n\tinitialLoadComplete(){\n\t\tthis.initialLoad = false;\n\t}\n\t\n\tremotePageParams(data, config, silent, params){\n\t\tif(!this.initialLoad){\n\t\t\tif((this.progressiveLoad && !silent) || (!this.progressiveLoad && !this.dataChanging)){\n\t\t\t\tthis.reset(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//configure request params\n\t\tparams.page = this.page;\n\t\t\n\t\t//set page size if defined\n\t\tif(this.size){\n\t\t\tparams.size = this.size;\n\t\t}\n\t\t\n\t\treturn params;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetPageToRow(row){\n\t\tif(this.table.options.pagination){\n\t\t\trow = this.rowManager.findRow(row);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\treturn this.setPageToRow(row)\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Promise.reject();\n\t}\n\t\n\tuserSetPageSize(size){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.setPageSize(size);\n\t\t\treturn this.setPage(1);\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tscrollVertical(top, dir){\n\t\tvar element, diff, margin;\n\t\tif(!dir && !this.table.dataLoader.loading){\n\t\t\telement = this.table.rowManager.getElement();\n\t\t\tdiff = element.scrollHeight - element.clientHeight - top;\n\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (element.clientHeight * 2);\n\t\t\t\n\t\t\tif(diff < margin){\n\t\t\t\tthis.nextPage()\n\t\t\t\t.catch(() => {}); //consume the exception thrown when on the last page\n\t\t\t}\n\t\t}\n\t}\n\t\n\trestOnRenderBefore(rows, renderInPosition){\n\t\tif(!renderInPosition){\n\t\t\tif(this.mode === \"local\"){\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(){\n\t\tthis.refreshData(true, \"all\");\n\t}\n\t\n\tcreateElements(){\n\t\tvar button;\n\t\t\n\t\tthis.element = document.createElement(\"span\");\n\t\tthis.element.classList.add(\"tabulator-paginator\");\n\t\t\n\t\tthis.pagesElement = document.createElement(\"span\");\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\t\t\n\t\tbutton = document.createElement(\"button\");\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\tbutton.setAttribute(\"aria-label\", \"\");\n\t\tbutton.setAttribute(\"title\", \"\");\n\t\t\n\t\tthis.firstBut = button.cloneNode(true);\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\t\t\n\t\tthis.prevBut = button.cloneNode(true);\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\t\t\n\t\tthis.nextBut = button.cloneNode(true);\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\t\t\n\t\tthis.lastBut = button.cloneNode(true);\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\t\t\n\t\tif(this.table.options.paginationSizeSelector){\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t\t}\n\t}\n\t\n\tgeneratePageSizeSelectList(){\n\t\tvar pageSizes = [];\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t\n\t\t\tif(Array.isArray(this.table.options.paginationSizeSelector)){\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes = [];\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 1; i < 5; i++){\n\t\t\t\t\t\tpageSizes.push(this.size * i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t}else{\n\t\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\twhile(this.pageSizeSelect.firstChild) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t\t\n\t\t\tpageSizes.forEach((item) => {\n\t\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\t\titemEl.value = item;\n\t\t\t\t\n\t\t\t\tif(item === true){\n\t\t\t\t\tthis.langBind(\"pagination|all\", function(value){\n\t\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = item;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.appendChild(itemEl);\n\t\t\t});\n\t\t\t\n\t\t\tthis.pageSizeSelect.value = this.size;\n\t\t}\n\t}\n\t\n\tinitializePageCounter(){\n\t\tvar counter = this.table.options.paginationCounter,\n\t\tpageCounter = null;\n\t\t\n\t\tif(counter){\n\t\t\tif(typeof counter === \"function\"){\n\t\t\t\tpageCounter = counter;\n\t\t\t}else{\n\t\t\t\tpageCounter = Page.pageCounters[counter];\n\t\t\t}\n\t\t\t\n\t\t\tif(pageCounter){\n\t\t\t\tthis.pageCounter = pageCounter;\n\t\t\t\t\n\t\t\t\tthis.pageCounterElement = document.createElement(\"span\");\n\t\t\t\tthis.pageCounterElement.classList.add(\"tabulator-page-counter\");\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Pagination Error - No such page counter found: \", counter);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup pagination\n\tinitializePaginator(hidden){\n\t\tvar pageSelectLabel, paginationCounterHolder;\n\t\t\n\t\tif(!hidden){\n\t\t\t//build pagination element\n\t\t\t\n\t\t\t//bind localizations\n\t\t\tthis.langBind(\"pagination|first\", (value) => {\n\t\t\t\tthis.firstBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|first_title\", (value) => {\n\t\t\t\tthis.firstBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.firstBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev\", (value) => {\n\t\t\t\tthis.prevBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev_title\", (value) => {\n\t\t\t\tthis.prevBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.prevBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next\", (value) => {\n\t\t\t\tthis.nextBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next_title\", (value) => {\n\t\t\t\tthis.nextBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.nextBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last\", (value) => {\n\t\t\t\tthis.lastBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last_title\", (value) => {\n\t\t\t\tthis.lastBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.lastBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\t//click bindings\n\t\t\tthis.firstBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(1)\n\t\t\t});\n\t\t\t\n\t\t\tthis.prevBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.previousPage()\n\t\t\t});\n\t\t\t\n\t\t\tthis.nextBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.nextPage()\n\t\t\t});\n\t\t\t\n\t\t\tthis.lastBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(this.max)\n\t\t\t});\n\t\t\t\n\t\t\tif(this.table.options.paginationElement){\n\t\t\t\tthis.element = this.table.options.paginationElement;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.pageSizeSelect){\n\t\t\t\tpageSelectLabel = document.createElement(\"label\");\n\t\t\t\t\n\t\t\t\tthis.langBind(\"pagination|page_size\", (value) => {\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\t\t\tpageSelectLabel.innerHTML = value;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.element.appendChild(pageSelectLabel);\n\t\t\t\tthis.element.appendChild(this.pageSizeSelect);\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.addEventListener(\"change\", (e) => {\n\t\t\t\t\tthis.setPageSize(this.pageSizeSelect.value == \"true\" ? true : this.pageSizeSelect.value);\n\t\t\t\t\tthis.setPage(1)\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//append to DOM\n\t\t\tthis.element.appendChild(this.firstBut);\n\t\t\tthis.element.appendChild(this.prevBut);\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t\tthis.element.appendChild(this.nextBut);\n\t\t\tthis.element.appendChild(this.lastBut);\n\t\t\t\n\t\t\tif(!this.table.options.paginationElement && !hidden){\n\t\t\t\tif(this.table.options.paginationCounter){\n\n\t\t\t\t\tpaginationCounterHolder \n\n\t\t\t\t\tif(this.table.options.paginationCounterElement){\n\t\t\t\t\t\tif(this.table.options.paginationCounterElement instanceof HTMLElement){\n\t\t\t\t\t\t\tthis.table.options.paginationCounterElement.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t}else if(typeof this.table.options.paginationCounterElement === \"string\"){\n\t\t\t\t\t\t\tpaginationCounterHolder = document.querySelector(this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(paginationCounterHolder){\n\t\t\t\t\t\t\t\tpaginationCounterHolder.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.footerAppend(this.pageCounterElement);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.footerAppend(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.page = this.table.options.paginationInitialPage;\n\t\t\tthis.count = this.table.options.paginationButtonCount;\n\t\t}\n\t\t\n\t\t//set default values\n\t\tthis.mode = this.table.options.paginationMode;\n\t}\n\t\n\tinitializeProgressive(mode){\n\t\tthis.initializePaginator(true);\n\t\tthis.mode = \"progressive_\" + mode;\n\t\tthis.progressiveLoad = true;\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"page-changed\");\n\t}\n\t\n\tsetDisplayIndex(index){\n\t\tthis.displayIndex = index;\n\t}\n\t\n\tgetDisplayIndex(){\n\t\treturn this.displayIndex;\n\t}\n\t\n\t//calculate maximum page from number of rows\n\tsetMaxRows(rowCount){\n\t\tif(!rowCount){\n\t\t\tthis.max = 1;\n\t\t}else{\n\t\t\tthis.max = this.size === true ?  1 : Math.ceil(rowCount/this.size);\n\t\t}\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t}\n\t}\n\t\n\t//reset to first page without triggering action\n\treset(force){\n\t\tif(!this.initialLoad){\n\t\t\tif(this.mode == \"local\" || force){\n\t\t\t\tthis.page = 1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//set the maximum page\n\tsetMaxPage(max){\n\t\t\n\t\tmax = parseInt(max);\n\t\t\n\t\tthis.max = max || 1;\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t\tthis.trigger();\n\t\t}\n\t}\n\t\n\t//set current page number\n\tsetPage(page){\n\t\tswitch(page){\n\t\t\tcase \"first\":\n\t\t\treturn this.setPage(1);\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"prev\":\n\t\t\treturn this.previousPage();\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"next\":\n\t\t\treturn this.nextPage();\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"last\":\n\t\t\treturn this.setPage(this.max);\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tpage = parseInt(page);\n\t\t\n\t\tif((page > 0 && page <= this.max) || this.mode !== \"local\"){\n\t\t\tthis.page = page;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", page);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageToRow(row){\n\t\tvar rows = this.table.rowManager.getDisplayRows(this.displayIndex - 1);\n\t\tvar index = rows.indexOf(row);\n\t\t\n\t\tif(index > -1){\n\t\t\tvar page = this.size === true ? 1 : Math.ceil((index + 1) / this.size);\n\t\t\t\n\t\t\treturn this.setPage(page)\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageSize(size){\n\t\tif(size !== true){\n\t\t\tsize = parseInt(size);\n\t\t}\n\n\t\tif(size > 0){\n\t\t\tthis.size = size;\n\t\t\tthis.dispatchExternal(\"pageSizeChanged\", size);\n\t\t}\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t// this.pageSizeSelect.value = size;\n\t\t\tthis.generatePageSizeSelectList();\n\t\t}\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\t_setPageCounter(totalRows, size, currentRow){\n\t\tvar content;\n\t\t\n\t\tif(this.pageCounter){\n\n\t\t\tif(this.mode === \"remote\"){\n\t\t\t\tsize = this.size;\n\t\t\t\tcurrentRow = ((this.page - 1) * this.size) + 1;\n\t\t\t\ttotalRows = this.remoteRowCountEstimate;\n\t\t\t}\n\n\t\t\tcontent = this.pageCounter.call(this, size, currentRow, this.page, totalRows, this.max);\n\t\t\t\n\t\t\tswitch(typeof content){\n\t\t\t\tcase \"object\":\n\t\t\t\tif(content instanceof Node){\n\t\t\t\t\t\n\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\twhile(this.pageCounterElement.firstChild) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n\t\t\t\t\t\n\t\t\t\t\tthis.pageCounterElement.appendChild(content);\n\t\t\t\t}else{\n\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\t\n\t\t\t\t\tif(content != null){\n\t\t\t\t\t\tconsole.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", content);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\tcase \"null\":\n\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\tthis.pageCounterElement.innerHTML = content;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup the pagination buttons\n\t_setPageButtons(){\n\t\tlet leftSize = Math.floor((this.count-1) / 2);\n\t\tlet rightSize = Math.ceil((this.count-1) / 2);\n\t\tlet min = this.max - this.page + leftSize + 1 < this.count ? this.max-this.count+1: Math.max(this.page-leftSize,1);\n\t\tlet max = this.page <= rightSize? Math.min(this.count, this.max) :Math.min(this.page+rightSize, this.max);\n\t\t\n\t\twhile(this.pagesElement.firstChild) this.pagesElement.removeChild(this.pagesElement.firstChild);\n\t\t\n\t\tif(this.page == 1){\n\t\t\tthis.firstBut.disabled = true;\n\t\t\tthis.prevBut.disabled = true;\n\t\t}else{\n\t\t\tthis.firstBut.disabled = false;\n\t\t\tthis.prevBut.disabled = false;\n\t\t}\n\t\t\n\t\tif(this.page == this.max){\n\t\t\tthis.lastBut.disabled = true;\n\t\t\tthis.nextBut.disabled = true;\n\t\t}else{\n\t\t\tthis.lastBut.disabled = false;\n\t\t\tthis.nextBut.disabled = false;\n\t\t}\n\t\t\n\t\tfor(let i = min; i <= max; i++){\n\t\t\tif(i>0 && i <= this.max){\n\t\t\t\tthis.pagesElement.appendChild(this._generatePageButton(i));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.footerRedraw();\n\t}\n\t\n\t_generatePageButton(page){\n\t\tvar button = document.createElement(\"button\");\n\t\t\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tif(page == this.page){\n\t\t\tbutton.classList.add(\"active\");\n\t\t}\n\t\t\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\t\n\t\tthis.langBind(\"pagination|page_title\", (value) => {\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t\t});\n\t\t\n\t\tbutton.setAttribute(\"data-page\", page);\n\t\tbutton.textContent = page;\n\t\t\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\tthis.setPage(page)\n\t\t});\n\t\t\n\t\treturn button;\n\t}\n\t\n\t//previous page\n\tpreviousPage(){\n\t\tif(this.page > 1){\n\t\t\tthis.page--;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger()\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//next page\n\tnextPage(){\n\t\tif(this.page < this.max){\n\t\t\tthis.page++;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else{\n\t\t\tif(!this.progressiveLoad){\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1);\n\t\t\t}\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//return current page number\n\tgetPage(){\n\t\treturn this.page;\n\t}\n\t\n\t//return max page number\n\tgetPageMax(){\n\t\treturn this.max;\n\t}\n\t\n\tgetPageSize(size){\n\t\treturn this.size;\n\t}\n\t\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\t\n\t//return appropriate rows for current page\n\tgetRows(data){\n\t\tvar actualRowPageSize = 0,\n\t\toutput, start, end, actualStartRow;\n\n\t\tvar actualRows = data.filter((row) => {\n\t\t\treturn row.type === \"row\";\n\t\t});\n\t\t\n\t\tif(this.mode == \"local\"){\n\t\t\toutput = [];\n\t\t\t\n\t\t\tthis.setMaxRows(data.length);\n\t\t\t\n\t\t\tif(this.size === true){\n\t\t\t\tstart = 0;\n\t\t\t\tend = data.length;\n\t\t\t}else{\n\t\t\t\tstart = this.size * (this.page - 1);\n\t\t\t\tend = start + parseInt(this.size);\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageButtons();\n\t\t\t\n\t\t\tfor(let i = start; i < end; i++){\n\t\t\t\tlet row = data[i];\n\n\t\t\t\tif(row){\n\t\t\t\t\toutput.push(row);\n\n\t\t\t\t\tif(row.type === \"row\"){\n\t\t\t\t\t\tif(!actualStartRow){\n\t\t\t\t\t\t\tactualStartRow = row;\n\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\tactualRowPageSize++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageCounter(actualRows.length, actualRowPageSize, actualStartRow ? (actualRows.indexOf(actualStartRow) + 1) : 0);\n\t\t\t\n\t\t\treturn output;\n\t\t}else{\n\t\t\tthis._setPageButtons();\n\t\t\tthis._setPageCounter(actualRows.length);\n\t\t\t\n\t\t\treturn data.slice(0);\n\t\t}\n\t}\n\t\n\ttrigger(){\n\t\tvar left;\n\t\t\n\t\tswitch(this.mode){\n\t\t\tcase \"local\":\n\t\t\tleft = this.table.rowManager.scrollLeft;\n\t\t\t\n\t\t\tthis.refreshData();\n\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\n\t\t\tthis.dispatchExternal(\"pageLoaded\", this.getPage());\n\t\t\t\n\t\t\treturn Promise.resolve();\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"remote\":\n\t\t\tthis.dataChanging = true;\n\t\t\treturn this.reloadData(null)\n\t\t\t.finally(() => {\n\t\t\t\tthis.dataChanging = false;\n\t\t\t})\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\treturn this.reloadData(null, true);\n\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", this.mode);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t_parseRemoteData(data){\n\t\tvar left, data, margin;\n\t\t\n\t\tif(typeof data.last_page === \"undefined\"){\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\");\n\t\t}\n\t\t\n\t\tif(data.data){\n\t\t\tthis.max = parseInt(data.last_page) || 1;\n\n\t\t\tthis.remoteRowCountEstimate = typeof data.last_row !== \"undefined\" ? data.last_row : (data.last_page * this.size - (this.page == data.last_page ? (this.size - data.data.length) : 0));\n\t\t\t\n\t\t\tif(this.progressiveLoad){\n\t\t\t\tswitch(this.mode){\n\t\t\t\t\tcase \"progressive_load\":\n\t\t\t\t\t\n\t\t\t\t\tif(this.page == 1){\n\t\t\t\t\t\tthis.table.rowManager.setData(data.data, false, this.page == 1)\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.table.rowManager.addRows(data.data);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t}, this.table.options.progressiveLoadDelay);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\tdata = this.page === 1 ? data.data : this.table.rowManager.getData().concat(data.data);\n\t\t\t\t\t\n\t\t\t\t\tthis.table.rowManager.setData(data, this.page !== 1, this.page == 1);\n\t\t\t\t\t\n\t\t\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (this.table.rowManager.element.clientHeight * 2);\n\t\t\t\t\t\n\t\t\t\t\tif(this.table.rowManager.element.scrollHeight <= (this.table.rowManager.element.clientHeight + margin)){\n\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\t// left = this.table.rowManager.scrollLeft;\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\",  this.getPage());\n\t\t\t\t// this.table.rowManager.scrollHorizontal(left);\n\t\t\t\t// this.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n\t\t}\n\t\t\n\t\treturn data.data;\n\t}\n\t\n\t//handle the footer element being redrawn\n\tfooterRedraw(){\n\t\tvar footer = this.table.footerManager.containerElement;\n\n\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}else{\n\t\t\tthis.pagesElement.style.display = '';\n\t\t\t\n\t\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\t\tthis.pagesElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n}\n\nPage.moduleName = \"page\";\n\n//load defaults\nPage.pageCounters = defaultPageCounters;\n\nexport default Page;", "// read peristence information from storage\nexport default {\n\tlocal:function(id, type){\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie:function(id, type){\n\t\tvar cookie = document.cookie,\n\t\tkey = id + \"-\" + type,\n\t\tcookiePos = cookie.indexOf(key + \"=\"),\n\t\tend, data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif(cookiePos > -1){\n\t\t\tcookie = cookie.slice(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif(end > -1){\n\t\t\t\tcookie = cookie.slice(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n", "//write persistence information to storage\nexport default {\n\tlocal:function(id, type, data){\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie:function(id, type, data){\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};", "import Module from '../../core/Module.js';\n\nimport defaultReaders from './defaults/readers.js';\nimport defaultWriters from './defaults/writers.js';\n\nclass Persistence extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = \"\";\n\t\tthis.id = \"\";\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\t\tthis.defWatcherBlock = false;\n\t\tthis.config = {};\n\t\tthis.readFunc = false;\n\t\tthis.writeFunc = false;\n\n\t\tthis.registerTableOption(\"persistence\", false);\n\t\tthis.registerTableOption(\"persistenceID\", \"\"); //key for persistent storage\n\t\tthis.registerTableOption(\"persistenceMode\", true); //mode for storing persistence information\n\t\tthis.registerTableOption(\"persistenceReaderFunc\", false); //function for handling persistence data reading\n\t\tthis.registerTableOption(\"persistenceWriterFunc\", false); //function for handling persistence data writing\n\t}\n\n\t// Test for whether localStorage is available for use.\n\tlocalStorageTest() {\n\t\tvar  testKey =  \"_tabulator_test\";\n\n\t\ttry {\n\t\t\twindow.localStorage.setItem( testKey, testKey);\n\t\t\twindow.localStorage.removeItem( testKey );\n\t\t\treturn true;\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//setup parameters\n\tinitialize(){\n\t\tif(this.table.options.persistence){\n\t\t\t//determine persistent layout storage type\n\t\t\tvar mode = this.table.options.persistenceMode,\n\t\t\tid = this.table.options.persistenceID,\n\t\t\tretreivedData;\n\n\t\t\tthis.mode = mode !== true ?  mode : (this.localStorageTest() ? \"local\" : \"cookie\");\n\n\t\t\tif(this.table.options.persistenceReaderFunc){\n\t\t\t\tif(typeof this.table.options.persistenceReaderFunc === \"function\"){\n\t\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.readers[this.table.options.persistenceReaderFunc]){\n\t\t\t\t\t\tthis.readFunc = Persistence.readers[this.table.options.persistenceReaderFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.readers[this.mode]){\n\t\t\t\t\tthis.readFunc = Persistence.readers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.table.options.persistenceWriterFunc){\n\t\t\t\tif(typeof this.table.options.persistenceWriterFunc === \"function\"){\n\t\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.writers[this.table.options.persistenceWriterFunc]){\n\t\t\t\t\t\tthis.writeFunc = Persistence.writers[this.table.options.persistenceWriterFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.writers[this.mode]){\n\t\t\t\t\tthis.writeFunc = Persistence.writers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set storage tag\n\t\t\tthis.id = \"tabulator-\" + (id || (this.table.element.getAttribute(\"id\") || \"\"));\n\n\t\t\tthis.config = {\n\t\t\t\tsort:this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\t\t\tfilter:this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\t\t\tgroup:this.table.options.persistence === true || this.table.options.persistence.group,\n\t\t\t\tpage:this.table.options.persistence === true || this.table.options.persistence.page,\n\t\t\t\tcolumns:this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns,\n\t\t\t};\n\n\t\t\t//load pagination data if needed\n\t\t\tif(this.config.page){\n\t\t\t\tretreivedData = this.retreiveData(\"page\");\n\n\t\t\t\tif(retreivedData){\n\t\t\t\t\tif(typeof retreivedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)){\n\t\t\t\t\t\tthis.table.options.paginationSize = retreivedData.paginationSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof retreivedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)){\n\t\t\t\t\t\tthis.table.options.paginationInitialPage = retreivedData.paginationInitialPage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//load group data if needed\n\t\t\tif(this.config.group){\n\t\t\t\tretreivedData = this.retreiveData(\"group\");\n\n\t\t\t\tif(retreivedData){\n\t\t\t\t\tif(typeof retreivedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)){\n\t\t\t\t\t\tthis.table.options.groupBy = retreivedData.groupBy;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retreivedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)){\n\t\t\t\t\t\tthis.table.options.groupStartOpen = retreivedData.groupStartOpen;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retreivedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)){\n\t\t\t\t\t\tthis.table.options.groupHeader = retreivedData.groupHeader;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.config.columns){\n\t\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\n\t\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\t\tthis.subscribe(\"column-show\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-hide\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-moved\", this.save.bind(this, \"columns\"));\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this), 0);\n\n\t\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\"));\n\t\t\tthis.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\"));\n\t\t\tthis.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\"));\n\t\t\tthis.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\"));\n\t\t\tthis.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n\t\t}\n\n\t\tthis.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this));\n\t\tthis.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n\t}\n\n\teventSave(type){\n\t\tif(this.config[type]){\n\t\t\tthis.save(type);\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tvar options = this.table.options,\n\t\tsorters, filters;\n\n\t\tif(this.config.sort){\n\t\t\tsorters = this.load(\"sort\");\n\n\t\t\tif(!sorters === false){\n\t\t\t\tthis.table.options.initialSort = sorters;\n\t\t\t}\n\t\t}\n\n\t\tif(this.config.filter){\n\t\t\tfilters = this.load(\"filter\");\n\n\t\t\tif(!filters === false){\n\t\t\t\tthis.table.options.initialFilter = filters;\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif(force && this.config.columns){\n\t\t\tthis.save(\"columns\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tgetColumnLayout(){\n\t\treturn this.parseColumns(this.table.columnManager.getColumns());\n\t}\n\n\tsetColumnLayout(layout){\n\t\tthis.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, layout))\n\t\treturn true;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumn(column){\n\t\tvar def, keys;\n\n\t\tif(this.config.columns){\n\t\t\tthis.defWatcherBlock = true;\n\n\t\t\tdef = column.getDefinition();\n\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\t\tkeys.forEach((key)=>{\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\t\tvar value = def[key];\n\t\t\t\tif(props){\n\t\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\t\tset: function(newValue){\n\t\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\t\tif(!this.defWatcherBlock){\n\t\t\t\t\t\t\t\tthis.save(\"columns\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(props.set){\n\t\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget:function(){\n\t\t\t\t\t\t\tif(props.get){\n\t\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.defWatcherBlock = false;\n\t\t}\n\t}\n\n\t//load saved definitions\n\tload(type, current){\n\t\tvar data = this.retreiveData(type);\n\n\t\tif(current){\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//retreive data from memory\n\tretreiveData(type){\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n\t}\n\n\t//merge old and new column definitions\n\tmergeDefinition(oldCols, newCols){\n\t\tvar output = [];\n\n\t\tnewCols = newCols || [];\n\n\t\tnewCols.forEach((column, to) => {\n\t\t\tvar from = this._findColumn(oldCols, column),\n\t\t\tkeys;\n\n\t\t\tif(from){\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(from);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tif(key !== \"columns\" && typeof column[key] !== \"undefined\"){\n\t\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(from.columns){\n\t\t\t\t\tfrom.columns = this.mergeDefinition(from.columns, column.columns);\n\t\t\t\t}\n\n\t\t\t\toutput.push(from);\n\t\t\t}\n\t\t});\n\n\t\toldCols.forEach((column, i) => {\n\t\t\tvar from = this._findColumn(newCols, column);\n\n\t\t\tif (!from) {\n\t\t\t\tif(output.length>i){\n\t\t\t\t\toutput.splice(i, 0, column);\n\t\t\t\t}else{\n\t\t\t\t\toutput.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//find matching columns\n\t_findColumn(columns, subject){\n\t\tvar type = subject.columns ? \"group\" : (subject.field ? \"field\" : \"object\");\n\n\t\treturn columns.find(function(col){\n\t\t\tswitch(type){\n\t\t\t\tcase \"group\":\n\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"field\":\n\t\t\t\treturn col.field === subject.field;\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"object\":\n\t\t\t\treturn col === subject;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}\n\n\t//save data\n\tsave(type){\n\t\tvar data = {};\n\n\t\tswitch(type){\n\t\t\tcase \"columns\":\n\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns())\n\t\t\tbreak;\n\n\t\t\tcase \"filter\":\n\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\tbreak;\n\n\t\t\tcase \"sort\":\n\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\tdata = this.getGroupConfig();\n\t\t\tbreak;\n\n\t\t\tcase \"page\":\n\t\t\tdata = this.getPageConfig();\n\t\t\tbreak;\n\t\t}\n\n\t\tif(this.writeFunc){\n\t\t\tthis.writeFunc(this.id, type, data);\n\t\t}\n\n\t}\n\n\t//ensure sorters contain no function data\n\tvalidateSorters(data){\n\t\tdata.forEach(function(item){\n\t\t\titem.column = item.field;\n\t\t\tdelete item.field;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tgetGroupConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.group){\n\t\t\tif(this.config.group === true || this.config.group.groupBy){\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupStartOpen){\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupHeader){\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetPageConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.page){\n\t\t\tif(this.config.page === true || this.config.page.size){\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t\t}\n\n\t\t\tif(this.config.page === true || this.config.page.page){\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\n\t//parse columns for data to store\n\tparseColumns(columns){\n\t\tvar definitions = [],\n\t\texcludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar defStore = {},\n\t\t\tcolDef = column.getDefinition(),\n\t\t\tkeys;\n\n\t\t\tif(column.isGroup){\n\t\t\t\tdefStore.title = colDef.title;\n\t\t\t\tdefStore.columns = this.parseColumns(column.getColumns());\n\t\t\t}else{\n\t\t\t\tdefStore.field = column.getField();\n\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(colDef);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t\tkeys.push(\"visible\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tswitch(key){\n\t\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1){\n\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdefinitions.push(defStore);\n\t\t});\n\n\t\treturn definitions;\n\t}\n}\n\nPersistence.moduleName = \"persistence\";\n\nPersistence.moduleInitOrder = -10;\n\n//load defaults\nPersistence.readers = defaultReaders;\nPersistence.writers = defaultWriters;\n\nexport default Persistence;", "import Module from '../../core/Module.js';\n\nclass Popup extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"rowContextPopup\", false);\n\t\tthis.registerTableOption(\"rowClickPopup\", false);\n\t\tthis.registerTableOption(\"groupContextPopup\", false);\n\t\tthis.registerTableOption(\"groupClickPopup\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextPopup\");\n\t\tthis.registerColumnOption(\"headerClickPopup\");\n\t\tthis.registerColumnOption(\"headerPopup\");\n\t\tthis.registerColumnOption(\"headerPopupIcon\");\n\t\tthis.registerColumnOption(\"contextPopup\");\n\t\tthis.registerColumnOption(\"clickPopup\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextPopup){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickPopup){\n\t\t\tthis.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextPopup){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickPopup){\n\t\t\tthis.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar options = [\"headerContextPopup\", \"headerClickPopup\"],\n\t\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextPopup && !this.columnSubscribers.headerContextPopup){\n\t\t\tthis.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"))\n\t\t}\n\t\t\n\t\tif(def.headerClickPopup && !this.columnSubscribers.headerClickPopup){\n\t\t\tthis.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup);\n\t\t}\n\t\t\n\t\tif(def.headerPopup){\n\t\t\tthis.initializeColumnHeaderPopup(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextPopup && !this.columnSubscribers.contextPopup){\n\t\t\tthis.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"))\n\t\t}\n\t\t\n\t\tif(def.clickPopup && !this.columnSubscribers.clickPopup){\n\t\t\tthis.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickPopup);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderPopup(column){\n\t\tvar icon = column.definition.headerPopupIcon,\n\t\theaderPopupEl;\n\t\t\n\t\theaderPopupEl = document.createElement(\"span\");\n\t\theaderPopupEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderPopupEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderPopupEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderPopupEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderPopupEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadPopupEvent(column.definition.headerPopup, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerPopupEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadPopupTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadPopupEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadPopupTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadPopupEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadPopupEvent(contents, e, component){\n\t\tvar renderedCallback;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tcontents = typeof contents == \"function\" ? contents.call(this.table, e, component.getComponent(),  onRendered) : contents;\n\t\t\n\t\tthis.loadPopup(e, component, contents, renderedCallback);\n\t}\n\t\n\tloadPopup(e, component, contents, renderedCallback){\n\t\tvar touch = !(e instanceof MouseEvent),\n\t\tcontentsEl, popup;\n\t\t\n\t\tif(contents instanceof HTMLElement){\n\t\t\tcontentsEl = contents;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\tcontentsEl.innerHTML = contents;\n\t\t}\n\t\t\n\t\tcontentsEl.classList.add(\"tabulator-popup\");\n\n\t\tcontentsEl.addEventListener(\"click\", (e) =>{\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tpopup = this.popup(contentsEl);\n\n\t\tif(typeof renderedCallback === \"function\"){\n\t\t\tpopup.renderCallback(renderedCallback);\n\t\t}\n\t\t\n\t\tpopup.show(e).hideOnBlur(() => {\n\t\t\tthis.dispatchExternal(\"popupClosed\", component.getComponent());\n\t\t});\n\n\n\n\t\tthis.dispatchExternal(\"popupOpened\", component.getComponent())\n\t}\n}\n\nPopup.moduleName = \"popup\";\n\nexport default Popup;\n", "import Module from '../../core/Module.js';\n\nclass Print extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = false;\n\t\tthis.manualBlock = false;\n\n\t\tthis.registerTableOption(\"printAsHtml\", false); //enable print as html\n\t\tthis.registerTableOption(\"printFormatter\", false); //printing page formatter\n\t\tthis.registerTableOption(\"printHeader\", false); //page header contents\n\t\tthis.registerTableOption(\"printFooter\", false); //page footer contents\n\t\tthis.registerTableOption(\"printStyled\", true); //enable print as html styling\n\t\tthis.registerTableOption(\"printRowRange\", \"visible\"); //restrict print to visible rows only\n\t\tthis.registerTableOption(\"printConfig\", {}); //print config options\n\n\t\tthis.registerColumnOption(\"print\");\n\t\tthis.registerColumnOption(\"titlePrint\");\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\twindow.addEventListener(\"beforeprint\", this.replaceTable.bind(this));\n\t\t\twindow.addEventListener(\"afterprint\", this.cleanup.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\treplaceTable(){\n\t\tif(!this.manualBlock){\n\t\t\tthis.element = document.createElement(\"div\");\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\t\tthis.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\t\tthis.table.element.style.display = \"none\";\n\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t\t}\n\t}\n\n\tcleanup(){\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\t\tif(this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\tthis.table.element.style.display = \"\";\n\t\t}\n\t}\n\n\tprintFullscreen(visible, style, config){\n\t\tvar scrollX = window.scrollX,\n\t\tscrollY = window.scrollY,\n\t\theaderEl = document.createElement(\"div\"),\n\t\tfooterEl = document.createElement(\"div\"),\n\t\ttableEl = this.table.modules.export.genereateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible || this.table.options.printRowRange, \"print\"),\n\t\theaderContent, footerContent;\n\n\t\tthis.manualBlock = true;\n\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\t\tif(this.table.options.printHeader){\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\t\tif(typeof headerContent == \"string\"){\n\t\t\t\theaderEl.innerHTML = headerContent;\n\t\t\t}else{\n\t\t\t\theaderEl.appendChild(headerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(headerEl);\n\t\t}\n\n\t\tthis.element.appendChild(tableEl);\n\n\t\tif(this.table.options.printFooter){\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\n\t\t\tif(typeof footerContent == \"string\"){\n\t\t\t\tfooterEl.innerHTML = footerContent;\n\t\t\t}else{\n\t\t\t\tfooterEl.appendChild(footerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(footerEl);\n\t\t}\n\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\t\tdocument.body.appendChild(this.element);\n\n\t\tif(this.table.options.printFormatter){\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t\t}\n\n\t\twindow.print();\n\n\t\tthis.cleanup();\n\n\t\twindow.scrollTo(scrollX, scrollY);\n\n\t\tthis.manualBlock = false;\n\t}\n}\n\nPrint.moduleName = \"print\";\n\nexport default Print;", "import Module from '../../core/Module.js';\n\nclass ReactiveData extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.data = false;\n\t\tthis.blocked = false; //block reactivity while performing update\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\t\tthis.currentVersion = 0;\n\n\t\tthis.registerTableOption(\"reactiveData\", false); //enable data reactivity\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.reactiveData){\n\t\t\tthis.subscribe(\"cell-value-save-before\", this.block.bind(this));\n\t\t\tthis.subscribe(\"cell-value-save-after\", this.unblock.bind(this));\n\t\t\tthis.subscribe(\"row-data-save-before\", this.block.bind(this));\n\t\t\tthis.subscribe(\"row-data-save-after\", this.unblock.bind(this));\n\t\t\tthis.subscribe(\"row-data-init-after\", this.watchRow.bind(this));\n\t\t\tthis.subscribe(\"data-processing\", this.watchData.bind(this));\n\t\t\tthis.subscribe(\"table-destroy\", this.unwatchData.bind(this));\n\t\t}\n\t}\n\n\twatchData(data){\n\t\tvar self = this,\n\t\tpushFunc, version;\n\n\t\tthis.currentVersion ++;\n\n\t\tversion = this.currentVersion;\n\n\t\tthis.unwatchData();\n\n\t\tthis.data = data;\n\n\t\t//override array push function\n\t\tthis.origFuncs.push = data.push;\n\n\t\tObject.defineProperty(this.data, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments);\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn self.origFuncs.push.apply(data, arguments);\n\t\t\t}\n\t\t});\n\n\t\t//override array unshift function\n\t\tthis.origFuncs.unshift = data.unshift;\n\n\t\tObject.defineProperty(this.data, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments);\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn self.origFuncs.unshift.apply(data, arguments);\n\t\t\t}\n\t\t});\n\n\n\t\t//override array shift function\n\t\tthis.origFuncs.shift = data.shift;\n\n\t\tObject.defineProperty(this.data, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self.origFuncs.shift.call(data);\n\t\t\t}\n\t\t});\n\n\t\t//override array pop function\n\t\tthis.origFuncs.pop = data.pop;\n\n\t\tObject.defineProperty(this.data, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row;\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn self.origFuncs.pop.call(data);\n\t\t\t}\n\t\t});\n\n\n\t\t//override array splice function\n\t\tthis.origFuncs.splice = data.splice;\n\n\t\tObject.defineProperty(this.data, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tstart = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t\tend = args[1],\n\t\t\t\tnewRows = args[2] ? args.slice(2) : false,\n\t\t\t\tstartRow;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\n\t\t\t\t\t//add new rows\n\t\t\t\t\tif(newRows){\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\n\t\t\t\t\t\tif(startRow){\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t//delete removed rows\n\t\t\t\t\tif(end !== 0){\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\n\t\t\t\t\t\toldRows.forEach((rowData, i) => {\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\n\t\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif(newRows || end !== 0){\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn self.origFuncs.splice.apply(data, arguments);\n\t\t\t}\n\t\t});\n\t}\n\n\tunwatchData(){\n\t\tif(this.data !== false){\n\t\t\tfor(var key in this.origFuncs){\n\t\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable:true,\n\t\t\t\t\twritable:true,\n\t\t\t\t\tvalue: this.origFuncs.key,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\twatchRow(row){\n\t\tvar data = row.getData();\n\n\t\tthis.blocked = true;\n\n\t\tfor(var key in data){\n\t\t\tthis.watchKey(row, data, key);\n\t\t}\n\n\t\tif(this.table.options.dataTree){\n\t\t\tthis.watchTreeChildren(row);\n\t\t}\n\n\t\tthis.blocked = false;\n\t}\n\n\twatchTreeChildren (row){\n\t\tvar childField = row.getData()[this.table.options.dataTreeChildField],\n\t\torigFuncs = {};\n\n\t\tfunction rebuildTree(){\n\t\t\tthis.table.modules.dataTree.initializeRow(row);\n\t\t\tthis.table.modules.dataTree.layoutRow(row);\n\t\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t\t}\n\n\t\tif(childField){\n\n\t\t\torigFuncs.push = childField.push;\n\n\t\t\tObject.defineProperty(childField, \"push\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\n\t\t\t\t\trebuildTree();\n\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\torigFuncs.unshift = childField.unshift;\n\n\t\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tvar result =  origFuncs.unshift.apply(childField, arguments);\n\n\t\t\t\t\trebuildTree();\n\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\torigFuncs.shift = childField.shift;\n\n\t\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tvar result =  origFuncs.shift.call(childField);\n\n\t\t\t\t\trebuildTree();\n\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\torigFuncs.pop = childField.pop;\n\n\t\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tvar result =  origFuncs.pop.call(childField);\n\n\t\t\t\t\trebuildTree();\n\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\torigFuncs.splice = childField.splice;\n\n\t\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tvar result =  origFuncs.splice.apply(childField, arguments);\n\n\t\t\t\t\trebuildTree();\n\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\twatchKey(row, data, key){\n\t\tvar props = Object.getOwnPropertyDescriptor(data, key),\n\t\tvalue = data[key],\n\t\tversion = this.currentVersion;\n\n\t\tObject.defineProperty(data, key, {\n\t\t\tset: (newValue) => {\n\t\t\t\tvalue = newValue;\n\t\t\t\tif(!this.blocked && version === this.currentVersion){\n\t\t\t\t\tvar update = {};\n\t\t\t\t\tupdate[key] = newValue;\n\t\t\t\t\trow.updateData(update);\n\t\t\t\t}\n\n\t\t\t\tif(props.set){\n\t\t\t\t\tprops.set(newValue);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget:() => {\n\n\t\t\t\tif(props.get){\n\t\t\t\t\tprops.get();\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t}\n\n\tunwatchRow(row){\n\t\tvar data = row.getData();\n\n\t\tfor(var key in data){\n\t\t\tObject.defineProperty(data, key, {\n\t\t\t\tvalue:data[key],\n\t\t\t});\n\t\t}\n\t}\n\n\tblock(){\n\t\tthis.blocked = true;\n\t}\n\n\tunblock(){\n\t\tthis.blocked = false;\n\t}\n}\n\nReactiveData.moduleName = \"reactiveData\";\n\nexport default ReactiveData;\n\n\n\n", "import Module from '../../core/Module.js';\n\nclass ResizeColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.startColumn = false;\n\t\tthis.startX = false;\n\t\tthis.startWidth = false;\n\t\tthis.latestX = false;\n\t\tthis.handle = null;\n\t\tthis.initialNextColumn = null;\n\t\tthis.nextColumn = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.registerColumnOption(\"resizable\", true);\n\t\tthis.registerTableOption(\"resizableColumnFit\", false);\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n\t}\n\t\n\tinitializeEventWatchers(){\n\t\tif(!this.initialized){\n\t\t\t\n\t\t\tthis.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"cell-height\", this.resizeHandle.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-hide\", this.deInitializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this));\n\t\t\tthis.subscribe(\"column-width\", this.columnWidthUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-delete\", this.deInitializeComponent.bind(this));\n\t\t\tthis.subscribe(\"column-height\", this.resizeHandle.bind(this));\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t\n\tlayoutCellHandles(cell){\n\t\tif(cell.row.type === \"row\"){\n\t\t\tthis.deInitializeComponent(cell);\n\t\t\tthis.initializeColumn(\"cell\", cell, cell.column, cell.element);\n\t\t}\n\t}\n\t\n\tlayoutColumnHeader(column){\n\t\tif(column.definition.resizable){\n\t\t\tthis.initializeEventWatchers();\n\t\t\tthis.deInitializeComponent(column);\n\t\t\tthis.initializeColumn(\"header\", column, column, column.element);\n\t\t}\n\t}\n\t\n\tcolumnLayoutUpdated(column){\n\t\tvar prev = column.prevColumn();\n\t\t\n\t\tthis.reinitializeColumn(column);\n\t\t\n\t\tif(prev){\n\t\t\tthis.reinitializeColumn(prev);\n\t\t}\n\t}\n\t\n\tcolumnWidthUpdated(column){\n\t\tif(column.modules.frozen){\n\t\t\tif(this.table.modules.frozenColumns.leftColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitializeColumn(column){\n\t\tvar frozenOffset = column.modules.frozen ? (column.modules.frozen.marginValue + column.getWidth() + \"px\") : false;\n\t\t;\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(cell.modules.resize && cell.modules.resize.handleEl){\n\t\t\t\tif(frozenOffset){\n\t\t\t\t\tcell.modules.resize.handleEl.style.left = frozenOffset;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.element.after(cell.modules.resize.handleEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(column.modules.resize && column.modules.resize.handleEl){\n\t\t\tif(frozenOffset){\n\t\t\t\tcolumn.modules.resize.handleEl.style.left = frozenOffset;\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.element.after(column.modules.resize.handleEl);\n\t\t}\n\t}\n\t\n\tinitializeColumn(type, component, column, element){\n\t\tvar self = this,\n\t\tvariableHeight = false,\n\t\tmode = column.definition.resizable,\n\t\tconfig = {},\n\t\tnearestColumn = column.getLastColumn();\n\t\t\n\t\t//set column resize mode\n\t\tif(type === \"header\"){\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\t\tconfig = {variableHeight:variableHeight};\n\t\t}\n\t\t\n\t\tif((mode === true || mode == type) && this._checkResizability(nearestColumn)){\n\t\t\t\n\t\t\tvar handle = document.createElement('span');\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\n\t\t\t\n\t\t\thandle.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\tvar handleDown = function(e){\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself.initialNextColumn = self.nextColumn = nearestColumn.nextColumn();\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t};\n\t\t\t\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\t\t\t\n\t\t\t//resize column on  double click\n\t\t\thandle.addEventListener(\"dblclick\", (e) => {\n\t\t\t\tvar oldWidth = nearestColumn.getWidth();\n\t\t\t\t\n\t\t\t\te.stopPropagation();\n\t\t\t\tnearestColumn.reinitializeWidth(true);\n\t\t\t\t\n\t\t\t\tif(oldWidth !== nearestColumn.getWidth()){\n\t\t\t\t\tself.dispatch(\"column-resized\", nearestColumn);\n\t\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", nearestColumn.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(column.modules.frozen){\n\t\t\t\thandle.style.position = \"absolute\";\n\t\t\t\thandle.style.left = column.modules.frozen.marginValue + column.getWidth() + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tconfig.handleEl = handle;\n\t\t\t\n\t\t\tif(element.parentNode){\n\t\t\t\telement.after(handle);\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponent.modules.resize = config;\n\t}\n\t\n\tdeInitializeColumn(column){\n\t\tthis.deInitializeComponent(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tthis.deInitializeComponent(cell);\n\t\t});\n\t}\n\t\n\tdeInitializeComponent(component){\n\t\tvar handleEl;\n\t\t\n\t\tif(component.modules.resize){\n\t\t\thandleEl = component.modules.resize.handleEl;\n\t\t\t\n\t\t\tif(handleEl && handleEl.parentElement){\n\t\t\t\thandleEl.parentElement.removeChild(handleEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tresizeHandle(component, height){\n\t\tif(component.modules.resize && component.modules.resize.handleEl){\n\t\t\tcomponent.modules.resize.handleEl.style.height = height;\n\t\t}\n\t}\n\t\n\t_checkResizability(column){\n\t\treturn column.definition.resizable;\n\t}\n\t\n\t_mouseDown(e, column, handle){\n\t\tvar self = this;\n\t\t\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tfunction mouseMove(e){\n\t\t\tvar x = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX,\n\t\t\tstartDiff = x - self.startX,\n\t\t\tmoveDiff = x - self.latestX,\n\t\t\tblockedBefore, blockedAfter;\n\t\t\t\n\t\t\tself.latestX = x;\n\t\t\t\n\t\t\tif(self.table.rtl){\n\t\t\t\tstartDiff = -startDiff;\n\t\t\t\tmoveDiff = -moveDiff;\n\t\t\t}\n\t\t\t\n\t\t\tblockedBefore = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tcolumn.setWidth(self.startWidth + startDiff);\n\t\t\t\n\t\t\tblockedAfter = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tif(moveDiff < 0){\n\t\t\t\tself.nextColumn = self.initialNextColumn;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.options.resizableColumnFit && self.nextColumn && !(blockedBefore && blockedAfter)){\n\t\t\t\tlet colWidth = self.nextColumn.getWidth();\n\t\t\t\t\n\t\t\t\tif(moveDiff > 0){\n\t\t\t\t\tif(colWidth <= self.nextColumn.minWidth){\n\t\t\t\t\t\tself.nextColumn = self.nextColumn.nextColumn();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(self.nextColumn){\n\t\t\t\t\tself.nextColumn.setWidth(self.nextColumn.getWidth() - moveDiff);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.table.columnManager.renderer.rerenderColumns(true);\n\t\t\t\n\t\t\tif(!self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction mouseUp(e){\n\t\t\t\n\t\t\t//block editor from taking action while resizing is taking place\n\t\t\tif(self.startColumn.modules.edit){\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\t\t\t\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(self.startWidth !== column.getWidth()){\n\t\t\t\tself.dispatch(\"column-resized\", column);\n\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", column.getComponent());\n\t\t\t}\n\t\t}\n\t\t\n\t\te.stopPropagation(); //prevent resize from interfereing with movable columns\n\t\t\n\t\t//block editor from taking action while resizing is taking place\n\t\tif(self.startColumn.modules.edit){\n\t\t\tself.startColumn.modules.edit.blocked = true;\n\t\t}\n\t\t\n\t\tself.startX = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX;\n\t\tself.latestX = self.startX;\n\t\tself.startWidth = column.getWidth();\n\t\t\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeColumns.moduleName = \"resizeColumns\";\n\nexport default ResizeColumns;", "import Module from '../../core/Module.js';\n\nclass ResizeRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.startColumn = false;\n\t\tthis.startY = false;\n\t\tthis.startHeight = false;\n\t\tthis.handle = null;\n\t\tthis.prevHandle = null;\n\n\t\tthis.registerTableOption(\"resizableRows\", false); //resizable rows\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.resizableRows){\n\t\t\tthis.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\trowEl = row.getElement();\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-row-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function(e){\n\t\t\tself.startRow = row;\n\t\t\tself._mouseDown(e, row, handle);\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\n\t\tprevHandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown =  function(e){\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\t\tif(prevRow){\n\t\t\t\tself.startRow = prevRow;\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\",prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\",prevHandleDown, {passive: true});\n\n\t\trowEl.appendChild(handle);\n\t\trowEl.appendChild(prevHandle);\n\t}\n\n\t_mouseDown(e, row, handle){\n\t\tvar self = this;\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\trow.setHeight(self.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - self.startY));\n\t\t}\n\n\t\tfunction mouseUp(e){\n\n\t\t\t// //block editor from taking action while resizing is taking place\n\t\t\t// if(self.startColumn.modules.edit){\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t\t// }\n\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tself.dispatchExternal(\"rowResized\", row.getComponent());\n\t\t}\n\n\t\te.stopPropagation(); //prevent resize from interfereing with movable columns\n\n\t\t//block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = true;\n\t\t// }\n\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\t\tself.startHeight = row.getHeight();\n\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeRows.moduleName = \"resizeRows\";\n\nexport default ResizeRows;", "import Module from '../../core/Module.js';\n\nclass ResizeTable extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.binding = false;\n\t\tthis.observer = false;\n\t\tthis.containerObserver = false;\n\n\t\tthis.tableHeight = 0;\n\t\tthis.tableWidth = 0;\n\t\tthis.containerHeight = 0;\n\t\tthis.containerWidth = 0;\n\n\t\tthis.autoResize = false;\n\n\t\tthis.registerTableOption(\"autoResize\", true); //auto resize table\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.autoResize){\n\t\t\tvar table = this.table,\n\t\t\ttableStyle;\n\n\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\tthis.tableWidth = table.element.clientWidth;\n\n\t\t\tif(table.element.parentNode){\n\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t}\n\n\t\t\tif(typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\"){\n\n\t\t\t\tthis.autoResize = true;\n\n\t\t\t\tthis.observer = new ResizeObserver((entry) => {\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\n\t\t\t\t\t\tif(this.tableHeight != nodeHeight || this.tableWidth != nodeWidth){\n\t\t\t\t\t\t\tthis.tableHeight = nodeHeight;\n\t\t\t\t\t\t\tthis.tableWidth = nodeWidth;\n\n\t\t\t\t\t\t\tif(table.element.parentNode){\n\t\t\t\t\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.table.columnManager.renderer.rerenderColumns(true);\n\n\t\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.observer.observe(table.element);\n\n\t\t\t\ttableStyle = window.getComputedStyle(table.element);\n\n\t\t\t\tif(this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))){\n\n\t\t\t\t\tthis.containerObserver = new ResizeObserver((entry) => {\n\t\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\n\t\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\n\t\t\t\t\t\t\tif(this.containerHeight != nodeHeight || this.containerWidth != nodeWidth){\n\t\t\t\t\t\t\t\tthis.containerHeight = nodeHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = nodeWidth;\n\t\t\t\t\t\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttable.columnManager.renderer.rerenderColumns(true);\n\n\t\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t\t\t}\n\n\t\t\t\tthis.subscribe(\"table-resize\", this.tableResized.bind(this));\n\n\t\t\t}else{\n\t\t\t\tthis.binding = function(){\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && !table.modules.edit.currentCell)){\n\n\t\t\t\t\t\ttable.columnManager.renderer.rerenderColumns(true);\n\n\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\twindow.addEventListener(\"resize\", this.binding);\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t\t}\n\t}\n\n\ttableResized(){\n\t\tthis.table.rowManager.redraw();\n\t}\n\n\tclearBindings(){\n\t\tif(this.binding){\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\n\t\t}\n\n\t\tif(this.observer){\n\t\t\tthis.observer.unobserve(this.table.element);\n\t\t}\n\n\t\tif(this.containerObserver){\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t\t}\n\t}\n}\n\nResizeTable.moduleName = \"resizeTable\";\n\nexport default ResizeTable;", "import Module from '../../core/Module.js';\n\nclass ResponsiveLayout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.columns = [];\n\t\tthis.hiddenColumns = [];\n\t\tthis.mode = \"\";\n\t\tthis.index = 0;\n\t\tthis.collapseFormatter = [];\n\t\tthis.collapseStartOpen = true;\n\t\tthis.collapseHandleColumn = false;\n\n\t\tthis.registerTableOption(\"responsiveLayout\", false); //responsive layout flags\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\", true); //start showing collapsed data\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", true); //responsive layout collapse formatter\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseFormatter\", false); //responsive layout collapse formatter\n\n\t\tthis.registerColumnOption(\"responsive\");\n\t}\n\n\t//generate responsive columns list\n\tinitialize(){\n\t\tvar self = this,\n\t\tcolumns = [];\n\n\t\tif(this.table.options.responsiveLayout){\n\t\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-add\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-delete\", this.initializeResponsivity.bind(this));\n\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedraw.bind(this));\n\n\t\t\tif(this.table.options.responsiveLayout === \"collapse\"){\n                this.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this));\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-layout\", this.layoutRow.bind(this));\n\t\t\t}\n\t\t\tif(this.table.options.responsiveLayout === \"flexCollapse\"){\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-responsive-toggled\", this.toggleFlexRow.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif([\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) === -1){\n\t\t\tif(!force){\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeResponsivity(){\n\t\tvar columns = [];\n\n\t\tthis.mode = this.table.options.responsiveLayout;\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\t\tthis.hiddenColumns = [];\n\n\t\t//determine level of responsivity for each column\n\t\tthis.table.columnManager.columnsByIndex.forEach((column, i) => {\n\t\t\tif(column.modules.responsive){\n\t\t\t\tif(column.modules.responsive.order && column.modules.responsive.visible){\n\t\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\t\tcolumns.push(column);\n\n\t\t\t\t\tif(!column.visible && (this.mode === \"collapse\" || this.mode === \"flexCollapse\")){\n\t\t\t\t\t\tthis.hiddenColumns.push(column);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//sort list by responsivity\n\t\tcolumns = columns.reverse();\n\t\tcolumns = columns.sort((a, b) => {\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\t\treturn diff || (b.modules.responsive.index - a.modules.responsive.index);\n\t\t});\n\n\t\tthis.columns = columns;\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.generateCollapsedContent();\n\t\t}\n\n\t\t//assign collapse column\n\t\tfor (let col of this.table.columnManager.columnsByIndex){\n\t\t\tif(col.definition.formatter == \"responsiveCollapse\"){\n\t\t\t\tthis.collapseHandleColumn = col;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.collapseHandleColumn){\n\t\t\tif(this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}else{\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//define layout information\n\tinitializeColumn(column){\n\t\tvar def = column.getDefinition();\n\n\t\tcolumn.modules.responsive = {order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible:def.visible === false ? false : true};\n\t}\n\n    toggleFlexRow(row, isOpen){\n        if(isOpen){\n            row.getElement().classList.add(\"tabulator-responsive-flex-open\");\n            row.getCells().forEach(function(cell) {\n                var el = cell.getElement();\n                if(el.style.display === \"none\") {\n                    el.style.display = 'block';\n                    el.style.width = \"100%\";\n                    el.dataset.label = cell.getColumn().getDefinition().title;\n                    el.classList.add(\"tabulator-responsive-flex-cell\");\n                }\n            });\n        }\n        else {\n            row.getElement().classList.remove(\"tabulator-responsive-flex-open\");\n            row.getCells().forEach(function(cell) {\n                var el = cell.getElement();\n                if(!el.classList.contains(\"tabulator-responsive-flex-cell\")){\n                    return;\n                }\n                el.style.display = 'none';\n                el.classList.remove(\"tabulator-responsive-flex-cell\");\n            });\n        }\n    }\n\n\tinitializeRow(row){\n\t\tvar el;\n\n\t\tif(row.type !== \"calc\"){\n            if(this.table.options.responsiveLayout === \"collapse\"){\n                el = document.createElement(\"div\");\n                el.classList.add(\"tabulator-responsive-collapse\");\n            }\n\n\t\t\trow.modules.responsiveLayout = {\n\t\t\t\telement:el,\n\t\t\t\topen:this.collapseStartOpen,\n\t\t\t};\n\n\t\t\tif(this.collapseStartOpen){\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tlayoutRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t}\n\t}\n\n\t//update column visibility\n\tupdateColumnVisibility(column, responsiveToggle){\n\t\tif(!responsiveToggle && column.modules.responsive){\n\t\t\tcolumn.modules.responsive.visible = column.visible;\n\t\t\tthis.initializeResponsivity();\n\t\t}\n\t}\n\n\thideColumn(column){\n\t\tvar colCount = this.hiddenColumns.length;\n\n\t\tcolumn.hide(false, true);\n\n\t\tif(this.mode === \"collapse\" || this.mode === \"flexCollapse\"){\n\t\t\tthis.hiddenColumns.unshift(column);\n            if(this.mode === \"collapse\"){\n                this.generateCollapsedContent();\n            }\n\n\t\t\tif(this.collapseHandleColumn && !colCount){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tshowColumn(column){\n\t\tvar index;\n\n\t\tcolumn.show(false, true);\n\t\t//set column width to prevent calculation loops on uninitialized columns\n\t\tcolumn.setWidth(column.getWidth());\n\n\t\tif(this.mode === \"collapse\" || this.mode === \"flexCollapse\"){\n\t\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t\t}\n\n            if(this.mode === \"collapse\"){\n                this.generateCollapsedContent();\n            }\n            if(this.mode === \"flexCollapse\"){\n                column.getCells().forEach(function(cell) {\n                    var el = cell.getElement();\n                    el.classList.remove(\"tabulator-responsive-flex-cell\");\n                });\n            }\n\n\t\t\tif(this.collapseHandleColumn && !this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//redraw columns to fit space\n\tupdate(){\n\t\tvar self = this,\n\t\tworking = true;\n\n\t\twhile(working){\n\n\t\t\tlet width = self.table.modules.layout.getMode() == \"fitColumns\" ? self.table.columnManager.getFlexBaseWidth() : self.table.columnManager.getWidth();\n\n\t\t\tlet diff = (self.table.options.headerVisible ? self.table.columnManager.element.clientWidth : self.table.element.clientWidth) - width;\n\n\t\t\tif(diff < 0){\n\t\t\t\t//table is too wide\n\t\t\t\tlet column = self.columns[self.index];\n\n\t\t\t\tif(column){\n\t\t\t\t\tself.hideColumn(column);\n\t\t\t\t\tself.index ++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else{\n\n\t\t\t\t//table has spare space\n\t\t\t\tlet column = self.columns[self.index -1];\n\n\t\t\t\tif(column){\n\t\t\t\t\tif(diff > 0){\n\t\t\t\t\t\tif(diff >= column.getWidth()){\n\t\t\t\t\t\t\tself.showColumn(column);\n\t\t\t\t\t\t\tself.index --;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tworking = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!self.table.rowManager.activeRowsCount){\n\t\t\t\tself.table.rowManager.renderEmptyScroll();\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedContent(){\n\t\tvar self = this,\n\t\trows = this.table.rowManager.getDisplayRows();\n\n\t\trows.forEach(function(row){\n\t\t\tself.generateCollapsedRowContent(row);\n\t\t});\n\t}\n\n\tgenerateCollapsedRowContent(row){\n\t\tvar el, contents;\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\tel = row.modules.responsiveLayout.element;\n            if(!el){\n                return;\n            }\n\n\t\t\twhile(el.firstChild) el.removeChild(el.firstChild);\n\n\t\t\tcontents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\t\tif(contents){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedRowData(row){\n\t\tvar self = this,\n\t\tdata = row.getData(),\n\t\toutput = [],\n\t\tmockCellComponent;\n\n\t\tthis.hiddenColumns.forEach(function(column){\n\t\t\tvar value = column.getFieldValue(data);\n\n\t\t\tif(column.definition.title && column.field){\n\t\t\t\tif(column.modules.format && self.table.options.responsiveLayoutCollapseUseFormatters){\n\n\t\t\t\t\tmockCellComponent = {\n\t\t\t\t\t\tvalue:false,\n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction onRendered(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(self.table.modules.format, mockCellComponent, column.modules.format.params, onRendered)\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tformatCollapsedData(data){\n\t\tvar list = document.createElement(\"table\");\n\n\t\tdata.forEach(function(item){\n\t\t\tvar row = document.createElement(\"tr\");\n\t\t\tvar titleData = document.createElement(\"td\");\n\t\t\tvar valueData = document.createElement(\"td\");\n\t\t\tvar node_content;\n\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\n\t\t\ttitleData.appendChild(titleHighlight);\n\t\t\tthis.langBind(\"columns|\" + item.field, function(text){\n\t\t\t\ttitleHighlight.innerHTML = text || item.title;\n\t\t\t});\n\n\t\t\tif(item.value instanceof Node){\n\t\t\t\tnode_content = document.createElement(\"div\");\n\t\t\t\tnode_content.appendChild(item.value);\n\t\t\t\tvalueData.appendChild(node_content);\n\t\t\t}else{\n\t\t\t\tvalueData.innerHTML = item.value;\n\t\t\t}\n\n\t\t\trow.appendChild(titleData);\n\t\t\trow.appendChild(valueData);\n\t\t\tlist.appendChild(row);\n\t\t}, this);\n\n\t\treturn Object.keys(data).length ? list : \"\";\n\t}\n}\n\nResponsiveLayout.moduleName = \"responsiveLayout\";\n\nexport default ResponsiveLayout;\n", "import Module from '../../core/Module.js';\n\nclass SelectRow extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = false; //flag selecting in progress\n\t\tthis.lastClickedRow = false; //last clicked row\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\t\tthis.selectedRows = []; //hold selected rows\n\t\tthis.headerCheckboxElement = null; // hold header select element\n\t\t\n\t\tthis.registerTableOption(\"selectable\", \"highlight\"); //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRangeMode\", \"drag\");  //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRollingSelection\", true); //roll selection once maximum number of selectable rows is reached\n\t\tthis.registerTableOption(\"selectablePersistence\", true); // maintain selection when table view is updated\n\t\tthis.registerTableOption(\"selectableCheck\", function(data, row){return true;}); //check wheather row is selectable\n\t\t\n\t\tthis.registerTableFunction(\"selectRow\", this.selectRows.bind(this));\n\t\tthis.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this));\n\t\tthis.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.selectable !== false){\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this));\n\t\t\tthis.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.selectable && !this.table.options.selectablePersistence){\n\t\t\t\tthis.subscribe(\"data-refreshing\", this.deselectRows.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowRetrieve(type, prevValue){\n\t\treturn type === \"selected\" ? this.selectedRows : prevValue;\n\t}\n\t\n\trowDeleted(row){\n\t\tthis._deselectRow(row, true);\n\t}\n\t\n\tclearSelectionData(silent){\n\t\tthis.selecting = false;\n\t\tthis.lastClickedRow = false;\n\t\tthis.selectPrev = [];\n\t\tthis.selectedRows = [];\n\t\t\n\t\tif(silent !== true){\n\t\t\tthis._rowSelectionChanged();\n\t\t}\n\t}\n\t\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\telement = row.getElement();\n\t\t\n\t\t// trigger end of row selection\n\t\tvar endSelect = function(){\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.selecting = false;\n\t\t\t}, 50);\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t\t};\n\t\t\n\t\trow.modules.select = {selected:false};\n\t\t\n\t\t//set row selection class\n\t\tif(self.table.options.selectableCheck.call(this.table, row.getComponent())){\n\t\t\telement.classList.add(\"tabulator-selectable\");\n\t\t\telement.classList.remove(\"tabulator-unselectable\");\n\t\t\t\n\t\t\tif(self.table.options.selectable && self.table.options.selectable != \"highlight\"){\n\t\t\t\tif(self.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\telement.addEventListener(\"click\", this.handleComplexRowClick.bind(this, row));\n\t\t\t\t}else{\n\t\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\t\tif(!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!self.selecting){\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selecting = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selectPrev = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(self.selectPrev[1] == row){\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseout\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\telement.classList.add(\"tabulator-unselectable\");\n\t\t\telement.classList.remove(\"tabulator-selectable\");\n\t\t}\n\t}\n\t\n\thandleComplexRowClick(row, e){\n\t\tif(e.shiftKey){\n\t\t\tthis.table._clearSelection();\n\t\t\tthis.lastClickedRow = this.lastClickedRow || row;\n\t\t\t\n\t\t\tvar lastClickedRowIdx = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);\n\t\t\tvar rowIdx = this.table.rowManager.getDisplayRowIndex(row);\n\t\t\t\n\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\n\t\t\tvar rows = this.table.rowManager.getDisplayRows().slice(0);\n\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\t\t\t\n\t\t\tif(e.ctrlKey || e.metaKey){\n\t\t\t\ttoggledRows.forEach((toggledRow)=>{\n\t\t\t\t\tif(toggledRow !== this.lastClickedRow){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.options.selectable !== true && !this.isRowSelected(row)){\n\t\t\t\t\t\t\tif(this.selectedRows.length < this.table.options.selectable){\n\t\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.lastClickedRow = row;\n\t\t\t}else{\n\t\t\t\tthis.deselectRows(undefined, true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.selectable !== true){\n\t\t\t\t\tif(toggledRows.length > this.table.options.selectable){\n\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, this.table.options.selectable)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectRows(toggledRows);\n\t\t\t}\n\t\t\tthis.table._clearSelection();\n\t\t}\n\t\telse if(e.ctrlKey || e.metaKey){\n\t\t\tthis.toggleRow(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}else{\n\t\t\tthis.deselectRows(undefined, true);\n\t\t\tthis.selectRows(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}\n\t}\n\t\n\t//toggle row selection\n\ttoggleRow(row){\n\t\tif(this.table.options.selectableCheck.call(this.table, row.getComponent())){\n\t\t\tif(row.modules.select && row.modules.select.selected){\n\t\t\t\tthis._deselectRow(row);\n\t\t\t}else{\n\t\t\t\tthis._selectRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//select a number of rows\n\tselectRows(rows){\n\t\tvar rowMatch;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\t\tthis._selectRow(row, true, true);\n\t\t\t});\n\t\t\t\n\t\t\tthis._rowSelectionChanged();\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\n\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\tif(rowMatch){\n\t\t\t\tthis._selectRow(rowMatch, true, true);\n\t\t\t}else{\n\t\t\t\tthis.table.rowManager.getRows(rows).forEach((row) => {\n\t\t\t\t\tthis._selectRow(row, true, true);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis._rowSelectionChanged();\n\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\tif(Array.isArray(rows)){\n\t\t\t\trows.forEach((row) => {\n\t\t\t\t\tthis._selectRow(row, true, true);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged();\n\t\t\t}else{\n\t\t\t\tthis._selectRow(rows, false, true);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\t//select an individual row\n\t_selectRow(rowInfo, silent, force){\n\t\tvar index;\n\t\t\n\t\t//handle max row count\n\t\tif(!isNaN(this.table.options.selectable) && this.table.options.selectable !== true && !force){\n\t\t\tif(this.selectedRows.length >= this.table.options.selectable){\n\t\t\t\tif(this.table.options.selectableRollingSelection){\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\n\t\t\n\t\tif(row){\n\t\t\tif(this.selectedRows.indexOf(row) == -1){\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = true;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectedRows.push(row);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowSelected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged(silent);\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisRowSelected(row){\n\t\treturn this.selectedRows.indexOf(row) !== -1;\n\t}\n\t\n\t//deselect a number of rows\n\tdeselectRows(rows, silent){\n\t\tvar self = this,\n\t\trowCount;\n\t\t\n\t\tif(typeof rows == \"undefined\"){\n\t\t\t\n\t\t\trowCount = self.selectedRows.length;\n\t\t\t\n\t\t\tfor(let i = 0; i < rowCount; i++){\n\t\t\t\tself._deselectRow(self.selectedRows[0], true);\n\t\t\t}\n\t\t\t\n\t\t\tif(rowCount){\n\t\t\t\tself._rowSelectionChanged(silent);\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tif(Array.isArray(rows)){\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tself._deselectRow(row, true);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent);\n\t\t\t}else{\n\t\t\t\tself._deselectRow(rows, silent);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//deselect an individual row\n\t_deselectRow(rowInfo, silent){\n\t\tvar self = this,\n\t\trow = self.table.rowManager.findRow(rowInfo),\n\t\tindex;\n\t\t\n\t\tif(row){\n\t\t\tindex = self.selectedRows.findIndex(function(selectedRow){\n\t\t\t\treturn selectedRow == row;\n\t\t\t});\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\t\n\t\t\t\trow.getElement().classList.remove(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = false;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t\t}\n\t\t\t\tself.selectedRows.splice(index, 1);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowDeselected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent);\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetSelectedData(){\n\t\tvar data = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetSelectedRows(){\n\t\t\n\t\tvar rows = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\trows.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t_rowSelectionChanged(silent){\n\t\tif(this.headerCheckboxElement){\n\t\t\tif(this.selectedRows.length === 0){\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else if(this.table.rowManager.rows.length === this.selectedRows.length){\n\t\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!silent){\n\t\t\tthis.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows());\n\t\t}\n\t}\n\t\n\tregisterRowSelectCheckbox (row, element) {\n\t\tif(!row._row.modules.select){\n\t\t\trow._row.modules.select = {};\n\t\t}\n\t\t\n\t\trow._row.modules.select.checkboxEl = element;\n\t}\n\t\n\tregisterHeaderSelectCheckbox (element) {\n\t\tthis.headerCheckboxElement = element;\n\t}\n\t\n\tchildRowSelection(row, select){\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true);\n\t\t\n\t\tif(select){\n\t\t\tfor(let child of children){\n\t\t\t\tthis._selectRow(child, true);\n\t\t\t}\n\t\t}else{\n\t\t\tfor(let child of children){\n\t\t\t\tthis._deselectRow(child, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\nSelectRow.moduleName = \"selectRow\";\n\nexport default SelectRow;", "//sort numbers\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar decimal = params.decimalSeparator;\n\tvar thousand = params.thousandSeparator;\n\tvar emptyAlign = 0;\n\n\ta = String(a);\n\tb = String(b);\n\n\tif(thousand){\n\t\ta = a.split(thousand).join(\"\");\n\t\tb = b.split(thousand).join(\"\");\n\t}\n\n\tif(decimal){\n\t\ta = a.split(decimal).join(\".\");\n\t\tb = b.split(decimal).join(\".\");\n\t}\n\n\ta = parseFloat(a);\n\tb = parseFloat(b);\n\n\t//handle non numeric values\n\tif(isNaN(a)){\n\t\temptyAlign =  isNaN(b) ? 0 : -1;\n\t}else if(isNaN(b)){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\treturn a - b;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n};", "//sort strings\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\tvar locale;\n\n\t//handle empty values\n\tif(!a){\n\t\temptyAlign =  !b ? 0 : -1;\n\t}else if(!b){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\tswitch(typeof params.locale){\n\t\t\tcase \"boolean\":\n\t\t\tif(params.locale){\n\t\t\t\tlocale = this.langLocale();\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\tlocale = params.locale;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n};", "//sort datetime\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar format = params.format || \"dd/MM/yyyy HH:mm:ss\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tif(typeof DT != \"undefined\"){\n\t\tif(DT.isDateTime(a)){\n\t\t\t a = a;\n\t\t}else if(format === \"iso\"){\n\t\t\t a = DT.fromISO(String(a));\n\t\t}else{\n\t\t\t a = DT.fromFormat(String(a), format);\n\t\t}\n\n\t\tif(DT.isDateTime(b)){\n\t\t\t b = b;\n\t\t}else if(format === \"iso\"){\n\t\t\t b = DT.fromISO(String(b));\n\t\t}else{\n\t\t\t b = DT.fromFormat(String(b), format);\n\t\t}\n\n\t\tif(!a.isValid){\n\t\t\temptyAlign = !b.isValid ? 0 : -1;\n\t\t}else if(!b.isValid){\n\t\t\temptyAlign =  1;\n\t\t}else{\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\n\t}else{\n\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n\t}\n};", "import datetime from './datetime.js';\n\n//sort date\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"dd/MM/yyyy\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n};", "import datetime from './datetime.js';\n\n//sort times\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"HH:mm\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n};", "//sort booleans\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\treturn el1 - el2;\n};", "//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = 0;\n\tvar el2 = 0;\n\tvar type = params.type || \"length\";\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\tfunction calc(value){\n\n\t\tswitch(type){\n\t\t\tcase \"length\":\n\t\t\treturn value.length;\n\t\t\tbreak;\n\n\t\t\tcase \"sum\":\n\t\t\treturn value.reduce(function(c, d){\n\t\t\t\treturn c + d;\n\t\t\t});\n\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\t\t\treturn Math.max.apply(null, value) ;\n\t\t\tbreak;\n\n\t\t\tcase \"min\":\n\t\t\treturn Math.min.apply(null, value) ;\n\t\t\tbreak;\n\n\t\t\tcase \"avg\":\n\t\t\treturn value.reduce(function(c, d){\n\t\t\t\treturn c + d;\n\t\t\t}) / value.length;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//handle non array values\n\tif(!Array.isArray(a)){\n\t\talignEmptyValues = !Array.isArray(b) ? 0 : -1;\n\t}else if(!Array.isArray(b)){\n\t\talignEmptyValues = 1;\n\t}else{\n\n\t\t//compare valid values\n\t\tel1 = a ? calc(a) : 0;\n\t\tel2 = b ? calc(b) : 0;\n\n\t\treturn el1 - el2;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n};", "//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\treturn el1 - el2;\n};", "//sort alpha numeric strings\nexport default function(as, bs, aRow, bRow, column, dir, params){\n\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\t//handle empty values\n\tif(!as && as!== 0){\n\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t}else if(!bs && bs!== 0){\n\t\temptyAlign =  1;\n\t}else{\n\n\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\ta = String(as).toLowerCase();\n\t\tb = String(bs).toLowerCase();\n\t\tif(a === b) return 0;\n\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\ta = a.match(rx);\n\t\tb = b.match(rx);\n\t\tL = a.length > b.length ? b.length : a.length;\n\t\twhile(i < L){\n\t\t\ta1= a[i];\n\t\t\tb1= b[i++];\n\t\t\tif(a1 !== b1){\n\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\treturn a1 - b1;\n\t\t\t\t}\n\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t}\n\t\t}\n\n\t\treturn a.length > b.length;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n};", "import number from './sorters/number.js';\nimport string from './sorters/string.js';\nimport date from './sorters/date.js';\nimport time from './sorters/time.js';\nimport datetime from './sorters/datetime.js';\nimport boolean from './sorters/boolean.js';\nimport array from './sorters/array.js';\nimport exists from './sorters/exists.js';\nimport alphanum from './sorters/alphanum.js';\n\nexport default {\n\tnumber:number,\n\tstring:string,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tboolean:boolean,\n\tarray:array,\n\texists:exists,\n\talphanum:alphanum\n};", "import Module from '../../core/Module.js';\n\nimport defaultSorters from './defaults/sorters.js';\n\nclass Sort extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t \tthis.sortList = []; //holder current sort\n\t \tthis.changed = false; //has the sort changed since last render\n\n\t \tthis.registerTableOption(\"sortMode\", \"local\"); //local or remote sorting\n\n\t \tthis.registerTableOption(\"initialSort\", false); //initial sorting criteria\n\t \tthis.registerTableOption(\"columnHeaderSortMulti\", true); //multiple or single column sorting\n\t \tthis.registerTableOption(\"sortOrderReverse\", false); //reverse internal sort ordering\n\t \tthis.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"); //header sort element\n\n\t \tthis.registerColumnOption(\"sorter\");\n\t \tthis.registerColumnOption(\"sorterParams\");\n\n\t \tthis.registerColumnOption(\"headerSort\", true);\n\t \tthis.registerColumnOption(\"headerSortStartingDir\");\n\t \tthis.registerColumnOption(\"headerSortTristate\");\n\n\t }\n\n\t initialize(){\n\t \tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t \tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t \tthis.registerDataHandler(this.sort.bind(this), 20);\n\n\t \tthis.registerTableFunction(\"setSort\", this.userSetSort.bind(this));\n\t \tthis.registerTableFunction(\"getSorters\", this.getSort.bind(this));\n\t \tthis.registerTableFunction(\"clearSort\", this.clearSort.bind(this));\n\n\t \tif(this.table.options.sortMode === \"remote\"){\n\t \t\tthis.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n\t \t}\n\t }\n\n\t tableBuilt(){\n\t \tif(this.table.options.initialSort){\n\t \t\tthis.setSort(this.table.options.initialSort);\n\t \t}\n\t }\n\n\t remoteSortParams(data, config, silent, params){\n\t \tvar sorters = this.getSort();\n\n\t \tsorters.forEach((item) => {\n\t \t\tdelete item.column;\n\t \t});\n\n\t \tparams.sort = sorters;\n\n\t \treturn params;\n\t }\n\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tuserSetSort(sortList, dir){\n\t\tthis.setSort(sortList, dir);\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\tclearSort(){\n\t\tthis.clear();\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//initialize column header for sorting\n\tinitializeColumn(column){\n\t\tvar sorter = false,\n\t\tcolEl,\n\t\tarrowEl;\n\n\t\tswitch(typeof column.definition.sorter){\n\t\t\tcase \"string\":\n\t\t\tif(Sort.sorters[column.definition.sorter]){\n\t\t\t\tsorter = Sort.sorters[column.definition.sorter];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\tsorter = column.definition.sorter;\n\t\t\tbreak;\n\t\t}\n\n\t\tcolumn.modules.sort = {\n\t\t\tsorter:sorter, dir:\"none\",\n\t\t\tparams:column.definition.sorterParams || {},\n\t\t\tstartingDir:column.definition.headerSortStartingDir || \"asc\",\n\t\t\ttristate: column.definition.headerSortTristate,\n\t\t};\n\n\t\tif(column.definition.headerSort !== false){\n\n\t\t\tcolEl = column.getElement();\n\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\n\n\n\t\t\tarrowEl = document.createElement(\"div\");\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\n\t\t\tif(typeof this.table.options.headerSortElement == \"object\"){\n\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t\t}else{\n\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t\t}\n\n\t\t\t//create sorter arrow\n\t\t\tcolumn.titleHolderElement.appendChild(arrowEl);\n\n\t\t\tcolumn.modules.sort.element = arrowEl;\n\n\t\t\t//sort on click\n\t\t\tcolEl.addEventListener(\"click\", (e) => {\n\t\t\t\tvar dir = \"\",\n\t\t\t\tsorters=[],\n\t\t\t\tmatch = false;\n\n\t\t\t\tif(column.modules.sort){\n\t\t\t\t\tif(column.modules.sort.tristate){\n\t\t\t\t\t\tif(column.modules.sort.dir == \"none\"){\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(column.modules.sort.dir == column.modules.sort.startingDir){\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(column.modules.sort.dir){\n\t\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (this.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\t\tsorters = this.getSort();\n\n\t\t\t\t\t\tmatch = sorters.findIndex((sorter) => {\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(match > -1){\n\t\t\t\t\t\t\tsorters[match].dir = dir;\n\n\t\t\t\t\t\t\tif(match != sorters.length -1){\n\t\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push({column:column, dir:dir});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add to existing sort\n\t\t\t\t\t\tthis.setSort(sorters);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(dir == \"none\"){\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\t\tthis.setSort(column, dir);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// this.table.rowManager.sorterRefresh(!this.sortList.length);\n\t\t\t\t\tthis.refreshSort();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trefreshSort(){\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.reloadData(null, false, false);\n\t\t}else{\n\t\t\tthis.refreshData(true);\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the sorters have changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//return current sorters\n\tgetSort(){\n\t\tvar self = this,\n\t\tsorters = [];\n\n\t\tself.sortList.forEach(function(item){\n\t\t\tif(item.column){\n\t\t\t\tsorters.push({column:item.column.getComponent(), field:item.column.getField(), dir:item.dir});\n\t\t\t}\n\t\t});\n\n\t\treturn sorters;\n\t}\n\n\t//change sort list and trigger sort\n\tsetSort(sortList, dir){\n\t\tvar self = this,\n\t\tnewSortList = [];\n\n\t\tif(!Array.isArray(sortList)){\n\t\t\tsortList = [{column: sortList, dir:dir}];\n\t\t}\n\n\t\tsortList.forEach(function(item){\n\t\t\tvar column;\n\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\n\t\t\tif(column){\n\t\t\t\titem.column = column;\n\t\t\t\tnewSortList.push(item);\n\t\t\t\tself.changed = true;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t\t}\n\n\t\t});\n\n\t\tself.sortList = newSortList;\n\n\t\tthis.dispatch(\"sort-changed\");\n\t}\n\n\t//clear sorters\n\tclear(){\n\t\tthis.setSort([]);\n\t}\n\n\t//find appropriate sorter for column\n\tfindSorter(column){\n\t\tvar row = this.table.rowManager.activeRows[0],\n\t\tsorter = \"string\",\n\t\tfield, value;\n\n\t\tif(row){\n\t\t\trow = row.getData();\n\t\t\tfield = column.getField();\n\n\t\t\tif(field){\n\n\t\t\t\tvalue = column.getFieldValue(row);\n\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Sort.sorters[sorter];\n\t}\n\n\t//work through sort list sorting data\n\tsort(data){\n\t\tvar self = this,\n\t\tsortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t\tsortListActual = [],\n\t\trowComponents = [],\n\t\tlastSort;\n\n\t\tif(this.subscribedExternal(\"dataSorting\")){\n\t\t\tthis.dispatchExternal(\"dataSorting\", self.getSort());\n\t\t}\n\n\t\tself.clearColumnHeaders();\n\n\t\tif(this.table.options.sortMode !== \"remote\"){\n\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tvar sortObj = item.column.modules.sort;\n\n\t\t\t\tif(item.column && sortObj){\n\n\t\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\t\tif(!sortObj.sorter){\n\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\n\t\t\t\t\tsortListActual.push(item);\n\t\t\t\t}\n\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\n\t\t\t//sort data\n\t\t\tif (sortListActual.length) {\n\t\t\t\tself._sortItems(data, sortListActual);\n\t\t\t}\n\n\t\t}else{\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataSorted\")){\n\t\t\tdata.forEach((row) => {\n\t\t\t\trowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataSorted\", self.getSort(), rowComponents);\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//clear sort arrows on columns\n\tclearColumnHeaders(){\n\t\tthis.table.columnManager.getRealColumns().forEach(function(column){\n\t\t\tif(column.modules.sort){\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t\t}\n\t\t});\n\t}\n\n\t//set the column header sort direction\n\tsetColumnHeader(column, dir){\n\t\tcolumn.modules.sort.dir = dir;\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir);\n\t}\n\n\t//sort each item in sort list\n\t_sortItems(data, sortList){\n\t\tvar sorterCount = sortList.length - 1;\n\n\t\tdata.sort((a, b) => {\n\t\t\tvar result;\n\n\t\t\tfor(var i = sorterCount; i>= 0; i--){\n\t\t\t\tlet sortItem = sortList[i];\n\n\t\t\t\tresult = this._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\n\t\t\t\tif(result !== 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\t//process individual rows for a sort function on active data\n\t_sortRow(a, b, column, dir, params){\n\t\tvar el1Comp, el2Comp, colComp;\n\n\t\t//switch elements depending on search direction\n\t\tvar el1 = dir == \"asc\" ? a : b;\n\t\tvar el2 = dir == \"asc\" ? b : a;\n\n\t\ta = column.getFieldValue(el1.getData());\n\t\tb = column.getFieldValue(el2.getData());\n\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\n\n\t\tel1Comp = el1.getComponent();\n\t\tel2Comp = el2.getComponent();\n\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n\t}\n}\n\nSort.moduleName = \"sort\";\n\n//load defaults\nSort.sorters = defaultSorters;\n\nexport default Sort;", "import Module from '../../core/Module.js';\nimport Cell from '../../core/cell/Cell.js';\n\nclass Tooltip extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.tooltipSubscriber = null,\n\t\tthis.headerSubscriber = null,\n\t\t\n\t\tthis.timeout = null;\n\t\tthis.popupInstance = null;\n\t\t\n\t\tthis.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\n\t\tthis.registerTableOption(\"tooltipDelay\", 300); \n\t\t\n\t\tthis.registerColumnOption(\"tooltip\");\n\t\tthis.registerColumnOption(\"headerTooltip\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecationCheck();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecationCheck(){\n\t\tif(typeof this.table.options.tooltipGenerationMode !== \"undefined\"){\n\t\t\tconsole.warn(\"Use of the tooltipGenerationMode option is now deprecated. This option is no longer needed as tooltips are always generated on hover now\");\n\t\t}\n\t}\t\n\t\n\tinitializeColumn(column){\n\t\tif(column.definition.headerTooltip && !this.headerSubscriber){\n\t\t\tthis.headerSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\"));\n\t\t\tthis.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"));\n\t\t}\n\t\t\n\t\tif(column.definition.tooltip && !this.tooltipSubscriber){\n\t\t\tthis.tooltipSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\"));\n\t\t\tthis.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\"));\n\t\t}\n\t}\n\t\n\tmousemoveCheck(action, e, component){\n\t\tvar tooltip = action === \"tooltip\" ? component.column.definition.tooltip : component.definition.headerTooltip;\n\t\t\n\t\tif(tooltip){\n\t\t\tthis.clearPopup();\n\t\t\tthis.timeout = setTimeout(this.loadTooltip.bind(this, e, component, tooltip), this.table.options.tooltipDelay);\n\t\t}\n\t}\n\n\tmouseoutCheck(action, e, component){\n\t\tif(!this.popupInstance){\n\t\t\tthis.clearPopup();\n\t\t}\n\t}\n\t\n\tclearPopup(action, e, component){\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = null;\n\t\t\n\t\tif(this.popupInstance){\n\t\t\tthis.popupInstance.hide();\n\t\t}\n\t}\n\t\n\tloadTooltip(e, component, tooltip){\n\t\tvar contentsEl, renderedCallback, coords;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(typeof tooltip === \"function\"){\n\t\t\ttooltip = tooltip(e, component.getComponent(), onRendered);\n\t\t}\n\t\t\n\t\tif(tooltip instanceof HTMLElement){\n\t\t\tcontentsEl = tooltip;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\t\n\t\t\tif(tooltip === true){\n\t\t\t\tif(component instanceof Cell){\n\t\t\t\t\ttooltip = component.value;\n\t\t\t\t}else{\n\t\t\t\t\tif(component.definition.field){\n\t\t\t\t\t\tthis.langBind(\"columns|\" + component.definition.field, (value) => {\n\t\t\t\t\t\t\tcontentsEl.innerHTML = tooltip = value || component.definition.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttooltip = component.definition.title;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcontentsEl.innerHTML = tooltip;\n\t\t}\n\t\t\n\t\tif(tooltip || tooltip === 0 || tooltip === \"0\" || tooltip === false){\n\t\t\tcontentsEl.classList.add(\"tabulator-tooltip\");\n\n\t\t\tcontentsEl.addEventListener(\"mousemove\", e => e.preventDefault())\n\t\t\t\n\t\t\tthis.popupInstance = this.popup(contentsEl);\n\t\t\t\n\t\t\tif(typeof renderedCallback === \"function\"){\n\t\t\t\tthis.popupInstance.renderCallback(renderedCallback);\n\t\t\t}\n\n\t\t\tcoords = this.popupInstance.containerEventCoords(e);\n\t\t\t\n\t\t\tthis.popupInstance.show(coords.x + 15, coords.y + 15).hideOnBlur(() => {\n\t\t\t\tthis.dispatchExternal(\"TooltipClosed\", component.getComponent());\n\t\t\t\tthis.popupInstance = null;\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"TooltipOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nTooltip.moduleName = \"tooltip\";\n\nexport default Tooltip;\n", "export default {\n\t//is integer\n\tinteger: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvalue = Number(value);\n\t\treturn typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvalue = Number(value);\n\t\treturn typeof value === 'number' && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//maximum value\n\tmax: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\n\t//minimum string length\n\tminLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tif(typeof parameters == \"string\"){\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn value === \"\" || parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function(row){\n\t\t\tvar data = row.getData();\n\n\t\t\tif(data !== cellData){\n\t\t\t\tif(value == column.getFieldValue(data)){\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired:function(cell, value, parameters){\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t},\n};", "import Module from '../../core/Module.js';\n\nimport defaultValidators from './defaults/validators.js';\n\nclass Validate extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.invalidCells = [];\n\t\t\n\t\tthis.registerTableOption(\"validationMode\", \"blocking\");\n\t\t\n\t\tthis.registerColumnOption(\"validator\");\n\t\t\n\t\tthis.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this));\n\t\tthis.registerTableFunction(\"validate\", this.userValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n\t}\n\t\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-delete\", this.clearValidation.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-success\", this.editValidate.bind(this));\n\t\tthis.subscribe(\"edit-editor-clear\", this.editorClear.bind(this));\n\t\tthis.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Event Handling //////////\n\t///////////////////////////////////\n\t\n\teditValidate(cell, value, previousValue){\n\t\tvar valid = this.table.options.validationMode !== \"manual\" ? this.validate(cell.column.modules.validate, cell, value) : true;\n\t\t\n\t\t// allow time for editor to make render changes then style cell\n\t\tif(valid !== true){\n\t\t\tsetTimeout(() => {\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t\tthis.dispatchExternal(\"validationFailed\", cell.getComponent(), value, valid);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn valid;\n\t}\n\t\n\teditorClear(cell, cancelled){\n\t\tif(cancelled){\n\t\t\tif(cell.column.modules.validate){\n\t\t\t\tthis.cellValidate(cell);\n\t\t\t}\n\t\t}\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t}\n\t\n\teditedClear(cell){\n\t\tif(cell.modules.validate){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Cell Functions /////////\n\t///////////////////////////////////\n\t\n\tcellIsValid(cell){\n\t\treturn cell.modules.validate ? (cell.modules.validate.invalid || true) : true;\n\t}\n\t\n\tcellValidate(cell){\n\t\treturn this.validate(cell.column.modules.validate, cell, cell.getValue());\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Column Functions ////////\n\t///////////////////////////////////\n\t\n\tcolumnValidate(column){\n\t\tvar invalid = [];\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Row Functions //////////\n\t///////////////////////////////////\n\t\n\trowValidate(row){\n\t\tvar invalid = [];\n\t\t\n\t\trow.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\tuserClearCellValidation(cells){\n\t\tif(!cells){\n\t\t\tcells = this.getInvalidCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.clearValidation(cell._getSelf());\n\t\t});\n\t}\n\t\n\tuserValidate(cells){\n\t\tvar output = [];\n\t\t\n\t\t//clear row data\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trow = row.getComponent();\n\t\t\t\n\t\t\tvar valid = row.validate();\n\t\t\t\n\t\t\tif(valid !== true){\n\t\t\t\toutput = output.concat(valid);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output.length ? output : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.validator !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//validate\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = [],\n\t\tvalidator;\n\t\t\n\t\tif(column.definition.validator){\n\t\t\t\n\t\t\tif(Array.isArray(column.definition.validator)){\n\t\t\t\tcolumn.definition.validator.forEach((item) => {\n\t\t\t\t\tvalidator = self._extractValidator(item);\n\t\t\t\t\t\n\t\t\t\t\tif(validator){\n\t\t\t\t\t\tconfig.push(validator);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\t\t\t\t\n\t\t\t\tif(validator){\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.validate = config.length ? config : false;\n\t\t}\n\t}\n\t\n\t_extractValidator(value){\n\t\tvar type, params, pos;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\tpos = value.indexOf(':');\n\t\t\t\n\t\t\tif(pos > -1){\n\t\t\t\ttype = value.substring(0,pos);\n\t\t\t\tparams = value.substring(pos+1);\n\t\t\t}else{\n\t\t\t\ttype = value;\n\t\t\t}\n\t\t\t\n\t\t\treturn this._buildValidator(type, params);\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\treturn this._buildValidator(value);\n\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\t_buildValidator(type, params){\n\t\t\n\t\tvar func = typeof type == \"function\" ? type : Validate.validators[type];\n\t\t\n\t\tif(!func){\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn {\n\t\t\t\ttype:typeof type == \"function\" ? \"function\" : type,\n\t\t\t\tfunc:func,\n\t\t\t\tparams:params,\n\t\t\t};\n\t\t}\n\t}\n\t\n\tvalidate(validators, cell, value){\n\t\tvar self = this,\n\t\tfailedValidators = [],\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\n\t\tif(validators){\n\t\t\tvalidators.forEach((item) => {\n\t\t\t\tif(!item.func.call(self, cell.getComponent(), value, item.params)){\n\t\t\t\t\tfailedValidators.push({\n\t\t\t\t\t\ttype:item.type,\n\t\t\t\t\t\tparameters:item.params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(!cell.modules.validate){\n\t\t\tcell.modules.validate = {};\n\t\t}\n\t\t\n\t\tif(!failedValidators.length){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}else{\n\t\t\tcell.modules.validate.invalid = failedValidators;\n\t\t\t\n\t\t\tif(this.table.options.validationMode !== \"manual\"){\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t}\n\t\t\t\n\t\t\tif(invalidIndex == -1){\n\t\t\t\tthis.invalidCells.push(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn failedValidators.length ? failedValidators : true;\n\t}\n\t\n\tgetInvalidCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.invalidCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearValidation(cell){\n\t\tvar invalidIndex;\n\t\t\n\t\tif(cell.modules.validate && cell.modules.validate.invalid){\n\t\t\t\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\t\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nValidate.moduleName = \"validate\";\n\n//load defaults\nValidate.validators = defaultValidators;\n\nexport default Validate;\n", "//tabulator with all modules installed\nimport {default as Tabulator} from './Tabulator.js';\nimport * as modules from '../core/modules/optional.js';\nimport ModuleBinder from './tools/ModuleBinder.js';\n\nclass TabulatorFull extends Tabulator {};\n\n//bind modules and static functionality\nnew ModuleBinder(TabulatorFull, modules);\n\nexport default TabulatorFull;", "import TabulatorFull from \"./src/core/TabulatorFull.js\";\n\nwindow[\"Tabulator\"] = TabulatorFull;\n"],
  "mappings": "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",
  "names": []
}
